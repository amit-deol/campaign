<package author="Administrator (admin)" buildDate="2017-01-20 03:12:03.238Z" buildNumber="8705" buildVersion="6.1" img="xtk:installedPackage.png" label="Admin Package" name="campaignAdminPKG" namespace="vt" vendor="">
  <entities schema="nms:country">
    <country iana="af" isoA2="AF" isoA3="AFG" isoNum="4" itu="93" labelDE="Afghanistan" labelEN="Afghanistan" labelFR="Afghanistan" labelISO="AFGHANISTAN"/>
    <country iana="za" isoA2="ZA" isoA3="ZAF" isoNum="710" itu="27" labelDE="Südafrika" labelEN="South Africa" labelFR="Afrique du Sud" labelISO="SOUTH AFRICA" phoneExit="091" phoneFormat="## ### ####"/>
    <country iana="al" isoA2="AL" isoA3="ALB" isoNum="8" itu="355" labelDE="Albanien" labelEN="Albania" labelFR="Albanie" labelISO="ALBANIA"/>
    <country iana="dz" isoA2="DZ" isoA3="DZA" isoNum="12" itu="213" labelDE="Algerien" labelEN="Algeria" labelFR="Algérie" labelISO="ALGERIA"/>
    <country iana="de" isoA2="DE" isoA3="DEU" isoNum="276" itu="49" labelDE="Deutschland" labelEN="Germany" labelFR="Allemagne" labelISO="GERMANY" phoneExit="00" phoneFormat="### #### ####"/>
    <country iana="ad" isoA2="AD" isoA3="AND" isoNum="20" itu="376" labelDE="Andorra" labelEN="Andorra" labelFR="Andorre" labelISO="ANDORRA"/>
    <country iana="ao" isoA2="AO" isoA3="AGO" isoNum="24" itu="244" labelDE="Angola" labelEN="Angola" labelFR="Angola" labelISO="ANGOLA"/>
    <country iana="ai" isoA2="AI" isoA3="AIA" isoNum="660" itu="1264" labelDE="Anguilla" labelEN="Anguilla" labelFR="Anguilla" labelISO="ANGUILLA"/>
    <country iana="aq" isoA2="AQ" isoA3="ATA" isoNum="10" labelDE="Antarktika" labelEN="Antartica" labelFR="Antarctique" labelISO="ANTARCTICA"/>
    <country iana="ag" isoA2="AG" isoA3="ATG" isoNum="28" itu="1268" labelDE="Antigua und Barbuda" labelEN="Antigua and Barbuda" labelFR="Antigua-et-Barbuda" labelISO="ANTIGUA AND BARBUDA"/>
    <country iana="an" isoA2="AN" isoA3="ANT" isoNum="530" itu="599" labelDE="Niederländische Antillen" labelEN="Netherlands Antilles" labelFR="Antilles néerlandaises" labelISO="NETHERLANDS ANTILLES"/>
    <country iana="sa" isoA2="SA" isoA3="SAU" isoNum="682" itu="966" labelDE="Saudi-Arabien" labelEN="Saudi Arabia" labelFR="Arabie saoudite" labelISO="SAUDI ARABIA" phoneExit="00" phoneFormat="# #######"/>
    <country iana="ar" isoA2="AR" isoA3="ARG" isoNum="32" itu="54" labelDE="Argentinien" labelEN="Argentina" labelFR="Argentine" labelISO="ARGENTINA" phoneExit="00" phoneFormat="## #### ####"/>
    <country iana="am" isoA2="AM" isoA3="ARM" isoNum="51" itu="7" labelDE="Armenien" labelEN="Armenia" labelFR="Arménie" labelISO="ARMENIA"/>
    <country iana="aw" isoA2="AW" isoA3="ABW" isoNum="533" itu="297" labelDE="Aruba" labelEN="Aruba" labelFR="Aruba" labelISO="ARUBA"/>
    <country iana="au" isoA2="AU" isoA3="AUS" isoNum="36" itu="61" labelDE="Australien" labelEN="Australia" labelFR="Australie" labelISO="AUSTRALIA" phoneExit="0011" phoneFormat="# #### ####"/>
    <country iana="at" isoA2="AT" isoA3="AUT" isoNum="40" itu="43" labelDE="Österreich" labelEN="Austria" labelFR="Autriche" labelISO="AUSTRIA" phoneExit="00" phoneFormat="# ##### #"/>
    <country iana="az" isoA2="AZ" isoA3="AZE" isoNum="31" itu="994" labelDE="Aserbaidschan" labelEN="Azerbaijan" labelFR="Azerbaïdjan" labelISO="AZERBAIJAN"/>
    <country iana="bs" isoA2="BS" isoA3="BHS" isoNum="44" itu="1242" labelDE="Bahamas" labelEN="Bahamas" labelFR="Bahamas" labelISO="BAHAMAS"/>
    <country iana="bh" isoA2="BH" isoA3="BHR" isoNum="48" itu="973" labelDE="Bahrein" labelEN="Bahrain" labelFR="Bahreïn" labelISO="BAHRAIN"/>
    <country iana="bd" isoA2="BD" isoA3="BGD" isoNum="50" itu="880" labelDE="Bangladesch" labelEN="Bangladesh" labelFR="Bangladesh" labelISO="BANGLADESH" phoneExit="00" phoneFormat="# #######"/>
    <country iana="bb" isoA2="BB" isoA3="BRB" isoNum="52" itu="1246" labelDE="Barbados" labelEN="Barbados" labelFR="Barbade" labelISO="BARBADOS"/>
    <country iana="be" isoA2="BE" isoA3="BEL" isoNum="56" itu="32" labelDE="Belgien" labelEN="Belgium" labelFR="Belgique" labelISO="BELGIUM" phoneExit="00" phoneFormat="4 ## ## ## ##,2 ### ## ##"/>
    <country iana="bz" isoA2="BZ" isoA3="BLZ" isoNum="84" itu="501" labelDE="Belize" labelEN="Belize" labelFR="Belize" labelISO="BELIZE"/>
    <country iana="bj" isoA2="BJ" isoA3="BEN" isoNum="204" itu="229" labelDE="Benin" labelEN="Benin" labelFR="Bénin" labelISO="BENIN"/>
    <country iana="bm" isoA2="BM" isoA3="BMU" isoNum="60" itu="1441" labelDE="Bermuda" labelEN="Bermuda" labelFR="Bermudes" labelISO="BERMUDA"/>
    <country iana="bt" isoA2="BT" isoA3="BTN" isoNum="64" itu="975" labelDE="Bhutan" labelEN="Bhutan" labelFR="Bhoutan" labelISO="BHUTAN"/>
    <country iana="by" isoA2="BY" isoA3="BLR" isoNum="112" itu="375" labelDE="Weißrussland" labelEN="Belarus" labelFR="Biélorussie" labelISO="BELARUS"/>
    <country iana="bo" isoA2="BO" isoA3="BOL" isoNum="68" itu="591" labelDE="Bolivien" labelEN="Bolivia" labelFR="Bolivie" labelISO="BOLIVIA"/>
    <country iana="ba" isoA2="BA" isoA3="BIH" isoNum="70" itu="387" labelDE="Bosnien und Herzegowina" labelEN="Bosnia and Herzegovina" labelFR="Bosnie-Herzégovine" labelISO="BOSNIA AND HERZEGOVINA"/>
    <country iana="bw" isoA2="BW" isoA3="BWA" isoNum="72" itu="267" labelDE="Botswana" labelEN="Botswana" labelFR="Botswana" labelISO="BOTSWANA"/>
    <country iana="br" isoA2="BR" isoA3="BRA" isoNum="76" itu="55" labelDE="Brasilien" labelEN="Brazil" labelFR="Brésil" labelISO="BRAZIL" phoneExit="00" phoneFormat="## #### ####"/>
    <country iana="bn" isoA2="BN" isoA3="BRN" isoNum="96" itu="673" labelDE="Brunei" labelEN="Brunei Darussalam" labelFR="Brunei" labelISO="BRUNEI DARUSSALAM"/>
    <country iana="bg" isoA2="BG" isoA3="BGR" isoNum="100" itu="359" labelDE="Bulgarien" labelEN="Bulgaria" labelFR="Bulgarie" labelISO="BULGARIA" phoneExit="00" phoneFormat="# #### ###"/>
    <country iana="bf" isoA2="BF" isoA3="BFA" isoNum="854" itu="226" labelDE="Burkina Faso" labelEN="Burkina Faso" labelFR="Burkina Faso" labelISO="BURKINA FASO"/>
    <country iana="bi" isoA2="BI" isoA3="BDI" isoNum="108" itu="257" labelDE="Burundi" labelEN="Burundi" labelFR="Burundi" labelISO="BURUNDI"/>
    <country iana="kh" isoA2="KH" isoA3="KHM" isoNum="116" itu="855" labelDE="Kambodscha" labelEN="Cambodia" labelFR="Cambodge" labelISO="CAMBODIA"/>
    <country iana="cm" isoA2="CM" isoA3="CMR" isoNum="120" itu="237" labelDE="Kamerun" labelEN="Cameroon" labelFR="Cameroun" labelISO="CAMEROON"/>
    <country iana="ca" isoA2="CA" isoA3="CAN" isoNum="124" itu="1" labelDE="Kanada" labelEN="Canada" labelFR="Canada" labelISO="CANADA" phoneExit="001" phoneFormat="### ### ####"/>
    <country iana="cv" isoA2="CV" isoA3="CPV" isoNum="132" itu="238" labelDE="Kap Verde" labelEN="Cape Verde" labelFR="Cap-Vert" labelISO="CAPE VERDE"/>
    <country iana="cl" isoA2="CL" isoA3="CHL" isoNum="152" itu="56" labelDE="Chile" labelEN="Chile" labelFR="Chili" labelISO="CHILE" phoneExit="00" phoneFormat="# ### ####"/>
    <country iana="cn" isoA2="CN" isoA3="CHN" isoNum="156" itu="86" labelDE="China" labelEN="China" labelFR="Chine" labelISO="CHINA" phoneExit="00" phoneFormat="## #### ####"/>
    <country iana="cy" isoA2="CY" isoA3="CYP" isoNum="196" itu="357" labelDE="Zypern" labelEN="Cyprus" labelFR="Chypre" labelISO="CYPRUS"/>
    <country iana="co" isoA2="CO" isoA3="COL" isoNum="170" itu="57" labelDE="Kolumbien" labelEN="Colombia" labelFR="Colombie" labelISO="COLOMBIA" phoneExit="009" phoneFormat="# ### ####"/>
    <country iana="km" isoA2="KM" isoA3="COM" isoNum="174" itu="269" labelDE="Komoren" labelEN="Comoros" labelFR="Comores" labelISO="COMOROS"/>
    <country iana="kp" isoA2="KP" isoA3="PRK" isoNum="408" itu="850" labelDE="Nordkorea" labelEN="Northern Korea" labelFR="Corée du Nord" labelISO="KOREA"/>
    <country iana="kr" isoA2="KR" isoA3="KOR" isoNum="410" itu="82" labelDE="Südkorea" labelEN="Korea" labelFR="Corée du Sud" labelISO="KOREA" phoneExit="001" phoneFormat="# ### ####"/>
    <country iana="cr" isoA2="CR" isoA3="CRI" isoNum="188" itu="506" labelDE="Costa Rica" labelEN="Costa Rica" labelFR="Costa Rica" labelISO="COSTA RICA" phoneExit="00" phoneFormat="### ####"/>
    <country iana="ci" isoA2="CI" isoA3="CIV" isoNum="384" itu="225" labelDE="Republik Côte d'Ivoire" labelEN="Ivory Coast" labelFR="Côte d'Ivoire" labelISO="CÔTE D'IVOIRE"/>
    <country iana="hr" isoA2="HR" isoA3="HRV" isoNum="191" itu="385" labelDE="Kroatien" labelEN="Croatia" labelFR="Croatie" labelISO="CROATIA" phoneExit="00" phoneFormat="# #### ###"/>
    <country iana="cu" isoA2="CU" isoA3="CUB" isoNum="192" itu="53" labelDE="Kuba" labelEN="Cuba" labelFR="Cuba" labelISO="CUBA"/>
    <country iana="dk" isoA2="DK" isoA3="DNK" isoNum="208" itu="45" labelDE="Dänemark" labelEN="Denmark" labelFR="Danemark" labelISO="DENMARK" phoneExit="00" phoneFormat="## ## ## ##"/>
    <country iana="dj" isoA2="DJ" isoA3="DJI" isoNum="262" itu="253" labelDE="Djibouti" labelEN="Djibouti" labelFR="Djibouti" labelISO="DJIBOUTI"/>
    <country iana="dm" isoA2="DM" isoA3="DMA" isoNum="212" itu="1767" labelDE="Dominica" labelEN="Dominica" labelFR="Dominique" labelISO="DOMINICA"/>
    <country iana="eg" isoA2="EG" isoA3="EGY" isoNum="818" itu="20" labelDE="Ägypten" labelEN="Egypt" labelFR="Egypte" labelISO="EGYPT" phoneExit="00" phoneFormat="# ### ####"/>
    <country iana="ae" isoA2="AE" isoA3="ARE" isoNum="784" itu="971" labelDE="Vereinigte Arabische Emirate" labelEN="United Arab Emirates" labelFR="Emirats arabes unis" labelISO="UNITED ARAB EMIRATES"/>
    <country iana="ec" isoA2="EC" isoA3="ECU" isoNum="218" itu="593" labelDE="Ecuador" labelEN="Ecuador" labelFR="Equateur" labelISO="ECUADOR" phoneExit="00" phoneFormat="# #######"/>
    <country iana="er" isoA2="ER" isoA3="ERI" isoNum="232" itu="291" labelDE="Eritrea" labelEN="Eritrea" labelFR="Erythrée" labelISO="ERITREA"/>
    <country iana="es" isoA2="ES" isoA3="ESP" isoNum="724" itu="34" labelDE="Spanien" labelEN="Spain" labelFR="Espagne" labelISO="SPAIN" phoneExit="00" phoneFormat="## ### ## ##"/>
    <country iana="ee" isoA2="EE" isoA3="EST" isoNum="233" itu="372" labelDE="Estland" labelEN="Estonia" labelFR="Estonie" labelISO="ESTONIA" phoneExit="00" phoneFormat="#######"/>
    <country iana="us" isoA2="US" isoA3="USA" isoNum="840" itu="1" labelDE="USA" labelEN="United States" labelFR="Etats-Unis" labelISO="UNITED STATES" phoneExit="001" phoneFormat="### ###-####"/>
    <country iana="et" isoA2="ET" isoA3="ETH" isoNum="231" itu="251" labelDE="Äthiopien" labelEN="Ethiopia" labelFR="Ethiopie" labelISO="ETHIOPIA"/>
    <country iana="fj" isoA2="FJ" isoA3="FJI" isoNum="242" itu="679" labelDE="Fidschi" labelEN="Fiji" labelFR="Fidji" labelISO="FIJI"/>
    <country iana="fi" isoA2="FI" isoA3="FIN" isoNum="246" itu="358" labelDE="Finnland" labelEN="Finland" labelFR="Finlande" labelISO="FINLAND" phoneExit="00" phoneFormat="# ### ###"/>
    <country iana="fr" isoA2="FR" isoA3="FRA" isoNum="250" itu="33" labelDE="Frankreich" labelEN="France" labelFR="France" labelISO="FRANCE" phoneExit="00" phoneFormat="# ## ## ## ##"/>
    <country iana="ga" isoA2="GA" isoA3="GAB" isoNum="266" itu="241" labelDE="Gabon" labelEN="Gabon" labelFR="Gabon" labelISO="GABON"/>
    <country iana="gm" isoA2="GM" isoA3="GMB" isoNum="270" itu="220" labelDE="Gambia" labelEN="Gambia" labelFR="Gambie" labelISO="GAMBIA, THE"/>
    <country iana="ge" isoA2="GE" isoA3="GEO" isoNum="268" itu="7" labelDE="Georgia" labelEN="Georgia" labelFR="Géorgie" labelISO="GEORGIA"/>
    <country iana="gs" isoA2="GS" isoA3="SGS" isoNum="239" labelDE="Südgeorgien und die Südlichen Sandwich-Inseln" labelEN="South Georgia and the South Sandwich Islands" labelFR="Géorgie du Sud et les Îles Sandwich du Sud" labelISO="SOUTH GEORGIA AND THE SOUTH SANDWICH ISLANDS"/>
    <country iana="gh" isoA2="GH" isoA3="GHA" isoNum="288" itu="233" labelDE="Ghana" labelEN="Ghana" labelFR="Ghana" labelISO="GHANA"/>
    <country iana="gi" isoA2="GI" isoA3="GIB" isoNum="292" itu="350" labelDE="Gibraltar" labelEN="Gibraltar" labelFR="Gibraltar" labelISO="GIBRALTAR"/>
    <country iana="gr" isoA2="GR" isoA3="GRC" isoNum="300" itu="30" labelDE="Griechenland" labelEN="Greece" labelFR="Grèce" labelISO="GREECE" phoneExit="00" phoneFormat="### #### ###"/>
    <country iana="gd" isoA2="GD" isoA3="GRD" isoNum="308" itu="1473" labelDE="Grenada" labelEN="Grenada" labelFR="Grenade" labelISO="GRENADA"/>
    <country iana="gl" isoA2="GL" isoA3="GRL" isoNum="304" itu="299" labelDE="Grönland" labelEN="Greenland" labelFR="Groenland" labelISO="GREENLAND"/>
    <country iana="gp" isoA2="GP" isoA3="GLP" isoNum="312" itu="590" labelDE="Guadeloupe" labelEN="Guadeloupe" labelFR="Guadeloupe" labelISO="GUADELOUPE"/>
    <country iana="gu" isoA2="GU" isoA3="GUM" isoNum="316" itu="1671" labelDE="Guam" labelEN="Guam" labelFR="Guam" labelISO="GUAM"/>
    <country iana="gt" isoA2="GT" isoA3="GTM" isoNum="320" itu="502" labelDE="Guatemala" labelEN="Guatemala" labelFR="Guatemala" labelISO="GUATEMALA" phoneExit="00" phoneFormat="### ####"/>
    <country iana="gn" isoA2="GN" isoA3="GIN" isoNum="324" itu="224" labelDE="Guinea" labelEN="Guinea" labelFR="Guinée" labelISO="GUINEA"/>
    <country iana="gq" isoA2="GQ" isoA3="GNQ" isoNum="226" itu="240" labelDE="Äquatorial-Guinea" labelEN="Equatorial Guinea" labelFR="Guinée équatoriale" labelISO="EQUATORIAL GUINEA"/>
    <country iana="gw" isoA2="GW" isoA3="GNB" isoNum="624" itu="245" labelDE="Guinea-Bissau" labelEN="Bissau" labelFR="Guinée-Bissau" labelISO="GUINEA-BISSAU"/>
    <country iana="gy" isoA2="GY" isoA3="GUY" isoNum="328" itu="592" labelDE="Guyana" labelEN="Guyana" labelFR="Guyana" labelISO="GUYANA"/>
    <country iana="gf" isoA2="GF" isoA3="GUF" isoNum="254" itu="594" labelDE="Französisch-Guayana" labelEN="French Guiana" labelFR="Guyane française" labelISO="FRENCH GUIANA"/>
    <country iana="ht" isoA2="HT" isoA3="HTI" isoNum="332" itu="509" labelDE="Haiti" labelEN="Haiti" labelFR="Haïti" labelISO="HAITI"/>
    <country iana="hn" isoA2="HN" isoA3="HND" isoNum="340" itu="504" labelDE="Honduras" labelEN="Honduras" labelFR="Honduras" labelISO="HONDURAS"/>
    <country iana="hk" isoA2="HK" isoA3="HKG" isoNum="344" itu="852" labelDE="Hongkong" labelEN="Hong Kong" labelFR="Hong Kong" labelISO="HONG KONG" phoneExit="001" phoneFormat="#### ####"/>
    <country iana="hu" isoA2="HU" isoA3="HUN" isoNum="348" itu="36" labelDE="Ungarn" labelEN="Hungary" labelFR="Hongrie" labelISO="HUNGARY" phoneExit="00" phoneFormat="# ### ####"/>
    <country iana="bv" isoA2="BV" isoA3="BVT" isoNum="74" labelDE="Bouvetinsel" labelEN="Bouvet island" labelFR="Ile Bouvet" labelISO="BOUVET ISLAND"/>
    <country iana="cx" isoA2="CX" isoA3="CXR" isoNum="162" labelDE="Weihnachtsinsel" labelEN="Christmas Island" labelFR="Ile Christmas" labelISO="CHRISTMAS ISLAND"/>
    <country iana="nf" isoA2="NF" isoA3="NFK" isoNum="574" labelDE="Norfolkinsel" labelEN="Norfolk Island" labelFR="Ile Norfolk" labelISO="NORFOLK ISLAND"/>
    <country isoA2="AX" isoA3="ALA" isoNum="248" labelDE="Aland" labelEN="Aland Islands" labelFR="Iles Aland" labelISO="ALAND ISLANDS"/>
    <country iana="ky" isoA2="KY" isoA3="CYM" isoNum="136" itu="1345" labelDE="Kaimaninseln" labelEN="Cayman islands" labelFR="Iles Caïmanes" labelISO="CAYMAN ISLANDS"/>
    <country iana="cc" isoA2="CC" isoA3="CCK" isoNum="166" labelDE="Kokosinseln" labelEN="Coco Islands" labelFR="Iles Cocos" labelISO="COCOS (KEELING) ISLANDS"/>
    <country iana="ck" isoA2="CK" isoA3="COK" isoNum="184" itu="682" labelDE="Cookinseln" labelEN="Cook Islands" labelFR="Iles Cook" labelISO="COOK ISLANDS"/>
    <country iana="fo" isoA2="FO" isoA3="FRO" isoNum="234" itu="298" labelDE="Färöer-Inseln" labelEN="Faeroe Islands" labelFR="Iles Féroé" labelISO="FAEROE ISLANDS"/>
    <country iana="hm" isoA2="HM" isoA3="HMD" isoNum="334" labelDE="Heard und McDonald-Inseln" labelEN="Heard Island and McDonald Islands" labelFR="Iles Heard et McDonald" labelISO="HEARD ISLAND AND MCDONALD ISLANDS"/>
    <country iana="fk" isoA2="FK" isoA3="FLK" isoNum="238" itu="500" labelDE="Falklandinseln (Malwinen)" labelEN="Falkland Islands" labelFR="Iles Malouines (Falkland)" labelISO="FALKLAND ISLANDS"/>
    <country iana="mp" isoA2="MP" isoA3="MNP" isoNum="580" itu="1670" labelDE="Northern Mariana Islands" labelEN="Northern Mariana Islands" labelFR="Iles Mariannes du Nord" labelISO="NORTHERN MARIANA ISLANDS"/>
    <country iana="um" isoA2="UM" isoA3="UMI" isoNum="581" labelDE="United States Minor Outlying Islands" labelEN="United States Minor Outlying Islands" labelFR="Iles mineures éloignées des États-Unis" labelISO="UNITED STATES MINOR OUTLYING ISLANDS"/>
    <country iana="tc" isoA2="TC" isoA3="TCA" isoNum="796" itu="1649" labelDE="Türkei und Caicos-Inseln" labelEN="Turks and Caicos Islands" labelFR="Iles Turques et Caïques" labelISO="TURKS AND CAICOS ISLANDS"/>
    <country iana="vi" isoA2="VI" isoA3="VIR" isoNum="850" itu="1340" labelDE="Amerikanische Jungferninseln" labelEN="U.S. Virgin Islands" labelFR="Iles Vierges américaines" labelISO="VIRGIN ISLANDS, U.S."/>
    <country iana="vg" isoA2="VG" isoA3="VGB" isoNum="92" itu="1284" labelDE="Britische Jungferninseln" labelEN="British Virgin Islands" labelFR="Iles Vierges britanniques" labelISO="VIRGIN ISLANDS, BRITISH"/>
    <country iana="in" isoA2="IN" isoA3="IND" isoNum="356" itu="91" labelDE="Indien" labelEN="India" labelFR="Inde" labelISO="INDIA" phoneExit="00" phoneFormat="### #######"/>
    <country iana="id" isoA2="ID" isoA3="IDN" isoNum="360" itu="62" labelDE="Indonesien" labelEN="Indonesia" labelFR="Indonésie" labelISO="INDONESIA" phoneExit="00" phoneFormat="## #### ####"/>
    <country iana="iq" isoA2="IQ" isoA3="IRQ" isoNum="368" itu="964" labelDE="Irak" labelEN="Iraq" labelFR="Irak" labelISO="IRAQ"/>
    <country iana="ir" isoA2="IR" isoA3="IRN" isoNum="364" itu="98" labelDE="Iran" labelEN="Iran" labelFR="Iran" labelISO="IRAN"/>
    <country iana="ie" isoA2="IE" isoA3="IRL" isoNum="372" itu="353" labelDE="Irland" labelEN="Ireland" labelFR="Irlande" labelISO="IRELAND" phoneExit="00" phoneFormat="# #######"/>
    <country iana="is" isoA2="IS" isoA3="ISL" isoNum="352" itu="354" labelDE="Island" labelEN="Iceland" labelFR="Islande" labelISO="ICELAND"/>
    <country iana="il" isoA2="IL" isoA3="ISR" isoNum="376" itu="972" labelDE="Israel" labelEN="Israel" labelFR="Israël" labelISO="ISRAEL" phoneExit="00" phoneFormat="# #### ###"/>
    <country iana="it" isoA2="IT" isoA3="ITA" isoNum="380" itu="39" labelDE="Italien" labelEN="Italy" labelFR="Italie" labelISO="ITALY" phoneExit="00" phoneFormat="# #######"/>
    <country iana="jm" isoA2="JM" isoA3="JAM" isoNum="388" itu="1876" labelDE="Jamaika" labelEN="Jamaica" labelFR="Jamaïque" labelISO="JAMAICA"/>
    <country iana="jp" isoA2="JP" isoA3="JPN" isoNum="392" itu="81" labelDE="Japan" labelEN="Japan" labelFR="Japon" labelISO="JAPAN" phoneExit="001" phoneFormat="# #### ####"/>
    <country iana="jo" isoA2="JO" isoA3="JOR" isoNum="400" itu="962" labelDE="Jordan" labelEN="Jordan" labelFR="Jordanie" labelISO="JORDAN"/>
    <country iana="kz" isoA2="KZ" isoA3="KAZ" isoNum="398" itu="7" labelDE="Kasachstan" labelEN="Kazakhstan" labelFR="Kazakhstan" labelISO="KAZAKHSTAN"/>
    <country iana="ke" isoA2="KE" isoA3="KEN" isoNum="404" itu="254" labelDE="Kenia" labelEN="Kenya" labelFR="Kenya" labelISO="KENYA" phoneExit="000" phoneFormat="## #######"/>
    <country iana="kg" isoA2="KG" isoA3="KGZ" isoNum="417" itu="996" labelDE="Kirgistan" labelEN="Kyrgyzstan" labelFR="Kirghizstan" labelISO="KYRGYZSTAN"/>
    <country iana="ki" isoA2="KI" isoA3="KIR" isoNum="296" itu="686" labelDE="Kiribati" labelEN="Kiribati" labelFR="Kiribati" labelISO="KIRIBATI"/>
    <country iana="kw" isoA2="KW" isoA3="KWT" isoNum="414" itu="965" labelDE="Kuwait" labelEN="Kuwait" labelFR="Koweït" labelISO="KUWAIT"/>
    <country iana="la" isoA2="LA" isoA3="LAO" isoNum="418" itu="856" labelDE="Laos" labelEN="Lao" labelFR="Laos" labelISO="LAO PEOPLE'S DEMOCRATIC REPUBLIC"/>
    <country iana="ls" isoA2="LS" isoA3="LSO" isoNum="426" itu="266" labelDE="Lesotho" labelEN="Lesotho" labelFR="Lesotho" labelISO="LESOTHO"/>
    <country iana="lv" isoA2="LV" isoA3="LVA" isoNum="428" itu="371" labelDE="Lettland" labelEN="Latvia" labelFR="Lettonie" labelISO="LATVIA" phoneExit="00" phoneFormat="#######"/>
    <country iana="lb" isoA2="LB" isoA3="LBN" isoNum="422" itu="961" labelDE="Libanon" labelEN="Lebanon" labelFR="Liban" labelISO="LEBANON"/>
    <country iana="lr" isoA2="LR" isoA3="LBR" isoNum="430" itu="231" labelDE="Liberia" labelEN="Liberia" labelFR="Liberia" labelISO="LIBERIA"/>
    <country iana="ly" isoA2="LY" isoA3="LBY" isoNum="434" itu="218" labelDE="Libyen" labelEN="Libya" labelFR="Libye" labelISO="LIBYA"/>
    <country iana="li" isoA2="LI" isoA3="LIE" isoNum="438" itu="423" labelDE="Liechtenstein" labelEN="Liechtenstein" labelFR="Liechtenstein" labelISO="LIECHTENSTEIN"/>
    <country iana="lt" isoA2="LT" isoA3="LTU" isoNum="440" itu="370" labelDE="Litauen" labelEN="Lithuania" labelFR="Lituanie" labelISO="LITHUANIA" phoneExit="810" phoneFormat="########"/>
    <country iana="lu" isoA2="LU" isoA3="LUX" isoNum="442" itu="352" labelDE="Luxemburg" labelEN="Luxembourg" labelFR="Luxembourg" labelISO="LUXEMBOURG" phoneExit="00" phoneFormat="# ### ## ##"/>
    <country iana="mo" isoA2="MO" isoA3="MAC" isoNum="446" itu="853" labelDE="Macao" labelEN="Macao" labelFR="Macao" labelISO="MACAO"/>
    <country iana="mk" isoA2="MK" isoA3="MKD" isoNum="807" itu="389" labelDE="Mazedonien" labelEN="Macedonia" labelFR="Macédoine" labelISO="MACEDONIA"/>
    <country iana="mg" isoA2="MG" isoA3="MDG" isoNum="450" itu="261" labelDE="Madagaskar" labelEN="Madagascar" labelFR="Madagascar" labelISO="MADAGASCAR"/>
    <country iana="my" isoA2="MY" isoA3="MYS" isoNum="458" itu="60" labelDE="Malaysia" labelEN="Malaysia" labelFR="Malaisie" labelISO="MALAYSIA" phoneExit="00" phoneFormat="# #### ####"/>
    <country iana="mw" isoA2="MW" isoA3="MWI" isoNum="454" itu="265" labelDE="Malawi" labelEN="Malawi" labelFR="Malawi" labelISO="MALAWI"/>
    <country iana="mv" isoA2="MV" isoA3="MDV" isoNum="462" itu="960" labelDE="Malediven" labelEN="Maldives" labelFR="Maldives" labelISO="MALDIVES"/>
    <country iana="ml" isoA2="ML" isoA3="MLI" isoNum="466" itu="223" labelDE="Mali" labelEN="Mali" labelFR="Mali" labelISO="MALI"/>
    <country iana="mt" isoA2="MT" isoA3="MLT" isoNum="470" itu="356" labelDE="Malta" labelEN="Malta" labelFR="Malte" labelISO="MALTA" phoneExit="00"/>
    <country iana="ma" isoA2="MA" isoA3="MAR" isoNum="504" itu="212" labelDE="Marokko" labelEN="Morocco" labelFR="Maroc" labelISO="MOROCCO" phoneExit="00" phoneFormat="## ## ## ##"/>
    <country iana="mh" isoA2="MH" isoA3="MHL" isoNum="584" itu="692" labelDE="Marshall" labelEN="Marshall Islands" labelFR="Marshall" labelISO="MARSHALL ISLANDS"/>
    <country iana="mq" isoA2="MQ" isoA3="MTQ" isoNum="474" itu="596" labelDE="Martinique" labelEN="Martinique" labelFR="Martinique" labelISO="MARTINIQUE"/>
    <country iana="mu" isoA2="MU" isoA3="MUS" isoNum="480" itu="230" labelDE="Mauritius" labelEN="Mauritius" labelFR="Maurice" labelISO="MAURITIUS"/>
    <country iana="mr" isoA2="MR" isoA3="MRT" isoNum="478" itu="222" labelDE="Mauretanien" labelEN="Mauritania" labelFR="Mauritanie" labelISO="MAURITANIA"/>
    <country iana="yt" isoA2="YT" isoA3="MYT" isoNum="175" itu="269" labelDE="Mayotte" labelEN="Mayotte" labelFR="Mayotte" labelISO="MAYOTTE"/>
    <country iana="mx" isoA2="MX" isoA3="MEX" isoNum="484" itu="52" labelDE="Mexiko" labelEN="Mexico" labelFR="Mexique" labelISO="MEXICO" phoneExit="00" phoneFormat="## #### ####"/>
    <country iana="fm" isoA2="FM" isoA3="FSM" isoNum="583" itu="691" labelDE="Mikronesien" labelEN="Micronesia" labelFR="Micronésie" labelISO="MICRONESIA"/>
    <country iana="md" isoA2="MD" isoA3="MDA" isoNum="498" itu="373" labelDE="Moldawien" labelEN="Moldova" labelFR="Moldavie" labelISO="MOLDOVA"/>
    <country iana="mc" isoA2="MC" isoA3="MCO" isoNum="492" itu="377" labelDE="Monaco" labelEN="Monaco" labelFR="Monaco" labelISO="MONACO" phoneExit="00"/>
    <country iana="mn" isoA2="MN" isoA3="MNG" isoNum="496" itu="976" labelDE="Mongolei" labelEN="Mongolia" labelFR="Mongolie" labelISO="MONGOLIA"/>
    <country iana="me" isoA2="ME" isoA3="MNE" isoNum="499" itu="381" labelDE="Montenegro" labelEN="Montenegro" labelFR="Monténégro" labelISO="MONTENEGRO" phoneExit="00" phoneFormat="## ### ## ##"/>
    <country iana="ms" isoA2="MS" isoA3="MSR" isoNum="500" itu="1664" labelDE="Montserrat" labelEN="Montserrat" labelFR="Montserrat" labelISO="MONTSERRAT"/>
    <country iana="mz" isoA2="MZ" isoA3="MOZ" isoNum="508" itu="258" labelDE="Mozambik" labelEN="Mozambique" labelFR="Mozambique" labelISO="MOZAMBIQUE"/>
    <country iana="mm" isoA2="MM" isoA3="MMR" isoNum="104" itu="95" labelDE="Myanmar" labelEN="Myanmar" labelFR="Myanmar" labelISO="MYANMAR"/>
    <country iana="na" isoA2="NA" isoA3="NAM" isoNum="516" itu="264" labelDE="Namibia" labelEN="Namibia" labelFR="Namibie" labelISO="NAMIBIA"/>
    <country iana="nr" isoA2="NR" isoA3="NRU" isoNum="520" itu="674" labelDE="Nauru" labelEN="Nauru" labelFR="Nauru" labelISO="NAURU"/>
    <country iana="np" isoA2="NP" isoA3="NPL" isoNum="524" itu="977" labelDE="Nepal" labelEN="Nepal" labelFR="Népal" labelISO="NEPAL"/>
    <country iana="ni" isoA2="NI" isoA3="NIC" isoNum="558" itu="505" labelDE="Nicaragua" labelEN="Nicaragua" labelFR="Nicaragua" labelISO="NICARAGUA"/>
    <country iana="ne" isoA2="NE" isoA3="NER" isoNum="562" itu="227" labelDE="Niger" labelEN="Niger" labelFR="Niger" labelISO="NIGER"/>
    <country iana="ng" isoA2="NG" isoA3="NGA" isoNum="566" itu="234" labelDE="Nigeria" labelEN="Nigeria" labelFR="Nigeria" labelISO="NIGERIA" phoneExit="009" phoneFormat="##### #####"/>
    <country iana="nu" isoA2="NU" isoA3="NIU" isoNum="570" itu="683" labelDE="Niue" labelEN="Niue" labelFR="Niue" labelISO="NIUE"/>
    <country iana="no" isoA2="NO" isoA3="NOR" isoNum="578" itu="47" labelDE="Norwegen" labelEN="Norway" labelFR="Norvège" labelISO="NORWAY" phoneExit="00" phoneFormat="## ## ## ##"/>
    <country iana="nc" isoA2="NC" isoA3="NCL" isoNum="540" itu="687" labelDE="Neukaledonien" labelEN="New Caledonia" labelFR="Nouvelle-Calédonie" labelISO="NEW CALEDONIA"/>
    <country iana="nz" isoA2="NZ" isoA3="NZL" isoNum="554" itu="64" labelDE="Neuseeland" labelEN="New Zealand" labelFR="Nouvelle-Zélande" labelISO="NEW ZEALAND" phoneExit="00" phoneFormat="# ### ####"/>
    <country iana="om" isoA2="OM" isoA3="OMN" isoNum="512" itu="968" labelDE="Oman" labelEN="Oman" labelFR="Oman" labelISO="OMAN"/>
    <country iana="ug" isoA2="UG" isoA3="UGA" isoNum="800" itu="256" labelDE="Uganda" labelEN="Uganda" labelFR="Ouganda" labelISO="UGANDA"/>
    <country iana="uz" isoA2="UZ" isoA3="UZB" isoNum="860" itu="998" labelDE="Usbekistan" labelEN="Uzbekistan" labelFR="Ouzbékistan" labelISO="UZBEKISTAN"/>
    <country iana="pk" isoA2="PK" isoA3="PAK" isoNum="586" itu="92" labelDE="Pakistan" labelEN="Pakistan" labelFR="Pakistan" labelISO="PAKISTAN" phoneExit="00"/>
    <country iana="pw" isoA2="PW" isoA3="PLW" isoNum="585" itu="680" labelDE="Palau" labelEN="Palau" labelFR="Palaos" labelISO="PALAU"/>
    <country iana="ps" isoA2="PS" isoA3="PSE" isoNum="275" itu="970" labelDE="Palästina" labelEN="Palestinian territories" labelFR="Palestine" labelISO="PALESTINIAN TERRITORIES"/>
    <country iana="pa" isoA2="PA" isoA3="PAN" isoNum="591" itu="507" labelDE="Panama" labelEN="Panama" labelFR="Panama" labelISO="PANAMA" phoneExit="0" phoneFormat="### ####"/>
    <country iana="pg" isoA2="PG" isoA3="PNG" isoNum="598" itu="675" labelDE="Papua-Neuguinea" labelEN="Papua New Guinea" labelFR="Papouasie-Nouvelle-Guinée" labelISO="PAPUA NEW GUINEA"/>
    <country iana="py" isoA2="PY" isoA3="PRY" isoNum="600" itu="595" labelDE="Paraguay" labelEN="Paraguay" labelFR="Paraguay" labelISO="PARAGUAY"/>
    <country iana="nl" isoA2="NL" isoA3="NLD" isoNum="528" itu="31" labelDE="Niederlande" labelEN="Netherlands" labelFR="Pays-Bas" labelISO="NETHERLANDS" phoneExit="00" phoneFormat="## #### ###"/>
    <country iana="pe" isoA2="PE" isoA3="PER" isoNum="604" itu="51" labelDE="Peru" labelEN="Peru" labelFR="Pérou" labelISO="PERU" phoneExit="00" phoneFormat="# ### ####"/>
    <country iana="ph" isoA2="PH" isoA3="PHL" isoNum="608" itu="63" labelDE="Philippinen" labelEN="Philippines" labelFR="Philippines" labelISO="PHILIPPINES" phoneExit="00" phoneFormat="# ### ####"/>
    <country iana="pn" isoA2="PN" isoA3="PCN" isoNum="612" labelDE="Pitcairn" labelEN="Pitcairn" labelFR="Pitcairn" labelISO="PITCAIRN"/>
    <country iana="pl" isoA2="PL" isoA3="POL" isoNum="616" itu="48" labelDE="Polen" labelEN="Poland" labelFR="Pologne" labelISO="POLAND" phoneExit="0" phoneFormat="## ### ####"/>
    <country iana="pf" isoA2="PF" isoA3="PYF" isoNum="258" itu="689" labelDE="Französisch-Polynesien" labelEN="French Polynesia" labelFR="Polynésie française" labelISO="FRENCH POLYNESIA"/>
    <country iana="pr" isoA2="PR" isoA3="PRI" isoNum="630" itu="1" labelDE="Puerto Rico" labelEN="Puerto Rico" labelFR="Porto Rico" labelISO="PUERTO RICO"/>
    <country iana="pt" isoA2="PT" isoA3="PRT" isoNum="620" itu="351" labelDE="Portugal" labelEN="Portugal" labelFR="Portugal" labelISO="PORTUGAL" phoneExit="00" phoneFormat="## ### ## ##"/>
    <country iana="qa" isoA2="QA" isoA3="QAT" isoNum="634" itu="974" labelDE="Katar" labelEN="Qatar" labelFR="Qatar" labelISO="QATAR"/>
    <country iana="cf" isoA2="CF" isoA3="CAF" isoNum="140" itu="236" labelDE="Zentralafrikanische Republik" labelEN="Central Africa Republic" labelFR="République centrafricaine" labelISO="CENTRAL AFRICAN REPUBLIC"/>
    <country iana="cd" isoA2="CD" isoA3="COD" isoNum="180" itu="243" labelDE="Demokratische Republik Kongo" labelEN="Democratic Republic of Congo" labelFR="République démocratique du Congo" labelISO="CONGO, THE DEMOCRATIC REPUBLIC OF THE"/>
    <country iana="do" isoA2="DO" isoA3="DOM" isoNum="214" itu="1809" labelDE="Dominikanische Republik" labelEN="Dominican Republic" labelFR="République dominicaine" labelISO="DOMINICAN REPUBLIC"/>
    <country iana="cg" isoA2="CG" isoA3="COG" isoNum="178" itu="242" labelDE="Republik Kongo" labelEN="Republic of Congo" labelFR="République du Congo" labelISO="CONGO, REPUBLIC OF"/>
    <country iana="cz" isoA2="CZ" isoA3="CZE" isoNum="203" itu="420" labelDE="Tschechische Republik" labelEN="Czech Republic" labelFR="République tchèque" labelISO="CZECH REPUBLIC" phoneExit="00" phoneFormat="#### ## ###"/>
    <country iana="re" isoA2="RE" isoA3="REU" isoNum="638" itu="262" labelDE="Réunion" labelEN="Réunion" labelFR="Réunion" labelISO="RÉUNION"/>
    <country iana="ro" isoA2="RO" isoA3="ROU" isoNum="642" itu="40" labelDE="Rumänien" labelEN="Romania" labelFR="Roumanie" labelISO="ROMANIA" phoneExit="00" phoneFormat="## #######"/>
    <country iana="uk" isoA2="GB" isoA3="GBR" isoNum="826" itu="44" labelDE="Vereinigtes Königreich" labelEN="United Kingdom" labelFR="Royaume-Uni" labelISO="UNITED KINGDOM" phoneExit="00" phoneFormat="7### ### ###,### ### ####"/>
    <country iana="ru" isoA2="RU" isoA3="RUS" isoNum="643" itu="7" labelDE="Russland" labelEN="Russia" labelFR="Russie" labelISO="RUSSIAN FEDERATION" phoneExit="810" phoneFormat="### ### ####"/>
    <country iana="rw" isoA2="RW" isoA3="RWA" isoNum="646" itu="250" labelDE="Rwanda" labelEN="Rwanda" labelFR="Rwanda" labelISO="RWANDA"/>
    <country iana="eh" isoA2="EH" isoA3="ESH" isoNum="732" labelDE="Western Sahara" labelEN="Western Sahara" labelFR="Sahara occidental" labelISO="WESTERN SAHARA"/>
    <country iana="kn" isoA2="KN" isoA3="KNA" isoNum="659" itu="1869" labelDE="Saint Kitts und Nevis" labelEN="Saint Kitts and Nevis" labelFR="Saint-Christophe-et-Niévès" labelISO="SAINT KITTS AND NEVIS"/>
    <country iana="sh" isoA2="SH" isoA3="SHN" isoNum="654" itu="290" labelDE="St. Helena" labelEN="Saint elena" labelFR="Sainte-Hélène" labelISO="SAINT HELENA"/>
    <country iana="lc" isoA2="LC" isoA3="LCA" isoNum="662" itu="1758" labelDE="St. Lucia" labelEN="Saint Lucia" labelFR="Sainte-Lucie" labelISO="SAINT LUCIA"/>
    <country iana="sm" isoA2="SM" isoA3="SMR" isoNum="674" itu="378" labelDE="San Marino" labelEN="San Marino" labelFR="Saint-Marin" labelISO="SAN MARINO"/>
    <country iana="pm" isoA2="PM" isoA3="SPM" isoNum="666" itu="508" labelDE="Saint-Pierre und Miquelon" labelEN="Saint Pierre and Miquelon" labelFR="Saint-Pierre-et-Miquelon" labelISO="SAINT PIERRE AND MIQUELON"/>
    <country iana="vc" isoA2="VC" isoA3="VCT" isoNum="670" itu="1784" labelDE="Saint Vincent und die Grenadinen" labelEN="Saint Vincent and the Grenadines" labelFR="Saint-Vincent-et-les Grenadines" labelISO="SAINT VINCENT AND THE GRENADINES"/>
    <country iana="sb" isoA2="SB" isoA3="SLB" isoNum="90" itu="677" labelDE="Solomon" labelEN="Solomon Islands" labelFR="Salomon" labelISO="SOLOMON ISLANDS"/>
    <country iana="sv" isoA2="SV" isoA3="SLV" isoNum="222" itu="503" labelDE="Salvador" labelEN="El Salvador" labelFR="Salvador" labelISO="EL SALVADOR" phoneExit="00" phoneFormat="#### ####"/>
    <country iana="ws" isoA2="WS" isoA3="WSM" isoNum="882" itu="685" labelDE="Samoa" labelEN="Samoa" labelFR="Samoa" labelISO="SAMOA"/>
    <country iana="as" isoA2="AS" isoA3="ASM" isoNum="16" itu="1684" labelDE="American Samoa" labelEN="American Samoa" labelFR="Samoa américaines" labelISO="AMERICAN SAMOA"/>
    <country iana="st" isoA2="ST" isoA3="STP" isoNum="678" itu="239" labelDE="São Tomé und Príncipe" labelEN="Sao Tome and Principe" labelFR="Sao Tomé-et-Principe" labelISO="SAO TOME AND PRINCIPE"/>
    <country iana="sn" isoA2="SN" isoA3="SEN" isoNum="686" itu="221" labelDE="Senegal" labelEN="Senegal" labelFR="Sénégal" labelISO="SENEGAL"/>
    <country iana="rs" isoA2="RS" isoA3="SRB" isoNum="688" itu="381" labelDE="Serbien" labelEN="Serbia" labelFR="Serbie" labelISO="SERBIA" phoneExit="00" phoneFormat="## ### ## ##"/>
    <country iana="sc" isoA2="SC" isoA3="SYC" isoNum="690" itu="248" labelDE="Seychellen" labelEN="Seychelles" labelFR="Seychelles" labelISO="SEYCHELLES"/>
    <country iana="sl" isoA2="SL" isoA3="SLE" isoNum="694" itu="232" labelDE="Sierra Leone" labelEN="Sierra Leone" labelFR="Sierra Leone" labelISO="SIERRA LEONE"/>
    <country iana="sg" isoA2="SG" isoA3="SGP" isoNum="702" itu="65" labelDE="Singapur" labelEN="Singapore" labelFR="Singapour" labelISO="SINGAPORE" phoneExit="001" phoneFormat="#### ####"/>
    <country iana="sk" isoA2="SK" isoA3="SVK" isoNum="703" itu="421" labelDE="Slowakei" labelEN="Slovakia" labelFR="Slovaquie" labelISO="SLOVAKIA" phoneExit="00" phoneFormat="# ## ### ###"/>
    <country iana="si" isoA2="SI" isoA3="SVN" isoNum="705" itu="386" labelDE="Slowenien" labelEN="Slovenia" labelFR="Slovénie" labelISO="SLOVENIA" phoneExit="00" phoneFormat="# # ### ###"/>
    <country iana="so" isoA2="SO" isoA3="SOM" isoNum="706" itu="252" labelDE="Somalia" labelEN="Somalia" labelFR="Somalie" labelISO="SOMALIA"/>
    <country iana="sd" isoA2="SD" isoA3="SDN" isoNum="736" itu="249" labelDE="Sudan" labelEN="Sudan" labelFR="Soudan" labelISO="SUDAN"/>
    <country iana="lk" isoA2="LK" isoA3="LKA" isoNum="144" itu="94" labelDE="Sri Lanka" labelEN="Sri Lanka" labelFR="Sri Lanka" labelISO="SRI LANKA" phoneExit="00" phoneFormat="## #### ###"/>
    <country iana="se" isoA2="SE" isoA3="SWE" isoNum="752" itu="46" labelDE="Schweden" labelEN="Sweden" labelFR="Suède" labelISO="SWEDEN" phoneExit="00" phoneFormat="# ### ## ##"/>
    <country iana="ch" isoA2="CH" isoA3="CHE" isoNum="756" itu="41" labelDE="Schweiz" labelEN="Switzerland" labelFR="Suisse" labelISO="SWITZERLAND" phoneExit="00" phoneFormat="### ## ## ##"/>
    <country iana="sr" isoA2="SR" isoA3="SUR" isoNum="740" itu="597" labelDE="Suriname" labelEN="Suriname" labelFR="Suriname" labelISO="SURINAME"/>
    <country iana="sj" isoA2="SJ" isoA3="SJM" isoNum="744" labelDE="Svalbard und Jan Mayen" labelEN="Svalbard and Jan Mayen" labelFR="Svalbard et île Jan Mayen" labelISO="SVALBARD AND JAN MAYEN"/>
    <country iana="sz" isoA2="SZ" isoA3="SWZ" isoNum="748" itu="268" labelDE="Swasiland" labelEN="Swaziland" labelFR="Swaziland" labelISO="SWAZILAND"/>
    <country iana="sy" isoA2="SY" isoA3="SYR" isoNum="760" itu="963" labelDE="Syrien" labelEN="Syria" labelFR="Syrie" labelISO="SYRIAN ARAB REPUBLIC"/>
    <country iana="tj" isoA2="TJ" isoA3="TJK" isoNum="762" itu="992" labelDE="Tadschikistan" labelEN="Tajikistan" labelFR="Tadjikistan" labelISO="TAJIKISTAN"/>
    <country iana="tw" isoA2="TW" isoA3="TWN" isoNum="158" itu="886" labelDE="Taiwan" labelEN="Taiwan" labelFR="Taïwan" labelISO="TAIWAN" phoneExit="002" phoneFormat="# #### ####"/>
    <country iana="tz" isoA2="TZ" isoA3="TZA" isoNum="834" itu="255" labelDE="Tansania" labelEN="Tanzania" labelFR="Tanzanie" labelISO="TANZANIA"/>
    <country iana="td" isoA2="TD" isoA3="TCD" isoNum="148" itu="235" labelDE="Tschad" labelEN="Chad" labelFR="Tchad" labelISO="CHAD"/>
    <country iana="tf" isoA2="TF" isoA3="ATF" isoNum="260" labelDE="Französische Süd-und Antarktisgebiete" labelEN="French Southern Territories" labelFR="Terres australes et antarctiques françaises" labelISO="FRENCH SOUTHERN TERRITORIES"/>
    <country iana="io" isoA2="IO" isoA3="IOT" isoNum="86" labelDE="Britisches Territorium im Indischen Ozean" labelEN="British Indian Ocean Territory" labelFR="Territoire britannique de l'océan Indien" labelISO="BRITISH INDIAN OCEAN TERRITORY"/>
    <country iana="th" isoA2="TH" isoA3="THA" isoNum="764" itu="66" labelDE="Thailand" labelEN="Thailand" labelFR="Thaïlande" labelISO="THAILAND" phoneExit="001" phoneFormat="#### ####"/>
    <country iana="tp" isoA2="TL" isoA3="TLS" isoNum="626" itu="670" labelDE="Timor-Leste" labelEN="Timor-Leste" labelFR="Timor-Leste" labelISO="TIMOR-LESTE"/>
    <country iana="tg" isoA2="TG" isoA3="TGO" isoNum="768" itu="228" labelDE="Togo" labelEN="Togo" labelFR="Togo" labelISO="TOGO"/>
    <country iana="tk" isoA2="TK" isoA3="TKL" isoNum="772" itu="690" labelDE="Tokelau" labelEN="Tokelau" labelFR="Tokelau" labelISO="TOKELAU"/>
    <country iana="to" isoA2="TO" isoA3="TON" isoNum="776" itu="676" labelDE="Tonga" labelEN="Tonga" labelFR="Tonga" labelISO="TONGA"/>
    <country iana="tt" isoA2="TT" isoA3="TTO" isoNum="780" itu="1868" labelDE="Trinidad und Tobago" labelEN="Trinidad and Tobago" labelFR="Trinité-et-Tobago" labelISO="TRINIDAD AND TOBAGO"/>
    <country iana="tn" isoA2="TN" isoA3="TUN" isoNum="788" itu="216" labelDE="Tunesien" labelEN="Tunisia" labelFR="Tunisie" labelISO="TUNISIA"/>
    <country iana="tm" isoA2="TM" isoA3="TKM" isoNum="795" itu="993" labelDE="Turkmenistan" labelEN="Turkmenistan" labelFR="Turkménistan" labelISO="TURKMENISTAN"/>
    <country iana="tr" isoA2="TR" isoA3="TUR" isoNum="792" itu="90" labelDE="Türkei" labelEN="Turkey" labelFR="Turquie" labelISO="TURKEY" phoneExit="00" phoneFormat="### ### ####"/>
    <country iana="tv" isoA2="TV" isoA3="TUV" isoNum="798" itu="688" labelDE="Tuvalu" labelEN="Tuvalu" labelFR="Tuvalu" labelISO="TUVALU"/>
    <country iana="ua" isoA2="UA" isoA3="UKR" isoNum="804" itu="380" labelDE="Ukraine" labelEN="Ukraine" labelFR="Ukraine" labelISO="UKRAINE"/>
    <country iana="uy" isoA2="UY" isoA3="URY" isoNum="858" itu="598" labelDE="Uruguay" labelEN="Uruguay" labelFR="Uruguay" labelISO="URUGUAY" phoneExit="00" phoneFormat="# ### ## ##"/>
    <country iana="vu" isoA2="VU" isoA3="VUT" isoNum="548" itu="678" labelDE="Vanuatu" labelEN="Vanuatu" labelFR="Vanuatu" labelISO="VANUATU"/>
    <country iana="va" isoA2="VA" isoA3="VAT" isoNum="336" itu="379" labelDE="Vatikan" labelEN="Vatican" labelFR="Vatican" labelISO="VATICAN CITY"/>
    <country iana="ve" isoA2="VE" isoA3="VEN" isoNum="862" itu="58" labelDE="Venezuela" labelEN="Venezuela" labelFR="Vénézuela" labelISO="VENEZUELA" phoneExit="00" phoneFormat="### #######"/>
    <country iana="vn" isoA2="VN" isoA3="VNM" isoNum="704" itu="84" labelDE="Vietnam" labelEN="Vietnam" labelFR="Viêtnam" labelISO="VIET NAM" phoneExit="00" phoneFormat="# ### ####"/>
    <country iana="wf" isoA2="WF" isoA3="WLF" isoNum="876" itu="681" labelDE="Wallis und Futuna" labelEN="Wallis and Futuna" labelFR="Wallis-et-Futuna" labelISO="WALLIS AND FUTUNA"/>
    <country iana="ye" isoA2="YE" isoA3="YEM" isoNum="887" itu="967" labelDE="Jemen" labelEN="Yemen" labelFR="Yémen" labelISO="YEMEN"/>
    <country iana="zm" isoA2="ZM" isoA3="ZMB" isoNum="894" itu="260" labelDE="Sambia" labelEN="Zambia" labelFR="Zambie" labelISO="ZAMBIA"/>
    <country iana="zw" isoA2="ZW" isoA3="ZWE" isoNum="716" itu="263" labelDE="Simbabwe" labelEN="Zimbabwe" labelFR="Zimbabwe" labelISO="ZIMBABWE"/>
  </entities>
  <entities schema="nms:deliveryMapping">
    <deliveryMapping builtIn="1" email="@email" label="Visitors" name="mapVisitor" schema="nms:visitor">
      <storage broadLogSchema="nms:broadLogVisitor" trackingLogSchema="nms:trackingLogVisitor"/>
      <defaultOrigin _operation="none" internalName="globalDeliveryVisitor"/>
      <folder _operation="none" name="nmsDeliveryMapping"/>
    </deliveryMapping>
    <deliveryMapping builtIn="1" label="External file" name="mapAny" schema="">
      <storage broadLogExclSchema="nms:excludeLogRcp" broadLogSchema="nms:broadLogRcp" exclusionType="2" trackingLogSchema="nms:trackingLogRcp"/>
      <folder _operation="none" name="nmsDeliveryMapping"/>
    </deliveryMapping>
    <deliveryMapping blackListAgency="@disable" blackListEmail="@disable" blackListFax="@disable" blackListPaper="@disable" blackListPhone="@disable" blackListSms="@disable" builtIn="1" email="Lower(@email)" label="Operators" name="mapOperator" schema="xtk:operator" sms="@mobilePhone">
      <storage broadLogSchema="nms:broadLogOp"/>
      <folder _operation="none" name="nmsDeliveryMapping"/>
    </deliveryMapping>
    <deliveryMapping blackListAgency="[recipient/@blackList]" blackListEmail="Iif([recipient/@blackList]!=0, 1, [recipient/@blackListEmail])" blackListFax="Iif([recipient/@blackList]!=0, 1, [recipient/@blackListFax])" blackListPaper="Iif([recipient/@blackList]!=0, 1, [recipient/@blackListPostalMail])" blackListPhone="Iif([recipient/@blackList]!=0, 1, [recipient/@blackListPhone])" blackListSms="Iif([recipient/@blackList]!=0, 1, [recipient/@blackListMobile])" builtIn="1" email="Lower(@address)" fax="@address" format="@emailFormat" label="Subscriptions" name="mapSubscribe" phone="@address" recipientLink="recipient" schema="nms:subscription" sms="@address">
      <storage broadLogExclSchema="nms:excludeLogRcp" broadLogSchema="nms:broadLogRcp" exclusionType="2" trackingLogSchema="nms:trackingLogRcp">
        <extraField dstXPath="[@service-id]" srcExpr="[@service-id]"/>
      </storage>
      <folder _operation="none" name="nmsDeliveryMapping"/>
    </deliveryMapping>
    <deliveryMapping blackListAgency="@blackList" blackListEmail="Iif(@blackList!=0, 1, @blackListEmail)" blackListFax="Iif(@blackList!=0, 1,@blackListFax)" blackListPaper="Iif(@blackList!=0, 1,@blackListPostalMail)" blackListPhone="Iif(@blackList!=0, 1,@blackListPhone)" blackListSms="Iif(@blackList!=0, 1,@blackListMobile)" builtIn="1" countryCode="[location/@countryCode]" email="Lower(@email)" fax="@fax" format="@emailFormat" label="Recipients" name="mapRecipient" paper="postalAddress" phone="@phone" schema="nms:recipient" sms="@mobilePhone">
      <storage broadLogExclSchema="nms:excludeLogRcp" broadLogSchema="nms:broadLogRcp" exclusionType="2" trackingLogSchema="nms:trackingLogRcp"/>
      <defaultOrigin _operation="none" internalName="globalDeliveryRcp"/>
      <folder _operation="none" name="nmsDeliveryMapping"/>
    </deliveryMapping>
  </entities>
  <entities schema="nms:includeView">
    <includeView label="Offer acceptance URL in unitary mode" name="UpdateStatusUrl">
      <source>
        <text>&lt;%@ include option='NmsServer_URL' %&gt;/interaction/&lt;%= interaction.env %&gt;/&lt;%= interaction.offerSpace %&gt;?a=UpdateStatus&amp;p=&lt;%= proposition.proposition_id%&gt;&amp;st=&lt;%= interaction.defaultUpdateStatus%&gt;&amp;r=&lt;%= encodeURIComponent(proposition.offer.view.trackedUrls.url_jst) %&gt;</text>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView label="Notification style" name="notificationStyle">
      <source>
        <text>html, body, input, select, textarea
{
  color: #FFFFFF;
  font-family: Arial,Verdana,Helvetica,sans-serif;
  font-size: 13px;
}

body {
  background:#FFFFFF;
}

td.header
{
  font-weight: bold;
  font-size: 20px;
  color: #4E6174;
}

table.innerTable
{
  background: #FFFFFF;
  background-image: url('&lt;%@ include option='NmsServer_IntranetURL' %&gt;/nl/img/bg_inner.png');
  background-repeat: no-repeat;
}

table.headerTable
{
  border: 1px solid #CCCCCC;
  background: #FFFFFF;
}

.headerDate
{
  display:        inline;
  float:          right;
  line-height:    14pt;
  vertical-align: middle;
  margin:         0px;
}

.headerDesc
{
  display:       inline;
  line-height:   14pt;
  vertical-align: middle;
}

.headerLine
{
  display: block;
  clear: both;
  border-top:    solid 1px #cccccc;
  border-bottom: solid 1px #cccccc;
  margin: 5px 10px 0px 10px;
}

td.normalMsg {
  background-color: #FAFAFA;
  border: 1px solid #D8E1EF;
  color: #333;
  padding: 4px;
}

td.warningMsg {
  background-color: #FEF9CF;
  border: 1px solid #FCEFA1;
  color: #906522;
  padding: 6px;
}

td.infoMsg {
  background-color: #D9EDF7;
  border: 1px solid #A8D6E0;
  color: #2B7295;
  padding: 6px;
}

td.successMsg {
  background-color: #DFF0D8;
  border: 1px solid #D6E9C6;
  color: #468847;
  padding: 6px;
}

table {
  font-size: 13px;
}

.errorMsg {
  background-color: #FEF1EC;
  border: 1px solid #F2BCBC;
  color: #B94A48;
  padding: 6px;
}

.actionFooter {
  border-top: 1px solid #DDD;
  height: 40px;
}

td.title
{
  color: #666666;
  vertical-align: top;
  width : 190px;
}

td.titleDesc
{
  color: #666666;
  vertical-align: top;
}

td.value
{
  color: #424040;
}

img
{
  vertical-align: middle;
}

.linkAction
{
  white-space: nowrap;
  vertical-align: middle;
}

a.linkAction, a.linkAction:active,  a.linkAction:hover, a.linkAction:visited
{
  color: #006D97;
  vertical-align: middle;
  text-decoration: underline;
}

.linkProcess
{
  white-space: nowrap;
  vertical-align: middle;
}

a.linkProcess, a.linkProcess:active,  a.linkProcess:visited
{
  color: #039;
  vertical-align: middle;
}

a.linkEdit, a.linkEdit:active, a.linkEdit:visited
{
  color: #039;
  text-decoration:underline;
  vertical-align: middle;
}

a.actionButton
{
  color: #039;
}</text>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView contentType="1" label="Style of content emails" name="emailContentStyle">
      <source>
        <text>#outlook a{padding:0;} /* Force Outlook to provide a "view in browser" button. */
body{width:100% !important;} .ReadMsgBody{width:100%;} .ExternalClass{width:100%;} /* Force Hotmail to display emails at full width */
body{-webkit-text-size-adjust:none;} /* Prevent Webkit platforms from changing default text sizes. */

body {
  background-color: #f3f3f3;
  font-family: Arial, Helvetica, sans-serif;
  font-size: 12px;
  color: #888;
}

.includeSection, #wrap {
  width: 600px;
  max-width: 600px;
}

#wrap {
  background-color: #FFF;
  border: 1px solid #BBB;
  margin: 0 auto;
  display: inline-block;
  text-align: left;
}

/* header area */
.header-title {
  font-weight: bold;
  font-size: 22px;
  color: white;
}

#header .center-title {
  top: 30px;
  width: 600px;
  text-align: center;
  position: absolute;
}

#header .right-title {
  text-align: left;
  margin-left: 245px;
  position: absolute;
  width: 355px;
  top: 40px;
}

.agree label {
  font-weight: normal;
}

ul {
  margin-top: 4px;
}

li {
  list-style-type: none;
  padding: 2px;
}

li:before {
  content: "\2023 \0020";
  font-weight: bold;
}

.bullet li {
  margin-left: 60px;
}

.bullet img {
  margin-right: 6px;
  margin-bottom: 4px;
}

#header .formulary-title {
  font-weight: bold;
}

/* layout */
.row {
  margin: 10px 0px;
  display: inline-block;
  width: 100%;
}

.main {
  width: 55%;
}

.aside {
  width: 35%;
  margin-right: 20px;
}

.sectionLeft {
  width: 45%;
  float: left;
  margin-left: 10px;
}

.sectionRight {
  width: 45%;
  float: right;
  margin-right: 10px;
}

.sectionLeft .title,
.sectionRight .title,
.sectionLeft .desc,
.sectionRight .desc {
  padding: 6px;
}

.sectionLeft .desc,
.sectionRight .desc {
  padding-top: 0px;
}

.aside .title {
  margin-bottom: 6px;
}

.with-border, .container-border {
  border-radius: 3px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border: 1px solid #DDD;
  padding: 10px;
}

/* content */
#content .title {
  font-weight: bold;
  color: #666;
  font-size: 14px;
}

#content .info {
  padding: 10px;
}

/* footer */
#footer {
  background: whitesmoke;
  border-top: 1px solid #DDD;
  width: 100%;
}

#footer a {
  color: #888;
}

#footer p {
  margin: 0;
}

#footer img {
  width: 20px;
  height: 20px;
  border: 0;
}

.info .title {
  margin-bottom: 4px;
}</text>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView contentType="1" label="Social network sharing links" name="ViralLinks">
      <source dependOnFormat="true">
        <html>&lt;p&gt;
  &lt;%
  if (document.mode != 'forward')
  {%&gt;
  &lt;a href="&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/webApp/viral?rId=&lt;%=escapeUrl(recipient.cryptedId)%&gt;&amp;dId=&lt;%=escapeUrl(cryptString(delivery.id))%&gt;&lt;%= typeof variables != 'undefined' &amp;&amp; typeof variables.model != 'undefined' ? '&amp;model='+variables.model : '' %&gt;&amp;referrerEmail=&lt;%=escapeUrl(cryptString(recipient.email))%&gt;&amp;referrerFirstName=&lt;%=recipient.firstName%&gt;&amp;referrerLastName=&lt;%=recipient.lastName%&gt;&amp;forwardUrl=&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/nl/jsp/s.jsp?c=&lt;%=escapeUrl(cryptString(message.deliveryPartId.toString(16)+'/'+message.id.toString(16))) %&gt;%26d=email,&lt;%=(delivery.id&lt;0 ? (delivery.id+4294967296) : delivery.id).toString(16).toLowerCase()%&gt;" target="_blank" _category="email" _label="email"&gt;&lt;img src="&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/xtk/img/mail.png" title="Email" alt="Email" width="24" height="24" border="0"/&gt;&lt;/a&gt;
  &lt;%}
  else
  {%&gt;
  &lt;a href="&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/webApp/viral?rId=&lt;%=escapeUrl(recipient.cryptedId)%&gt;&amp;dId=&lt;%=escapeUrl(cryptString(delivery.id))%&gt;&lt;%= typeof variables != 'undefined' &amp;&amp; typeof variables.model != 'undefined' ? '&amp;model='+variables.model : '' %&gt;&amp;forwardUrl=&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/nl/jsp/s.jsp?c=&lt;%=escapeUrl(cryptString(message.deliveryPartId.toString(16)+'/'+message.id.toString(16))) %&gt;%26d=email,&lt;%=(delivery.id&lt;0 ? (delivery.id+4294967296) : delivery.id).toString(16).toLowerCase()%&gt;" target="_blank" _category="email" _label="email"&gt;&lt;img src="&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/xtk/img/mail.png" title="Email" alt="Email" width="24" height="24" border="0"/&gt;&lt;/a&gt;
  &lt;%}%&gt;
  &lt;a href="http://www.facebook.com/share.php?u=&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/nl/jsp/s.jsp?c=&lt;%=escapeUrl(cryptString(message.deliveryPartId.toString(16)+'/'+message.id.toString(16))) %&gt;%26d=facebook,&lt;%=(delivery.id&lt;0 ? (delivery.id+4294967296) : delivery.id).toString(16).toLowerCase()%&gt;" target="_blank" _category="facebook" _label="facebook"&gt;&lt;img src="&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/xtk/img/facebook.png" title="Facebook" alt="Facebook" width="24" height="24" border="0"/&gt;&lt;/a&gt;

  &lt;a href="http://twitter.com/share?text=I'm+reading&amp;url=&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/nl/jsp/s.jsp?c=&lt;%=escapeUrl(cryptString(message.deliveryPartId.toString(16)+'/'+message.id.toString(16))) %&gt;%26d=twitter,&lt;%=(delivery.id&lt;0 ? (delivery.id+4294967296) : delivery.id).toString(16).toLowerCase()%&gt;" target="_blank" _label="twitter" _category="twitter"&gt;&lt;img src="&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/xtk/img/twitter.png" title="Twitter" alt="Twitter" width="24" height="24" border="0"/&gt;&lt;/a&gt;

  &lt;a href="http://plus.google.com/share?url=&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/nl/jsp/s.jsp?c=&lt;%=escapeUrl(cryptString(message.deliveryPartId.toString(16)+'/'+message.id.toString(16))) %&gt;%26d=google,&lt;%=(delivery.id&lt;0 ? (delivery.id+4294967296) : delivery.id).toString(16).toLowerCase()%&gt;" target="_blank" _label="google" _category="google"&gt;&lt;img src="&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/xtk/img/google_plus.png" title="Google" alt="Google" width="24" height="24" border="0"/&gt;&lt;/a&gt;

  &lt;a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/nl/jsp/s.jsp?c=&lt;%=escapeUrl(cryptString(message.deliveryPartId.toString(16)+'/'+message.id.toString(16))) %&gt;%26d=linkedin,&lt;%=(delivery.id&lt;0 ? (delivery.id+4294967296) : delivery.id).toString(16).toLowerCase()%&gt;" target="_blank" _label="linkedin" _category="linkedin"&gt;&lt;img src="&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/xtk/img/linkedin.png" title="Linkedin" alt="Linkedin" width="24" height="24" border="0"/&gt;&lt;/a&gt;

  &lt;/p&gt;</html>
        <text>&lt;%
  if (document.mode != 'forward')
  {%&gt;
   Email:
   (&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/webApp/viral?rId=&lt;%=escapeUrl(recipient.cryptedId)%&gt;&amp;dId=&lt;%=escapeUrl(cryptString(delivery.id))%&gt;&lt;%= typeof variables != 'undefined' &amp;&amp; typeof variables.model != 'undefined' ? '&amp;model='+variables.model : '' %&gt;&amp;referrerEmail=&lt;%=escapeUrl(cryptString(recipient.email))%&gt;&amp;referrerFirstName=&lt;%=recipient.firstName%&gt;&amp;referrerLastName=&lt;%=recipient.lastName%&gt;&amp;forwardUrl=&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/nl/jsp/s.jsp?c=&lt;%=escapeUrl(cryptString(message.deliveryPartId.toString(16)+'/'+message.id.toString(16)))%&gt;%26d=email,&lt;%=(delivery.id&lt;0 ? (delivery.id+4294967296) : delivery.id).toString(16).toLowerCase()%&gt;)
  &lt;%}
  else
  {%&gt;
   Email:
   (&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/webApp/viral?rId=&lt;%=escapeUrl(recipient.cryptedId)%&gt;&amp;dId=&lt;%=escapeUrl(cryptString(delivery.id))%&gt;&lt;%= typeof variables != 'undefined' &amp;&amp; typeof variables.model != 'undefined' ? '&amp;model='+variables.model : '' %&gt;&amp;forwardUrl=&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/nl/jsp/s.jsp?c=&lt;%=escapeUrl(cryptString(message.deliveryPartId.toString(16)+'/'+message.id.toString(16)))%&gt;%26d=email,&lt;%=(delivery.id&lt;0 ? (delivery.id+4294967296) : delivery.id).toString(16).toLowerCase()%&gt;)
  &lt;%}%&gt;
   Facebook:
   (http://www.facebook.com/share.php?u=&lt;%@ value object='provider' xpath='@mirrorURL' %&gt;/nl/jsp/s.jsp?c=&lt;%=escapeUrl(cryptString(message.deliveryPartId.toString(16)+'/'+message.id.toString(16))) %&gt;%26d=facebook,&lt;%=(delivery.id&lt;0 ? (delivery.id+4294967296) : delivery.id).toString(16).toLowerCase()%&gt;)

   Twitter:
   (http://twitter.com/share?text=I'm+reading&amp;url=&lt;%@ value object='provider' xpath='@mirrorURL'%&gt;/nl/jsp/s.jsp?c=&lt;%=escapeUrl(cryptString(message.deliveryPartId.toString(16)+'/'+message.id.toString(16))) %&gt;%26d=twitter,&lt;%=(delivery.id&lt;0 ? (delivery.id+4294967296) : delivery.id).toString(16).toLowerCase()%&gt;)

   Google:
   (http://plus.google.com/share?url=&lt;%@ value object='provider' xpath='@mirrorURL' %&gt;/nl/jsp/s.jsp?c=&lt;%=escapeUrl(cryptString(message.deliveryPartId.toString(16)+'/'+message.id.toString(16))) %&gt;%26d=google,&lt;%=(delivery.id&lt;0 ? (delivery.id+4294967296) : delivery.id).toString(16).toLowerCase()%&gt;)

   Linkedin:
   (http://www.linkedin.com/shareArticle?mini=true&amp;url=&lt;%@ value object='provider' xpath='@mirrorURL' %&gt;/nl/jsp/s.jsp?c=&lt;%=escapeUrl(cryptString(message.deliveryPartId.toString(16)+'/'+message.id.toString(16))) %&gt;%26d=linkedin,&lt;%=(delivery.id&lt;0 ? (delivery.id+4294967296) : delivery.id).toString(16).toLowerCase()%&gt;)</text>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView contentType="1" label="Registration confirmation" name="ConfirmationLink">
      <source dependOnFormat="true">
        <html>To confirm your registration, &lt;a href="&lt;%@ include view='SubscriptionUrl' %&gt;?id=&lt;%=escapeUrl(cryptString(recipient.id))%&gt;&amp;confirmation=1"&gt;click here&lt;/a&gt;.</html>
        <text>To confirm your registration, use this link: &lt;%@ include view='SubscriptionUrl' %&gt;?id=&lt;%=escapeUrl(cryptString(recipient.id))%&gt;&amp;confirmation=1</text>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView contentType="1" label="Registration link (with referrer)" name="SubscriptionLinkReferrer">
      <source dependOnFormat="true">
        <html>To register &lt;a href="&lt;%@ include view='SubscriptionUrl' %&gt;?rId=&lt;%= escapeUrl(cryptString(visitor.referrerId)) %&gt;&amp;dId=&lt;%= escapeUrl(cryptString(visitor.deliveryId)) %&gt;"&gt;click here&lt;/a&gt;.</html>
        <text>Use this link to register: &lt;%@ include view='SubscriptionUrl' %&gt;?rId=&lt;%= escapeUrl(cryptString(visitor.referrerId)) %&gt;&amp;dId=&lt;%= escapeUrl(cryptString(visitor.deliveryId)) %&gt;</text>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView contentType="1" label="Registration link" name="SubscriptionLink">
      <source dependOnFormat="true">
        <html>To register &lt;a href="&lt;%@ include view='SubscriptionUrl' %&gt;"&gt;click here&lt;/a&gt;.</html>
        <text>Use this link to register: &lt;%@ include view='SubscriptionUrl' %&gt;.</text>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView contentType="1" label="Registration page URL" name="SubscriptionUrl">
      <source>
        <text>&lt;%@ include option="NmsServer_URL" %&gt;/webApp/sub</text>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView label="Formatting function for proper nouns" name="toSmartCase">
      <source>
        <text>function toSmartCase(str)
{
  var strLower = str.toLowerCase(str);
  var nChar    = strLower.length;
  for (var i=0; i &lt; nChar; i++)
    if ( i == 0 || strLower.charAt(i-1) == ' ' || strLower.charAt(i-1) == '-' )
      strLower = strLower.substring(0, i) + strLower.charAt(i).toUpperCase() + strLower.substring(i+1);
            
  return strLower;
}</text>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView contentType="1" label="Unsubscription link" name="UnsubscriptionLink">
      <source dependOnFormat="true">
        <html>&lt;% if( document.mode != 'forward' ) { %&gt;&lt;font style="font-family: Verdana, Arial; font-size: 10px"&gt;&lt;p&gt;
You are receiving this message because you have been in contact with &lt;%@ include option='NmsEmail_ExpOrganization' %&gt; or an affiliate. To no longer receive messages from &lt;%@ include option='NmsEmail_ExpOrganization' %&gt;
&lt;a href="&lt;%@ include option='NmsServer_URL' %&gt;/webApp/unsub?id=&lt;%=escapeUrl(recipient.cryptedId)%&gt;" _label="Opt-out link" _type="optout"&gt;click here&lt;/a&gt;.
&lt;/p&gt; 
&lt;/font&gt;&lt;%}%&gt;</html>
        <text>&lt;% if( document.mode != 'forward' ) { %&gt;You are receiving this message because you have been in contact with &lt;%@ include option='NmsEmail_ExpOrganization' %&gt; or an affiliated company. To no longer receive messages from &lt;%@ include option='NmsEmail_ExpOrganization' %&gt; 
click here:
(&lt;%@ include option='NmsServer_URL' %&gt;/webApp/unsub?id=&lt;%=escapeUrl(recipient.cryptedId)%&gt;)&lt;%}%&gt;</text>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView contentType="1" label="Link to mirror page" name="MirrorPage">
      <source dependOnFormat="true">
        <html>&lt;% if ( document.mode != 'mirror' &amp;&amp; document.mode != 'forward' ) { %&gt;&lt;p align=center&gt;
  &lt;font style="font-family: Verdana, Arial; font-size: 10px"&gt;
  If you are unable to view this message correctly, 
  &lt;a href="&lt;%@ include view='MirrorPageUrl' %&gt;" _label="Mirror Page" _type="mirrorPage"&gt;click here&lt;/a&gt;
  &lt;/font&gt;
&lt;/p&gt;&lt;% } %&gt;</html>
        <text>----------------------------------------------------------------------------
To view this message in HTML format, click here:
(&lt;%@ include view='MirrorPageUrl' %&gt;)
or paste this link in a Web browser
----------------------------------------------------------------------------</text>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView contentType="1" label="Mirror page URL" name="MirrorPageUrl">
      <source>
        <text>&lt;%@ value object="provider" xpath="@mirrorURL" %&gt;/nl/jsp/m.jsp?c=&lt;%=escapeUrl(cryptString(message.deliveryPartId.toString(16)+'|'+message.id.toString(16)))%&gt;</text>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView label="Powered by Adobe Campaign" name="PoweredByNeolane">
      <source dependOnFormat="true">
        <html>&lt;a href="http://www.adobe.com/solutions/campaign-management.html" target="_blank"&gt;
  &lt;img align="right" src="&lt;%@ include option='NmsTracking_ServerUrl' %&gt;/nl/img/poweredby.jpg" border="0" width="113" height="41"&gt;
&lt;/a&gt;</html>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView label="Insert Logo" name="Logo">
      <source dependOnFormat="true">
        <html>&lt;a href="http://www.adobe.com/solutions/campaign-management.html" target="_blank"&gt;&lt;img src="&lt;%@ include option='NmsTracking_ServerUrl' %&gt;/nms/img/nms-logo-01.png" alt="Adobe Campaign" border="0"/&gt;&lt;/a&gt;</html>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView label="Greetings" name="Greetings">
      <source>
        <text>&lt;%
// Displays a salutation formula appropriate for the recipients' fields
// populated in the database (first name, last name and title)
// The following table defines the formula to use in each case
// (#0 is replaced with the title, #1 with the first name and #2 with the name)

var aGreetings =         // Tit Fir Las
['Hello,'         ,    //    
 'Hello,'         ,    //          X
 'Hello,'         ,    //      X
 'Hello #1 #2,'   ,    //      X   X
 'Hello #0,'      ,    //  X
 'Hello #0 #2,'   ,    //  X       X
 'Hello #0,'      ,    //  X   X   
 'Hello #0 #1 #2,'];   //  X   X   X 

var aField = [recipient.salutation,  // field corresponding to #0
              recipient.firstName,   // field corresponding to #1
              recipient.lastName];   // field corresponding to #2

var iIndex = 0, iCount = aField.length;
for( i=0 ; i&lt;iCount ; i++ )
{
  if( aField[i] != '' )
    iIndex += Math.pow(2,(iCount-i-1));
}

var sToDisp = aGreetings[iIndex];
sToDisp = sToDisp.replace(/#0/, aField[0]);
sToDisp = sToDisp.replace(/#1/, aField[1]);
sToDisp = sToDisp.replace(/#2/, aField[2]);
document.write(sToDisp);
%&gt;</text>
      </source>
      <folder _operation="none" name="nmsIncludeView"/>
    </includeView>
    <includeView contentType="1" label="Multiple offer" name="emailOfferMultiple" thumbnail="/nms/img/contentModels/miniatures/emailOfferMultiple.png" type="1" visible="0">
      <source dependOnFormat="true">
        <html>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt; &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;   &lt;head&gt;     &lt;meta http-equiv="Content-Language" content="en"&gt;     &lt;base href="&lt;%@ include option='NmsServer_URL' %&gt;"/&gt;     &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;    &lt;link rel="stylesheet" type="text/css" href="/nl/webForms/landingPage.css"/&gt;      &lt;title&gt;Multiple offer&lt;/title&gt;      &lt;style type="text/css" media="all"&gt;       &lt;%@ include view='emailContentStyle' %&gt;              /* override header title */       #header .right-title {         top: 80px;       }&lt;/style&gt;   &lt;/head&gt;   &lt;body style="" class=""&gt;
&lt;center&gt;
&lt;div class="includeSection"&gt;&lt;span id="span136421947265961" class="nl-dce-include" data-nl-view="MirrorPage" data-nl-label="Link to the mirror page (MirrorPage)"&gt;[Link to the mirror page]&lt;/span&gt;&lt;/div&gt;
&lt;table id="wrap" cellspacing="0" cellpadding="0"&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;img alt="placeholder_header" src="/nms/img/contentModels/placeholder_header.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;table id="content" cellspacing="4" cellpadding="4"&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;img alt="placeholder_block" src="/nms/img/contentModels/placeholder_block.png" /&gt;
&lt;div class="title"&gt;EFFICIENCY&lt;/div&gt;
&lt;div&gt;Our service is guaranteed to improve your efficiency. Increase performance and use our high-technology service to implement even the most ambitious of projects.&lt;/div&gt;
&lt;/td&gt;
&lt;td&gt;&lt;img alt="placeholder_block" src="/nms/img/contentModels/placeholder_block.png" /&gt;
&lt;div class="title"&gt;TAILOR MADE&lt;/div&gt;
&lt;div&gt;Personalized service that meets your needs. Our customers are at the heart of our strategy and we strive to satisfy them and support them while they face the challenges of today and tomorrow.&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;img alt="placeholder_block" src="/nms/img/contentModels/placeholder_block.png" /&gt;
&lt;div class="title"&gt;TIME SAVER&lt;/div&gt;
&lt;div&gt;A service that will enable you to save time on a daily basis. Thanks to the advanced automation of various tasks, you will be saving precious minutes. Make the most of your time.&lt;/div&gt;
&lt;/td&gt;
&lt;td&gt;&lt;img alt="placeholder_block" src="/nms/img/contentModels/placeholder_block.png" /&gt;
&lt;div class="title"&gt;WORLDWIDE&lt;/div&gt;
&lt;div&gt;Our service is available worldwide thanks to our international presence. Our customers in over 54 countries trust us entirely, which has enabled us to develop extensively acknowledged expertise.&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td id="footer"&gt;
&lt;table style="width: 100%;"&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="#"&gt;Contact us&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;
&lt;div&gt;&lt;span id="span136421934876622" class="nl-dce-include" data-nl-view="ViralLinks" data-nl-label="Share to social networks link (ViralLinks)"&gt;[Share to social networks link]&lt;/span&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td align="right"&gt;© Copyrights&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="includeSection"&gt;&lt;span id="span136421947265960" class="nl-dce-include" data-nl-view="UnsubscriptionLink" data-nl-label="Unsubscription link (UnsubscriptionLink)"&gt;[Unsubscription link]&lt;/span&gt;&lt;/div&gt;
&lt;/center&gt;
&lt;/body&gt; &lt;/html&gt;</html>
      </source>
      <folder _operation="none" name="nmsDigitalContentModel"/>
    </includeView>
    <includeView contentType="1" label="Detailed offer" name="emailOfferDetailed" thumbnail="/nms/img/contentModels/miniatures/emailOfferDetailed.png" type="1" visible="0">
      <source dependOnFormat="true">
        <html>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt; &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;   &lt;head&gt;     &lt;meta http-equiv="Content-Language" content="en"&gt;     &lt;base href="&lt;%@ include option='NmsServer_URL' %&gt;"/&gt;     &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;     &lt;link rel="stylesheet" type="text/css" href="/nl/webForms/landingPage.css"/&gt;    &lt;title&gt;Detailed offer&lt;/title&gt;      &lt;style type="text/css" media="all"&gt;       &lt;%@ include view='emailContentStyle' %&gt;              /* override header title */       #header .right-title {         top: 80px;       }&lt;/style&gt;   &lt;/head&gt;   &lt;body style="" class=""&gt;
&lt;center&gt;
&lt;div class="includeSection"&gt;&lt;span id="span136421947265961" class="nl-dce-include" data-nl-view="MirrorPage" data-nl-label="Link to the mirror page (MirrorPage)"&gt;[Link to the mirror page]&lt;/span&gt;&lt;/div&gt;
&lt;table id="wrap" cellspacing="0" cellpadding="0"&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;img alt="placeholder_header" src="/nms/img/contentModels/placeholder_header.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;table id="content" cellspacing="4" cellpadding="4"&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="main bullet"&gt;
&lt;table&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td valign="top"&gt;&lt;img alt="placeholder_section" src="/nms/img/contentModels/placeholder_section.png" /&gt;&lt;/td&gt;
&lt;td&gt;
&lt;div class="title"&gt;OUR OFFER&lt;/div&gt;
&lt;div&gt;Find out more about this exclusive offer. Get up to 40% off and access to our premium service. For more information, you can log on to our website or contact our customer service open 24/7.&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/td&gt;
&lt;td class="aside"&gt;
&lt;div class="with-border"&gt;
&lt;div class="title"&gt;WHO ARE WE?&lt;/div&gt;
&lt;div&gt;Our company was founded in 1999 and is currently present in over 54 countries. Thanks to our many key accounts, we are known as a reference in our line of business.&lt;/div&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td id="footer"&gt;
&lt;table style="width: 100%;"&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="#"&gt;Contact us&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;
&lt;div&gt;&lt;span id="span136421934876622" class="nl-dce-include" data-nl-view="ViralLinks" data-nl-label="Share to social networks link (ViralLinks)"&gt;[Share to social networks link]&lt;/span&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td align="right"&gt;© Copyrights&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="includeSection"&gt;&lt;span id="span136421947265960" class="nl-dce-include" data-nl-view="UnsubscriptionLink" data-nl-label="Unsubscription link (UnsubscriptionLink)"&gt;[Unsubscription link]&lt;/span&gt;&lt;/div&gt;
&lt;/center&gt;
&lt;/body&gt; &lt;/html&gt;</html>
      </source>
      <folder _operation="none" name="nmsDigitalContentModel"/>
    </includeView>
    <includeView contentType="2" label="Acquisition template 1" name="webAcquisition1" thumbnail="/nms/img/contentModels/miniatures/webAcquisition1.png" type="1" visible="0">
      <source dependOnFormat="true">
        <html>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
  &lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;
    &lt;link rel="stylesheet" type="text/css" href="/nl/webForms/landingPage.css"/&gt;
    &lt;title&gt;Acquisition tpl 1&lt;/title&gt;
  &lt;/head&gt;

  &lt;body style="" class=""&gt;
&lt;center&gt;
&lt;div id="wrap"&gt;
&lt;div id="header"&gt;&lt;img src="/nms/img/contentModels/placeholder_header.png" alt="placeholder_header" /&gt;
&lt;div class="header-title center-title"&gt;SPECIAL OFFER&lt;/div&gt;
&lt;/div&gt;
&lt;div id="content"&gt;
&lt;div class="row"&gt;
&lt;div class="main bullet"&gt;
&lt;div style="float: left;"&gt;&lt;img src="/nms/img/contentModels/placeholder_section.png" alt="placeholder_header" /&gt;&lt;/div&gt;
&lt;div class="title"&gt;OUR OFFER&lt;/div&gt;
&lt;div&gt;Find out more about this exclusive offer. Get 40% off and access to our premium service.&lt;br/&gt;For more information, log on to our website or contact our customer service, open 24/7.&lt;/span&gt;Find out more about this exclusive offer. Get 40% off and access to our premium service.&lt;/div&gt;
&lt;/div&gt;
&lt;div class="aside with-border"&gt;
&lt;div class="formulary"&gt;
&lt;div class="formulary-title"&gt;Find out more&lt;/div&gt;
&lt;form&gt;
&lt;div&gt;&lt;label&gt;Name*&lt;/label&gt;&lt;input id="name" type="text" data-nl-ismandatory="true" data-nl-label="Name" data-nl-xpath="@lastName" data-nl-type="string" /&gt;&lt;/div&gt;
&lt;div&gt;&lt;label&gt;Email*&lt;/label&gt;&lt;input id="email" type="text" data-nl-ismandatory="true" data-nl-label="Email" data-nl-xpath="@email" data-nl-type="string" /&gt;&lt;/div&gt;
&lt;div&gt;&lt;label&gt;Phone&lt;/label&gt;&lt;input id="phone" type="text" data-nl-label="Phone" data-nl-xpath="@phone" data-nl-type="string" /&gt;&lt;/div&gt;
&lt;/form&gt;
&lt;div class="button"&gt;&lt;a  href="#" data-nl-type="action" data-nl-action="next"&gt;Find out more&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="footer"&gt;
&lt;div style="text-align: center;"&gt;
&lt;div style="float: left;"&gt;&lt;a href="#"&gt;Contact us&lt;/a&gt;&lt;/div&gt;
&lt;div style="float: right;"&gt;&amp;copy; Copyrights&lt;/div&gt;
&lt;div&gt;&lt;a href="#"&gt;&lt;img title="fac</html>
      </source>
      <folder _operation="none" name="nmsDigitalContentModel"/>
    </includeView>
    <includeView contentType="2" label="Acquisition template 2" name="webAcquisition2" thumbnail="/nms/img/contentModels/miniatures/webAcquisition2.png" type="1" visible="0">
      <source dependOnFormat="true">
        <html>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
  &lt;head&gt;
    &lt;meta http-equiv="Content-Language" content="en"&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
    &lt;link rel="stylesheet" type="text/css" href="/nl/webForms/landingPage.css"/&gt;
    &lt;title&gt;Acquisition tpl 2&lt;/title&gt;

    &lt;style type="text/css" media="all"&gt;
      /* override formulary */
      #header .formulary {
        top: 25px;         
        margin-right: 10px;
        width: 180px;
        right: 0;
        position: absolute;   
      }&lt;/style&gt;
  &lt;/head&gt;

  &lt;body style="" class=""&gt;
&lt;center&gt;
&lt;div id="wrap"&gt;
&lt;div id="header"&gt;&lt;img src="/nms/img/contentModels/placeholder_header.png" alt="placeholder_header" /&gt;
&lt;div class="header-title left-title"&gt;SPECIAL OFFER&lt;/div&gt;
&lt;div class="formulary container-border"&gt;
&lt;div class="formulary-title"&gt;Find out more&lt;/div&gt;
&lt;form&gt;
&lt;div&gt;&lt;label&gt;Name*&lt;/label&gt;&lt;input id="name" type="text" data-nl-ismandatory="true" data-nl-label="Name" data-nl-xpath="@lastName" data-nl-type="string" /&gt;&lt;/div&gt;
&lt;div&gt;&lt;label&gt;Email*&lt;/label&gt;&lt;input id="email" type="text" data-nl-ismandatory="true" data-nl-label="Email" data-nl-xpath="@email" data-nl-type="string" /&gt;&lt;/div&gt;
&lt;div&gt;&lt;label&gt;Phone&lt;/label&gt;&lt;input id="phone" type="text" data-nl-label="Phone" data-nl-xpath="@phone" data-nl-type="string" /&gt;&lt;/div&gt;
&lt;/form&gt;
&lt;div class="button"&gt;&lt;a  href="#" data-nl-type="action" data-nl-action="next"&gt;Find out more&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="content"&gt;
&lt;div class="row"&gt;
&lt;div class="main bullet"&gt;
&lt;div style="float: left;"&gt;&lt;img src="/nms/img/contentModels/placeholder_section.png" alt="placeholder_section" /&gt;&lt;/div&gt;
&lt;div class="title"&gt;OUR OFFER&lt;/div&gt;
&lt;div&gt;Find out more about this exclusive offer. Get 40% off and access to our premium service.&lt;br /&gt;For more information, log on to our website or contact our customer service open 24/7.&lt;/div&gt;
&lt;/div&gt;
&lt;div class="aside with-border"&gt;</html>
      </source>
      <folder _operation="none" name="nmsDigitalContentModel"/>
    </includeView>
    <includeView contentType="2" label="Clickthrough" name="webClickThroughSimple" type="1" visible="0">
      <source dependOnFormat="true">
        <html>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
  &lt;head&gt;
    &lt;meta http-equiv="Content-Language" content="en"&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
    &lt;link rel="stylesheet" type="text/css" href="/nl/webForms/landingPage.css"/&gt;
    &lt;title&gt;Clickthrough&lt;/title&gt;

    &lt;style type="text/css" media="all"&gt;
      /* override formulary area */
      .formulary {
        top: 200px;
        position: absolute;
        left: 0;
      }
    &lt;/style&gt;
  &lt;/head&gt;

  &lt;body style="" class=""&gt;
&lt;center&gt;
&lt;div id="wrap"&gt;
&lt;div id="header"&gt;&lt;img src="/nms/img/contentModels/placeholder_header.png" alt="placeholder_header" /&gt;
&lt;div class="header-title center-title"&gt;SPECIAL OFFER&lt;/div&gt;
&lt;div class="formulary center-formulary"&gt;&lt;form&gt;
&lt;div class="button large-button"&gt;&lt;a href="#" data-nl-type="action" data-nl-action="next"&gt;Tell me more&lt;/a&gt;&lt;/div&gt;
&lt;/form&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id="content"&gt;
&lt;div class="row"&gt;
&lt;div class="info"&gt;
&lt;div class="desc"&gt;
&lt;div class="title"&gt;EFFICIENCY&lt;/div&gt;
&lt;div class="desc"&gt;Our service is guaranteed to improve your efficiency. Increase performance and use our high-technology service to implement even the most ambitious of projects.&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="footer"&gt;
&lt;div style="text-align: center;"&gt;
&lt;div style="float: left;"&gt;&lt;a href="#"&gt;Contact us&lt;/a&gt;&lt;/div&gt;
&lt;div style="float: right;"&gt;© Copyrights&lt;/div&gt;
&lt;div&gt;&lt;a href="#"&gt;&lt;img title="facebook" src="/xtk/img/facebook.png" alt="facebook" /&gt;&lt;/a&gt; &lt;a href="#"&gt;&lt;img title="Twitter" src="/xtk/img/twitter.png" alt="twitter" /&gt;&lt;/a&gt; &lt;a href="#"&gt;&lt;img title="Google" src="/xtk/img/google_plus.png" alt="google_plus" /&gt;&lt;/a&gt; &lt;a href="#"&gt;&lt;img title="Linkedin" src="/xtk/img/linkedin.png" alt="Linkedin" /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/center&gt;
&lt;/body&gt;
&lt;/html&gt;</html>
      </source>
      <folder _operation="none" name="nmsDigitalContentModel"/>
    </includeView>
    <includeView contentType="2" label="Detailed clickthrough" name="webClickThroughDetailed" thumbnail="/nms/img/contentModels/miniatures/webClickThroughDetailed.png" type="1" visible="0">
      <source dependOnFormat="true">
        <html>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
  &lt;head&gt;
    &lt;meta http-equiv="Content-Language" content="en"&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
    &lt;link rel="stylesheet" type="text/css" href="/nl/webForms/landingPage.css"/&gt;
    &lt;title&gt;Detailed clickthrough&lt;/title&gt;

    &lt;style type="text/css" media="all"&gt;
      /* override formulary area */
      .formulary {
        top: 200px;
        position: absolute;
        left: 0;
      }
    &lt;/style&gt;
  &lt;/head&gt;

  &lt;body style="" class=""&gt;
&lt;center&gt;
&lt;div id="wrap"&gt;
&lt;div id="header"&gt;&lt;img src="/nms/img/contentModels/placeholder_header.png" alt="placeholder_header" /&gt;
&lt;div class="header-title center-title"&gt;SPECIAL OFFER&lt;/div&gt;
&lt;div class="formulary center-formulary"&gt;&lt;form&gt;
&lt;div class="button large-button"&gt;&lt;a  href="#" data-nl-type="action" data-nl-action="next"&gt;Tell me more&lt;/a&gt;&lt;/div&gt;
&lt;/form&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id="content"&gt;
&lt;div class="row"&gt;
&lt;div class="sectionLeft"&gt;
&lt;div style="text-align: center;"&gt;&lt;img src="/nms/img/contentModels/placeholder_block.png" alt="placeholder_block" /&gt;&lt;/div&gt;
&lt;div class="title"&gt;EFFICIENCY&lt;/div&gt;
&lt;div class="desc"&gt;Our service is guaranteed to improve your efficiency. Increase performance and use our high-technology service to implement even the most ambitious of projects.&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sectionRight"&gt;
&lt;div style="text-align: center;"&gt;&lt;img src="/nms/img/contentModels/placeholder_block.png" alt="placeholder_block" /&gt;&lt;/div&gt;
&lt;div class="title"&gt;TAILOR MADE&lt;/div&gt;
&lt;div class="desc"&gt;Personalized service that meets your needs. Our customers are at the heart of our strategy and we strive to satisfy them and support them while they face the challenges of today and tomorrow.&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="row"&gt;
&lt;div class="sectionLeft"&gt;
&lt;div style="text-align: center;"&gt;&lt;img src="/nms/img/contentModels/placeholder_block.png" alt="placeholder_block" /&gt;&lt;/div&gt;
&lt;div class="title"&gt;TIME SAVER&lt;/div&gt;
&lt;div class="desc"&gt;Use our service to save time on a daily basis. Thanks to our advanced automation of various tasks, you will be saving precious minutes. Make the most of your time.&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sectionRight"&gt;
&lt;div style="text-align: center;"&gt;&lt;img src="/nms/img/contentModels/placeholder_block.png" alt="placeholder_block" /&gt;&lt;/div&gt;
&lt;div class="title"&gt;WORLDWIDE&lt;/div&gt;
&lt;div class="desc"&gt;A service available worldwide thanks to our international presence. Our customers in over 54 countries trust us and have enabled us to develop acknowledged expertise.&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="footer"&gt;
&lt;div style="text-align: center;"&gt;
&lt;div style="float: left;"&gt;&lt;a href="#"&gt;Contact us&lt;/a&gt;&lt;/div&gt;
&lt;div style="float: right;"&gt;© Copyrights&lt;/div&gt;
&lt;div&gt;&lt;a href="#"&gt;&lt;img title="facebook" src="/xtk/img/facebook.png" alt="facebook" /&gt;&lt;/a&gt; &lt;a href="#"&gt;&lt;img title="Twitter" src="/xtk/img/twitter.png" alt="twitter" /&gt;&lt;/a&gt; &lt;a href="#"&gt;&lt;img title="Google" src="/xtk/img/google_plus.png" alt="google_plus" /&gt;&lt;/a&gt; &lt;a href="#"&gt;&lt;img title="Linkedin" src="/xtk/img/linkedin.png" alt="Linkedin" /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/center&gt;
&lt;/body&gt;
&lt;/html&gt;</html>
      </source>
      <folder _operation="none" name="nmsDigitalContentModel"/>
    </includeView>
    <includeView contentType="1" label="Simple offer" name="emailOfferSimple" thumbnail="/nms/img/contentModels/miniatures/emailOfferSimple.png" type="1" visible="0">
      <source dependOnFormat="true">
        <html>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt; &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;   &lt;head&gt;     &lt;meta http-equiv="Content-Language" content="en"&gt;     &lt;base href="&lt;%@ include option='NmsServer_URL' %&gt;"/&gt;     &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;     &lt;link rel="stylesheet" type="text/css" href="/nl/webForms/landingPage.css"/&gt;  &lt;title&gt;Simple offer&lt;/title&gt;      &lt;style type="text/css" media="all"&gt;       &lt;%@ include view='emailContentStyle' %&gt;              /* override header title */       #header .right-title {         top: 80px;       }&lt;/style&gt;   &lt;/head&gt;   &lt;body style="" class=""&gt;
&lt;center&gt;
&lt;div class="includeSection"&gt;&lt;span id="span136421947265961" class="nl-dce-include" data-nl-view="MirrorPage" data-nl-label="Link to the mirror page (MirrorPage)"&gt;[Link to the mirror page]&lt;/span&gt;&lt;/div&gt;
&lt;table id="wrap" cellspacing="0" cellpadding="0"&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;img alt="placeholder_header" src="/nms/img/contentModels/placeholder_header.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;table id="content" cellspacing="4" cellpadding="4"&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="bullet"&gt;
&lt;table&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td valign="top"&gt;&lt;img alt="placeholder_section" src="/nms/img/contentModels/placeholder_section.png" /&gt;&lt;/td&gt;
&lt;td valign="top"&gt;
&lt;div class="title"&gt;OUR OFFER&lt;/div&gt;
&lt;div&gt;Find out more about this exclusive offer. Get up to 40% off and access to our premium service. For more information, you can log on to our website or contact our customer service open 24/7.&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td id="footer"&gt;
&lt;table style="width: 100%;"&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="#"&gt;Contact us&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;
&lt;div&gt;&lt;span id="span136421934876622" class="nl-dce-include" data-nl-view="ViralLinks" data-nl-label="Share to social networks link (ViralLinks)"&gt;[Share to social networks link]&lt;/span&gt;&lt;/div&gt;
&lt;/td&gt;
&lt;td align="right"&gt;© Copyrights&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="includeSection"&gt;&lt;span id="span136421947265960" class="nl-dce-include" data-nl-view="UnsubscriptionLink" data-nl-label="Unsubscription link (UnsubscriptionLink)"&gt;[Unsubscription link]&lt;/span&gt;&lt;/div&gt;
&lt;/center&gt;
&lt;/body&gt; &lt;/html&gt;</html>
      </source>
      <folder _operation="none" name="nmsDigitalContentModel"/>
    </includeView>
    <includeView contentType="2" label="Contact" name="webInformationRequest" thumbnail="/nms/img/contentModels/miniatures/webInformationRequest.png" type="1" visible="0">
      <source dependOnFormat="true">
        <html>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
  &lt;head&gt;
    &lt;meta http-equiv="Content-Language" content="en"&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
    &lt;link rel="stylesheet" type="text/css" href="/nl/webForms/landingPage.css"/&gt;
    &lt;title&gt;Contact us&lt;/title&gt;

    &lt;style type="text/css" media="all"&gt;
      /* override formulary area */
      .formulary {
        margin-top: 10px;
      }

      /* override section size */
      .main {
        width: 65%;
      }

      .aside {
        width: 25%;
      }&lt;/style&gt;
  &lt;/head&gt;

  &lt;body style="" class=""&gt;
&lt;center&gt;
&lt;div id="wrap"&gt;
&lt;div id="header"&gt;&lt;img src="/nms/img/contentModels/placeholder_header.png" alt="placeholder_header" /&gt;
&lt;div class="header-title center-title"&gt;STAY CONNECTED&lt;/div&gt;
&lt;/div&gt;
&lt;div id="content"&gt;
&lt;div class="formulary"&gt;&lt;center&gt;&lt;form class="formulary-200"&gt;
&lt;div style="display: inline-block;"&gt;
&lt;div style="float: left;"&gt;&lt;label style="float: left;"&gt;Your email:&lt;/label&gt;&lt;input id="email" type="text" data-nl-ismandatory="true" data-nl-label="Email" data-nl-type="string" data-nl-xpath="@email" /&gt;&lt;/div&gt;
&lt;div class="button" style="margin-left: 4px;"&gt;&lt;a  href="#" data-nl-action="next" data-nl-type="action"&gt;Send&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="formulary-title"&gt;Enter your email to receive our newsletter.&lt;/div&gt;
&lt;/form&gt;&lt;/center&gt;&lt;/div&gt;
&lt;div class="row"&gt;
&lt;div class="main bullet"&gt;
&lt;div style="float: left;"&gt;&lt;img src="/nms/img/contentModels/placeholder_section.png" alt="placeholder_section" /&gt;&lt;/div&gt;
&lt;div&gt;
&lt;div class="title"&gt;WHAT DO WE HAVE TO OFFER?&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;A reliable service that will increase your efficiency&lt;/li&gt;
&lt;li&gt;A service that will enable you to save time on a daily basis&lt;/li&gt;
&lt;li&gt;A service that matches your needs&lt;/li&gt;
&lt;li&gt;A service that will enable you to save time on a daily basis&lt;/li&gt;
&lt;li&gt;A service available worldwide thanks to our international presence.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="aside with-border"&gt;
&lt;div class="title"&gt;WHO ARE WE?&lt;/div&gt;
&lt;div&gt;Our company was founded in 1999 and is currently present in over 54 countries. Thanks to a number of key accounts, we have become famous for our expertise and are a reference within our line of business.&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="footer"&gt;
&lt;div style="text-align: center;"&gt;
&lt;div style="float: left;"&gt;&lt;a href="#"&gt;Contact us&lt;/a&gt;&lt;/div&gt;
&lt;div style="float: right;"&gt;© Copyrights&lt;/div&gt;
&lt;div&gt;&lt;a href="#"&gt;&lt;img title="facebook" src="/xtk/img/facebook.png" alt="facebook" /&gt;&lt;/a&gt; &lt;a href="#"&gt;&lt;img title="Twitter" src="/xtk/img/twitter.png" alt="twitter" /&gt;&lt;/a&gt; &lt;a href="#"&gt;&lt;img title="Google" src="/xtk/img/google_plus.png" alt="google_plus" /&gt;&lt;/a&gt; &lt;a href="#"&gt;&lt;img title="Linkedin" src="/xtk/img/linkedin.png" alt="Linkedin" /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/center&gt;
&lt;/body&gt;
&lt;/html&gt;</html>
      </source>
      <folder _operation="none" name="nmsDigitalContentModel"/>
    </includeView>
  </entities>
  <entities schema="nms:offer">
    <offer builtIn="1" contentStatus="0" eligibilityStatus="0" endDate="" isModel="1" label="New offer" name="emptyOffer" startDate="">
      <filter schema="" targetSchema="nms:recipient"/>
      <view>
        <unitaryUpdateStatusUrl_jst>&lt;%@ include view="UpdateStatusUrl" %&gt;</unitaryUpdateStatusUrl_jst>
      </view>
      <category _operation="none" name="nmsOfferModel"/>
    </offer>
  </entities>
  <entities schema="nms:offerEnv">
    <offerEnv builtIn="1" image-name="access.png" image-namespace="xtk" inputSchema="" label="Access Management" model="xtkFolder" name="xtkAccess" order="10">
      <parent _operation="none" name="xtkAdministration"/>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="dashboard.png" image-namespace="xtk" inputSchema="" label="Dashboards" model="xtkDashboard" name="xtkDashboard" order="35" schema="xtk:dashboard" system="1">
      <parent _operation="none" name="xtkAccess"/>
      <where filteringSchema="xtk:dashboard"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="grpright.png" image-namespace="xtk" inputSchema="" label="Named rights" model="xtkNamedRight" name="xtkNamedRight" order="30" schema="xtk:operator">
      <parent _operation="none" name="xtkAccess"/>
      <where filteringSchema="xtk:operator"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="group.png" image-namespace="xtk" inputSchema="" label="Operator groups" model="xtkGroup" name="xtkGroup" order="20" schema="xtk:operator">
      <parent _operation="none" name="xtkAccess"/>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkGroup"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <where filteringSchema="xtk:operator"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="operator.png" image-namespace="xtk" inputSchema="" label="Operators" model="xtkOperator" name="xtkOperator" order="10" schema="xtk:operator">
      <parent _operation="none" name="xtkAccess"/>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkOperator"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <where filteringSchema="xtk:operator"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="localOrgUnit.png" image-namespace="nms" inputSchema="" label="Organizational entities" model="nmsLocalOrgUnit" name="nmsLocalOrgUnit" order="40" schema="nms:localOrgUnit">
      <parent _operation="none" name="xtkAccess"/>
      <where filteringSchema="nms:localOrgUnit"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="campaign.png" image-namespace="nms" inputSchema="" label="Campaign Management" model="xtkFolder" name="nmsCampaignAdmin" order="40">
      <parent _operation="none" name="xtkAdministration"/>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="unknown.png" image-namespace="nms" inputSchema="" label="Non deliverables Management" model="xtkFolder" name="nmsNPAIParams" order="20">
      <parent _operation="none" name="nmsCampaignAdmin"/>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="unknown.png" image-namespace="nms" inputSchema="" label="Delivery log qualification" model="nmsBroadLogMsg" name="nmsBroadLogMsg" order="20" schema="nms:broadLogMsg">
      <parent _operation="none" name="nmsNPAIParams"/>
      <where filteringSchema="nms:broadLogMsg"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="ruleSet.png" image-namespace="nms" inputSchema="" label="Mail rule sets" model="nmsRuleSet" name="nmsRuleSets" order="10" schema="nms:ruleSet">
      <parent _operation="none" name="nmsNPAIParams"/>
      <where filteringSchema="nms:ruleSet"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="unknownad.png" image-namespace="nms" inputSchema="" label="Non deliverables and addresses" model="nmsAddress" name="nmsAddress" order="30" schema="nms:address">
      <parent _operation="none" name="nmsNPAIParams"/>
      <where filteringSchema="nms:address"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="deliveryMapping.png" image-namespace="nms" inputSchema="" label="Target mappings" model="nmsDeliveryMapping" name="nmsDeliveryMapping" order="30" schema="nms:deliveryMapping">
      <parent _operation="none" name="nmsCampaignAdmin"/>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsDeliveryMapping"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsDeliveryMapping"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <where filteringSchema="nms:deliveryMapping"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="deliveryModel.png" image-namespace="nms" inputSchema="" label="Technical delivery templates" model="nmsDeliveryModel" name="nmsTechnicalDeliveryModel" order="40" schema="nms:delivery" system="1">
      <parent _operation="none" name="nmsCampaignAdmin"/>
      <where filteringSchema="nms:delivery"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="typofolder.png" image-namespace="nms" inputSchema="" label="Typology management" model="xtkFolder" name="nmsTypologyMgt" order="10">
      <parent _operation="none" name="nmsCampaignAdmin"/>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsTypologyMgt"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="typofolder.png" image-namespace="nms" inputSchema="" label="Typologies" model="nmsTypology" name="nmsTypology" order="20" schema="nms:typology">
      <parent _operation="none" name="nmsTypologyMgt"/>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsTypology"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:typology"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="typorulefolder.png" image-namespace="nms" inputSchema="" label="Typology rules" model="nmsTypologyRule" name="nmsTypologyRule" order="10" schema="nms:typologyRule">
      <parent _operation="none" name="nmsTypologyMgt"/>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsTypologyRule"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:typologyRule"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="parameters.png" image-namespace="xtk" inputSchema="" label="Configuration" model="xtkFolder" name="xtkParameters" order="20">
      <parent _operation="none" name="xtkAdministration"/>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="olapCube.png" image-namespace="xtk" inputSchema="" label="Cubes" model="xtkOlapCube" name="xtkOlapCube" order="165" schema="xtk:olapCube">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="xtk:olapCube"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="schema.png" image-namespace="xtk" inputSchema="" label="Data schemas" model="xtkSrcSchema" name="xtkSrcSchema" order="30" schema="xtk:srcSchema">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="xtk:srcSchema"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="script.png" image-namespace="xtk" inputSchema="" label="Dynamic JavaScript pages" model="xtkJSSP" name="xtkJSSP" order="120" schema="xtk:jssp">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="xtk:jssp"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="formrendering.png" image-namespace="xtk" inputSchema="" label="Form rendering" model="xtkFormRendering" name="xtkFormRendering" order="150" schema="xtk:formRendering">
      <parent _operation="none" name="xtkParameters"/>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkFormRendering"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="xtk:formRendering"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="dictionary.png" image-namespace="xtk" inputSchema="" isView="1" label="Global dictionary" model="xtkDictionary" name="xtkGlobalDictionary" order="140" schema="xtk:dictionaryString">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="xtk:dictionaryString"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="dictionary.png" image-namespace="xtk" inputSchema="" label="System dictionary" model="xtkDictionary" name="xtkSystemDictionary" order="20" schema="xtk:dictionaryString">
      <parent _operation="none" name="xtkGlobalDictionary"/>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkSystemDictionary"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="xtk:dictionaryString"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="dictionary.png" image-namespace="xtk" inputSchema="" label="User dictionary" model="xtkDictionary" name="xtkUserDictionary" order="10" schema="xtk:dictionaryString">
      <parent _operation="none" name="xtkGlobalDictionary"/>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="xtkUserDictionary"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="xtk:dictionaryString"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="imgfolder.png" image-namespace="xtk" inputSchema="" label="Images" model="xtkImage" name="xtkImage" order="50" schema="xtk:image">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="xtk:image"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="form.png" image-namespace="xtk" inputSchema="" label="Input forms" model="xtkForm" name="xtkForm" order="40" schema="xtk:form">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="xtk:form"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="javascript.png" image-namespace="xtk" inputSchema="" label="JavaScript codes" model="xtkJavascript" name="xtkJavascript" order="90" schema="xtk:javascript">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="xtk:javascript"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="jst.png" image-namespace="xtk" inputSchema="" label="JavaScript templates" model="xtkJst" name="xtkJst" order="80" schema="xtk:jst">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="xtk:jst"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="navtree.png" image-namespace="xtk" inputSchema="" label="Navigation hierarchies" model="xtkNavTree" name="xtkNavTree" order="60" schema="xtk:navtree">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="xtk:navtree"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="installedPackage.png" image-namespace="xtk" inputSchema="" label="Package management" model="xtkFolder" name="xtkPackageManagement" order="10">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="conflict.png" image-namespace="xtk" inputSchema="" label="Edit conflicts" model="xtkConflict" name="xtkConflict" order="40" schema="xtk:conflict">
      <parent _operation="none" name="xtkPackageManagement"/>
      <where filteringSchema="xtk:conflict"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="installedPackage.png" image-namespace="xtk" inputSchema="" label="Installed packages" model="xtkPackage" name="xtkPackage" order="20" schema="xtk:package">
      <parent _operation="none" name="xtkPackageManagement"/>
      <where filteringSchema="xtk:package"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="specfile.png" image-namespace="xtk" inputSchema="" label="Package definitions" model="xtkSpecFile" name="xtkSpecFile" order="30" schema="xtk:specFile">
      <parent _operation="none" name="xtkPackageManagement"/>
      <where filteringSchema="xtk:specFile"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="installedPackage.png" image-namespace="xtk" inputSchema="" label="Package installation" model="xtkPackageInstall" name="xtkPackageInstall" order="10" schema="xtk:packageInstall">
      <parent _operation="none" name="xtkPackageManagement"/>
      <where filteringSchema="xtk:packageInstall"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="filter.png" image-namespace="xtk" inputSchema="" label="Predefined filters" model="xtkQueryFilter" name="xtkQueryFilter" order="100" schema="xtk:queryFilter" system="1">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="xtk:queryFilter"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="report.png" image-namespace="xtk" inputSchema="" label="Reports" model="xtkReport" name="xtkReport" order="170" schema="xtk:report">
      <parent _operation="none" name="xtkParameters"/>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkReport"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="xtk:report"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="reportModel.png" image-namespace="xtk" inputSchema="" label="Report templates" model="xtkReportModel" name="xtkReportModel" order="10" schema="xtk:report">
      <parent _operation="none" name="xtkReport"/>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="xtkReportModel"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="xtk:report"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="sql.png" image-namespace="xtk" inputSchema="" label="SQL scripts" model="xtkSql" name="xtkSql" order="110" schema="xtk:sql">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="xtk:sql"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="comment.png" image-namespace="xtk" inputSchema="" label="String groups" model="xtkStrings" name="xtkStrings" order="130" schema="xtk:strings">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="xtk:strings"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="webApp.png" image-namespace="nms" inputSchema="" label="Web applications" model="nmsWebApp" name="nmsTechnicalWebApp" order="160" schema="nms:webApp" system="1">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="nms:webApp"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="xslt.png" image-namespace="xtk" inputSchema="" label="XSL style sheets" model="xtkXslt" name="xtkStylesheet" order="70" schema="xtk:xslt">
      <parent _operation="none" name="xtkParameters"/>
      <where filteringSchema="xtk:xslt"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="extAccount.png" image-namespace="nms" inputSchema="" label="Platform" model="xtkFolder" name="xtkPlatformAdmin" order="30">
      <parent _operation="none" name="xtkAdministration"/>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="counter.png" image-namespace="xtk" inputSchema="" label="Counters" model="xtkCounter" name="xtkCounter" order="40" schema="xtk:counter">
      <parent _operation="none" name="xtkPlatformAdmin"/>
      <where filteringSchema="xtk:counter"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="enum.png" image-namespace="xtk" inputSchema="" label="Enumerations" model="xtkEnum" name="xtkEnumeration" order="30" schema="xtk:enum">
      <parent _operation="none" name="xtkPlatformAdmin"/>
      <where filteringSchema="xtk:enum"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="extAccount.png" image-namespace="nms" inputSchema="" label="External Accounts" model="nmsExtAccount" name="nmsExtAccount" order="10" schema="nms:extAccount">
      <parent _operation="none" name="xtkPlatformAdmin"/>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsExtAccount"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:extAccount"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="option.png" image-namespace="xtk" inputSchema="" label="Options" model="xtkOption" name="xtkOption" order="20" schema="xtk:option">
      <parent _operation="none" name="xtkPlatformAdmin"/>
      <where filteringSchema="xtk:option"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="execute.png" image-namespace="xtk" inputSchema="" label="Production" model="xtkFolder" name="nmsProduction" order="70">
      <parent _operation="none" name="xtkAdministration"/>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="folder.png" image-namespace="xtk" inputSchema="" label="Objects created automatically" model="xtkFolder" name="nmsAutoObjects" order="20">
      <parent _operation="none" name="nmsProduction"/>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="olapAggregate.png" image-namespace="xtk" inputSchema="" label="Aggregates" model="nmsGroup" name="aggregates" order="100" schema="nms:group">
      <parent _operation="none" name="nmsAutoObjects"/>
      <where filteringSchema="nms:group"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="workflow.png" image-namespace="xtk" inputSchema="" label="Aggregation workflows" model="xtkWorkflow" name="xtkWkfAggregate" order="60" schema="xtk:workflow">
      <parent _operation="none" name="nmsAutoObjects"/>
      <where filteringSchema="xtk:workflow"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="task.png" image-namespace="xtk" inputSchema="" label="Approvals pending" model="xtkWorkflowTask" name="xtkWorkflowTask" order="30" schema="xtk:workflowTask">
      <parent _operation="none" name="nmsAutoObjects"/>
      <rights inherit="0" propagate="1" rights="read|write">
        <folder _operation="none" name="xtkWorkflowTask"/>
        <operator _operation="none" name="workflow" type="1"/>
      </rights>
      <where filteringSchema="xtk:workflowTask"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="campaign.png" image-namespace="nms" inputSchema="" label="Technical deliveries" model="nmsDelivery" name="nmsTechnicalDelivery" order="10" schema="nms:delivery" system="1">
      <parent _operation="none" name="nmsAutoObjects"/>
      <where filteringSchema="nms:delivery"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="campaign.png" image-namespace="nms" inputSchema="" label="Billing" model="nmsDelivery" name="nmsBillingDelivery" order="20" schema="nms:delivery" system="1">
      <parent _operation="none" name="nmsTechnicalDelivery"/>
      <where filteringSchema="nms:delivery"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="campaign.png" image-namespace="nms" inputSchema="" label="Confirmations" model="nmsDelivery" name="nmsConfirmationDelivery" order="30" schema="nms:delivery">
      <parent _operation="none" name="nmsTechnicalDelivery"/>
      <where filteringSchema="nms:delivery"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="campaign.png" image-namespace="nms" inputSchema="" label="Social sharing" model="nmsDelivery" name="nmsViralDelivery" order="40" schema="nms:delivery">
      <parent _operation="none" name="nmsTechnicalDelivery"/>
      <where filteringSchema="nms:delivery"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="campaign.png" image-namespace="nms" inputSchema="" label="Workflow notifications" model="nmsDelivery" name="nmsWorkflowNotif" order="10" schema="nms:delivery" system="1">
      <parent _operation="none" name="nmsTechnicalDelivery"/>
      <where filteringSchema="nms:delivery"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="micrositeTracker.png" image-namespace="nms" inputSchema="" label="Web application tracking tags" model="micrositeTracker" name="micrositeTracker" order="10" schema="nms:trackingUrl">
      <parent _operation="none" name="nmsAutoObjects"/>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="micrositeTracker"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:trackingUrl"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="scheduler.png" image-namespace="xtk" inputSchema="" label="Technical workflows" model="xtkWorkflow" name="nmsTechnicalWorkflow" noShared="true" order="10" schema="xtk:workflow">
      <parent _operation="none" name="nmsProduction"/>
      <where filteringSchema="xtk:workflow"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="workflow.png" image-namespace="xtk" inputSchema="" label="Campaign process" model="xtkWorkflow" name="nmsCampaignProcess" schema="xtk:workflow">
      <parent _operation="none" name="nmsTechnicalWorkflow"/>
      <where filteringSchema="xtk:workflow"/>
    </offerEnv>
    <offerEnv entity="xtk:folder" image-name="workflow.png" image-namespace="xtk" inputSchema="" label="Test" model="xtkWorkflow" name="Folder1" order="2" schema="xtk:workflow">
      <parent _operation="none" name="nmsTechnicalWorkflow"/>
      <where filteringSchema="xtk:workflow"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="campaign.png" image-namespace="nms" inputSchema="" label="Deliveries" model="nmsDelivery" name="nmsRootDelivery" order="30" schema="nms:delivery">
      <parent _operation="none" name="nmsCampaignMgt"/>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsRootDelivery"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsRootDelivery"/>
        <operator _operation="none" name="report" type="1"/>
      </rights>
      <where filteringSchema="nms:delivery"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="recycle.png" image-namespace="nms" inputSchema="" isView="1" label="Deleted deliveries" model="nmsRecycledDelivery" name="nmsRecycledDelivery" order="10" schema="nms:delivery">
      <parent _operation="none" name="nmsRootDelivery"/>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsRecycledDelivery"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsRecycledDelivery"/>
        <operator _operation="none" name="report" type="1"/>
      </rights>
      <where filteringSchema="nms:delivery"/>
    </offerEnv>
    <offerEnv image-name="offerEnv.png" image-namespace="nms" label="Environment - Recipient" model="nmsOfferEnv" name="designRcp" order="10" propositionSchema="nms:propositionRcp" schema="nms:offer">
      <where filteringSchema="nms:offer">
        <condition expr="[category/@fullName] LIKE $(folderFullName) + '%'" internalId="1304346516"/>
      </where>
      <filter schema="nms:recipient"/>
      <parent _operation="none" name="nmsOfferMgt"/>
      <prodEnv _operation="none" name="liveRcp"/>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="designRcp"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
    </offerEnv>
    <offerEnv builtIn="1" image-name="admin.png" image-namespace="xtk" inputSchema="" label="Administration" model="xtkFolder" name="nmsOfferAdmin_designRcp" order="10">
      <parent _operation="none" name="designRcp"/>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsOfferAdmin_designRcp"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="offerSpace.png" image-namespace="nms" inputSchema="" label="Offer spaces" model="nmsOfferSpace" name="nmsOfferSpacePreProd" order="10" schema="nms:offerSpace">
      <parent _operation="none" name="nmsOfferAdmin_designRcp"/>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsOfferSpacePreProd"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsOfferSpacePreProd"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:offerSpace"/>
    </offerEnv>
    <offerEnv image-name="offerCategory.png" image-namespace="nms" inputSchema="" label="Offer catalog" model="nmsOfferCategory" name="categoryRootRcp" order="20" schema="nms:offer">
      <parent _operation="none" name="designRcp"/>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="categoryRootRcp"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="categoryRootRcp"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:offer"/>
    </offerEnv>
    <offerEnv image-name="offerEnv.png" image-namespace="nms" label="Environment - Recipient" live="1" model="nmsOfferEnv" name="liveRcp" order="10" propositionSchema="nms:propositionRcp" schema="nms:offer">
      <where filteringSchema="nms:offer">
        <condition expr="[category/@fullName] LIKE $(folderFullName) + '%'" internalId="1304346516"/>
      </where>
      <filter schema="nms:recipient"/>
      <parent _operation="none" name="nmsOfferMgtProd"/>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="liveRcp"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="liveRcp"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
    </offerEnv>
    <offerEnv builtIn="1" image-name="admin.png" image-namespace="xtk" inputSchema="" label="Administration" model="xtkFolder" name="nmsOfferAdmin_liveRcp" order="10">
      <parent _operation="none" name="liveRcp"/>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsOfferAdmin_liveRcp"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="offerSpace.png" image-namespace="nms" inputSchema="" label="Offer spaces" model="nmsOfferSpace" name="nmsOfferSpacePreProd_liveRcp" order="10" schema="nms:offerSpace">
      <parent _operation="none" name="nmsOfferAdmin_liveRcp"/>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsOfferSpacePreProd_liveRcp"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsOfferSpacePreProd_liveRcp"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <where filteringSchema="nms:offerSpace"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="execute.png" image-namespace="xtk" inputSchema="" label="Jobs" model="xtkFolder" name="nmsProfilProcess" order="50">
      <parent _operation="none" name="nmsProfil"/>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsProfilProcess"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="job.png" image-namespace="xtk" inputSchema="" label="Generic imports and exports" model="xtkJobInstance" name="xtkJob" order="20" schema="xtk:dataTransfer">
      <parent _operation="none" name="nmsProfilProcess"/>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="xtkJob"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="xtk:dataTransfer"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="workflow.png" image-namespace="xtk" inputSchema="" label="Targeting workflows" model="xtkWorkflow" name="xtkWorkflow" order="10" schema="xtk:workflow">
      <parent _operation="none" name="nmsProfilProcess"/>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="xtkWorkflow"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkWorkflow"/>
        <operator _operation="none" name="workflow" type="1"/>
      </rights>
      <where filteringSchema="xtk:workflow"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="fldrcpgrp.png" image-namespace="nms" inputSchema="" label="Lists" model="nmsGroup" name="nmsGroup" order="20" schema="nms:group">
      <parent _operation="none" name="nmsProfil"/>
      <rights inherit="1" propagate="1" rights="read|write">
        <folder _operation="none" name="nmsGroup"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:group"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="valuestats.png" image-namespace="xtk" inputSchema="" label="Predefined filters" model="xtkQueryFilter" name="nmsSegment" order="30" schema="xtk:queryFilter">
      <parent _operation="none" name="nmsProfil"/>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsSegment"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="xtk:queryFilter"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="rcpFolder.png" image-namespace="nms" inputSchema="" label="Recipients" model="nmsRecipient" name="nmsRootRecipient" order="10" schema="nms:recipient">
      <parent _operation="none" name="nmsProfil"/>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsRootRecipient"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsRootRecipient"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <where filteringSchema="nms:recipient"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="setofservices.png" image-namespace="nms" inputSchema="" label="Services and Subscriptions" model="nmsSetOfServices" name="nmsSetOfServices" order="40" schema="nms:service">
      <parent _operation="none" name="nmsProfil"/>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsSetOfServices"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:service"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="visitorFolder.png" image-namespace="nms" inputSchema="" label="Visitors" model="nmsVisitor" name="nmsVisitor" order="40" schema="nms:visitor">
      <parent _operation="none" name="nmsProfil"/>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsVisitor"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:visitor"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="campaign.png" image-namespace="nms" inputSchema="" label="Campaign Management" model="xtkFolder" name="nmsCampaignRes" order="20">
      <parent _operation="none" name="nmsResources"/>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsCampaignRes"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="folderview.png" image-namespace="nms" inputSchema="" label="Personalization blocks" model="nmsIncludeView" name="nmsIncludeView" order="10" schema="nms:includeView">
      <parent _operation="none" name="nmsCampaignRes"/>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsIncludeView"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:includeView"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="unknownad.png" image-namespace="nms" inputSchema="" label="Seed addresses" model="nmsSeedList" name="nmsSeedList" order="20" schema="nms:seedMember">
      <where filteringSchema="nms:seedMember">
        <condition expr="@isModel = 1" internalId="1"/>
      </where>
      <parent _operation="none" name="nmsCampaignRes"/>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsSeedList"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
    </offerEnv>
    <offerEnv builtIn="1" image-name="world.png" image-namespace="nms" inputSchema="" label="Online" model="xtkFolder" name="nmsOnlineRes" order="30">
      <parent _operation="none" name="nmsResources"/>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsOnlineRes"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="textfile.png" image-namespace="xtk" inputSchema="" label="Public resources" model="xtkFileRes" name="xtkFileRes" order="20" schema="xtk:fileRes">
      <parent _operation="none" name="nmsOnlineRes"/>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="xtkFileRes"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="xtkFileRes"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <where filteringSchema="xtk:fileRes"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="webApp.png" image-namespace="nms" inputSchema="" label="Web applications" model="nmsWebApp" name="nmsWebApp" order="10" schema="nms:webApp">
      <parent _operation="none" name="nmsOnlineRes"/>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsWebApp"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:webApp"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="webtracking.png" image-namespace="nms" inputSchema="" label="Web tracking tags" model="nmsWebTracking" name="nmsWebTracking" order="30" schema="nms:trackingUrl">
      <parent _operation="none" name="nmsOnlineRes"/>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsWebTracking"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:trackingUrl"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="folder.png" image-namespace="xtk" inputSchema="" label="Templates" model="xtkFolder" name="nmsModels" order="10">
      <parent _operation="none" name="nmsResources"/>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsModels"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema=""/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="folderview.png" image-namespace="nms" inputSchema="" label="Content templates" model="nmsDigitalContentModel" name="nmsDigitalContentModel" order="120" schema="nms:includeView">
      <parent _operation="none" name="nmsModels"/>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsDigitalContentModel"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:includeView"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="deliveryModel.png" image-namespace="nms" inputSchema="" label="Delivery templates" model="nmsDeliveryModel" name="nmsDeliveryModel" order="10" schema="nms:delivery">
      <parent _operation="none" name="nmsModels"/>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsDeliveryModel"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:delivery"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="model.png" image-namespace="xtk" inputSchema="" label="Job templates" model="xtkJobModel" name="xtkJobModel" order="40" schema="xtk:dataTransfer">
      <parent _operation="none" name="nmsModels"/>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="xtkJobModel"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="xtk:dataTransfer"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="offer.png" image-namespace="nms" inputSchema="" label="Offer templates" model="nmsOfferModel" name="nmsOfferModel" order="95" schema="nms:offer">
      <parent _operation="none" name="nmsModels"/>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsOfferModel"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <where filteringSchema="nms:offer"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="webAppModel.png" image-namespace="nms" inputSchema="" label="Web application templates" model="nmsWebAppModel" name="nmsWebAppModel" order="50" schema="nms:webApp">
      <parent _operation="none" name="nmsModels"/>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsWebAppModel"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <where filteringSchema="nms:webApp"/>
    </offerEnv>
    <offerEnv builtIn="1" image-name="workflowModel.png" image-namespace="xtk" inputSchema="" label="Workflow templates" model="xtkWorkflowModel" name="xtkWorkflowModel" order="30" schema="xtk:workflow">
      <parent _operation="none" name="nmsModels"/>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="xtkWorkflowModel"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkWorkflowModel"/>
        <operator _operation="none" name="workflow" type="1"/>
      </rights>
      <where filteringSchema="xtk:workflow"/>
    </offerEnv>
  </entities>
  <entities schema="nms:offerSpace">
    <offerSpace channel="3" label="Direct Mail" name="paper">
      <representationFields isMandatory="1" xpath="[view/shortContent]"/>
      <representationFields isMandatory="1" xpath="[view/textSource]"/>
      <env _operation="none" name="designRcp"/>
      <folder _operation="none" name="nmsOfferSpacePreProd"/>
    </offerSpace>
    <offerSpace label="Email" name="email">
      <representationFields isMandatory="1" xpath="[view/imageUrl]"/>
      <representationFields isMandatory="1" xpath="[view/trackedUrls/url]"/>
      <representationFields isMandatory="1" xpath="[view/shortContent]"/>
      <rendering useHtmlFunction="1">
        <htmlFunction>function (imageUrl, targetUrl, shortContent){
      var html = "&lt;a _urlType='11' href='" + targetUrl + "'&gt;&lt;img src='" + encodeURI(imageUrl) + "'/&gt;&lt;/a&gt;";
      html += "&lt;p&gt;" + shortContent + "&lt;/p&gt;";
      return html;
    }</htmlFunction>
      </rendering>
      <env _operation="none" name="designRcp"/>
      <folder _operation="none" name="nmsOfferSpacePreProd"/>
    </offerSpace>
    <offerSpace channel="3" label="Direct Mail" name="paper">
      <representationFields isMandatory="1" xpath="[view/shortContent]"/>
      <representationFields isMandatory="1" xpath="[view/textSource]"/>
      <env _operation="none" name="liveRcp"/>
      <folder _operation="none" name="nmsOfferSpacePreProd_liveRcp"/>
    </offerSpace>
    <offerSpace label="Email" name="email">
      <representationFields isMandatory="1" xpath="[view/imageUrl]"/>
      <representationFields isMandatory="1" xpath="[view/trackedUrls/url]"/>
      <representationFields isMandatory="1" xpath="[view/shortContent]"/>
      <rendering useHtmlFunction="1">
        <htmlFunction>function (imageUrl, targetUrl, shortContent){
      var html = "&lt;a _urlType='11' href='" + targetUrl + "'&gt;&lt;img src='" + encodeURI(imageUrl) + "'/&gt;&lt;/a&gt;";
      html += "&lt;p&gt;" + shortContent + "&lt;/p&gt;";
      return html;
    }</htmlFunction>
      </rendering>
      <env _operation="none" name="liveRcp"/>
      <folder _operation="none" name="nmsOfferSpacePreProd_liveRcp"/>
    </offerSpace>
  </entities>
  <entities schema="nms:ruleSet">
    <ruleSet label="Bounce mails" name="defaultBounces">
      <rule failureReason="25" failureType="3" forward="true" forwardAddress="deliverability@neolane.com" name="AOL_postmaster">
        <text>var res;
var sFrom = typeof from == "undefined" ? "" : from.toLowerCase();

if( sFrom.indexOf("postmaster@aol.com") != -1 )
  res=true;
else
  res=false;</text>
      </rule>
      <rule failureReason="1" failureType="2" name="User_unknown">
        <text>var res;
var sSubj = subject.toLowerCase();
var sFrom = from.toLowerCase();
var sBody = "";
if( body["content"] != null )
  sBody = contents.toLowerCase();

  if( sSubj.indexOf('user unknown') != -1
    || sSubj.indexOf('user-unknown') != -1
    || sSubj.indexOf('not listed in domino directory') != -1
    || sSubj.indexOf('non recensé dans l\'annuaire Domino') != -1
    || sSubj.indexOf('nicht im domino verzeichnis') != -1
    || sSubj.indexOf('wrong user name') != -1 )
    res = true;
  else if( sBody.indexOf("user unknown") != -1
      || sBody.indexOf("user-unknown") != -1
      || sBody.indexOf("unknown user") != -1
      || sBody.indexOf("bad name") != -1
      || sBody.indexOf("does not exist") != -1
      || sBody.indexOf("rejected by the remote server") != -1
      || sBody.indexOf("unknown or illegal alias") != -1
      || sBody.indexOf("addresses were unknown") != -1
      || sBody.indexOf("address is unknown") != -1
      || sBody.indexOf("no mailbox here by that name") != -1
      || sBody.indexOf("mailbox not found") != -1
      || sBody.indexOf("bad destination mailbox address") != -1
      || sBody.indexOf("email name is not found") != -1
      || sBody.indexOf("not listed in public name &amp; address book") != -1
      || sBody.indexOf("non recensé dans le carnet d'adresses public") != -1
      || sBody.indexOf("destinataire inconnu") != -1
      || sBody.indexOf("invalid recipient") != -1
      || sBody.indexOf("mailbox does not exist") != -1
      || sBody.indexOf("unknown recipient") != -1
      || sBody.indexOf("adresse inexistante") != -1
      || sBody.indexOf("nom du destinataire n'est pas reconnu") != -1
      || sBody.indexOf("no user by that name") != -1
      || sBody.indexOf("user does not have a mailbox") != -1
      || sBody.indexOf("recipient name is not recognized") != -1
      || sBody.indexOf("undeliverable address") != -1
      || sBody.indexOf("unknown local-part") != -1
      || sBody.indexOf("user not found") != -1
      || sBody.indexOf("unbekannter empfänger") != -1
      || sBody.indexOf("nom de messagerie de l'utilisateur introuvable") != -1
      || sBody.indexOf("invalid final delivery userid") != -1
      || sBody.indexOf("recipient not known") != -1
      || sBody.indexOf("no such recipient") != -1
      || sBody.indexOf("unknown virtual user") != -1
      || sBody.indexOf("user not known") != -1
      || sBody.indexOf("not found in directory") != -1
      || sBody.indexOf("invalid mail address") != -1
      || sBody.indexOf("recipient not here") != -1
      || sBody.indexOf("adresse invalide") != -1
      || sBody.indexOf("mailbox unknown") != -1
      || sBody.indexOf("no such user") != -1
      || sBody.indexOf("mailbox unavailable") != -1
      || sBody.indexOf("recipient unknown") != -1
      || sBody.indexOf("address is unrecognized") != -1
      || sBody.indexOf("address not known") != -1
      || sBody.indexOf("malformed address") != -1
      || sBody.indexOf("user do not exist") != -1
      || sBody.indexOf("utilisateur introuvable") != -1
      || sBody.indexOf("bad address") != -1
      || sBody.indexOf("invalid mail names") != -1
      || sBody.indexOf("recipient not found") != -1
      || sBody.indexOf("is not a valid mailbox") != -1
      || sBody.indexOf("recipient invalid") != -1
      || sBody.indexOf("reason: unknown") != -1
      || sBody.indexOf("following recipients could not be reached") != -1
      || sBody.indexOf("receiver not found") != -1
      || sBody.indexOf("mailbox doesn") != -1
      || sBody.indexOf("not found in the cc:mail directory") != -1
      || sBody.indexOf("invalid address") != -1
      || sBody.indexOf("invalid route address") != -1
      || sBody.indexOf("host unknown") != -1
      || sBody.indexOf("nicht im öffentlichem adreßbuch aufgeführt") != -1
      || sBody.indexOf("the user's email name is not found") != -1
      || sBody.indexOf("the following destination addresses were unknown") != -1
      || sBody.indexOf("nonlocal address") != -1
      || sBody.indexOf("recipient's name &amp; address aook entry does not specify a valid notes mail file") != -1
      || sBody.indexOf("incorrect address") != -1
      || sBody.indexOf("absoleted") != -1
      || sBody.indexOf("receiver not found") != -1
      || sBody.match(/the username \S+ is not known to this mailserver/)
      || sBody.match(/user \S+ is unknown/)
      || sBody.match(/user \S+ is not found/)
      || sBody.match(/invalid .{0,15} recipient/)
      || sBody.indexOf("status: 5.1.1") != -1
      || sBody.indexOf("there are no users here by that name") != -1 )
    res=true;
  else
    res=false;</text>
      </rule>
      <rule failureReason="5" failureType="1" name="Mailbox_full">
        <text>var res;
var sBody = "";
if( body["content"] != null )
  sBody = contents.toLowerCase();

  if( sBody.indexOf("mailbox full") != -1
      || sBody.indexOf("exceeded storage allocation") != -1
      || sBody.indexOf("quota exceeded") != -1
      || sBody.indexOf("over quota") != -1
      || sBody.indexOf("over the allowed quota") != -1
      || sBody.indexOf("boite pleine") != -1
      || sBody.indexOf("boîte pleine") != -1
      || sBody.indexOf("exceeded email quota") != -1
      || sBody.indexOf("exceeded their disk quota") != -1
      || sBody.indexOf("capacite maximale") != -1
      || sBody.indexOf("capacité maximale") != -1
      || sBody.indexOf("reached disk quota") != -1
      || sBody.indexOf("exceeds allowed size") != -1
      || sBody.indexOf("mailbox exceeds allowed message") != -1
      || sBody.indexOf("mailbox overflow") != -1
      || sBody.indexOf("no storage space available in mailbox") != -1
      || sBody.indexOf("max. mailbox size is reached") != -1
      || sBody.indexOf("insufficient system storage") != -1
      || sBody.indexOf("insufficient disk space") != -1
      || sBody.indexOf("mailbox size exceeded") != -1
      || sBody.indexOf("disk quota exceeded") != -1
      || sBody.indexOf("mailbox is full") != -1
      || sBody.indexOf("full mailbox") != -1
      || sBody.indexOf("disk full") != -1
      || sBody.indexOf("boîte aux lettres saturée") != -1
      || sBody.indexOf("benutzer hat zu viele mails auf dem server&amp;") != -1
      || sBody.indexOf("benutzer hat das speichervolumen ueberschritten") != -1
      || sBody.indexOf("status: 5.2.2") != -1
      || sBody.indexOf("5.2.2 over storage quota") != -1 )
    res=true;
  else
    res=false;</text>
      </rule>
      <rule failureReason="3" failureType="2" name="Unreachable">
        <text>var res;
var sBody = "";
if( body["content"] != null )
  sBody = contents.toLowerCase();

  if( sBody.indexOf("this is a permanent error") != -1
      || sBody.indexOf("the following addresses had permanent fatal errors") != -1 )
    res=true;
  else
    res=false;</text>
      </rule>
      <rule failureReason="4" failureType="2" name="Account_disabled">
        <text>var res;
var sBody = "";
if( body["content"] != null )
  sBody = contents.toLowerCase();

  if( sBody.indexOf("inactive user") != -1
      || sBody.indexOf("account is disabled") != -1
      || sBody.indexOf("user inactive") != -1
      || sBody.indexOf("recipient no longer on server") != -1
      || sBody.indexOf("mailbox has been suspended") != -1
      || sBody.indexOf("cette boîte n'existe plus") != -1
      || sBody.indexOf("email account has been shutdown") != -1
      || sBody.indexOf("is no longer valid") != -1
      || sBody.indexOf("user account inactive") != -1
      || sBody.indexOf("mailbox account closed") != -1
      || sBody.indexOf("account expired") != -1
      || sBody.indexOf("is no longer at this address") != -1
      || sBody.indexOf("address no longer accepts mail") != -1
      || sBody.indexOf("this account has been disabled or discontinued") != -1
      || sBody.indexOf("mail receiving disabled") != -1
      || sBody.indexOf("l'adresse n'est plus en activite") != -1 )
    res=true;
  else
    res=false;</text>
      </rule>
      <rule failureReason="3" failureType="3" name="Auto_replies">
        <text>var res;
var sSubj = subject.toLowerCase();
var sFrom = from.toLowerCase();
var sBody = "";
var sPrecedence = typeof precedence == "undefined" ? "" : precedence.toLowerCase();

if( body["content"] != null )
  sBody = contents.toLowerCase();

  if( sSubj.indexOf("auto-reply") != -1
    || sSubj.indexOf("autoreply") != -1
    || sSubj.indexOf("automated reply") != -1
    || sSubj.indexOf("automated response") != -1
    || sSubj.indexOf("auto-response") != -1
    || sSubj.indexOf("auto responder") != -1
    || sSubj.indexOf("automatic reply") != -1
    || sSubj.indexOf("risposta automatica") != -1
    || sSubj.indexOf("réponse automatique") != -1
    || sSubj.indexOf("reponse automatique") != -1
    || sSubj.indexOf("out of office") != -1
    || sSubj.indexOf("out of the office") != -1
    || sSubj.indexOf("absent(e)") != -1
    || sSubj.indexOf("abwesenheitsnotiz") != -1
    || sSubj.indexOf("abwesenheitsmeldung") != -1
    || sSubj.indexOf("ist außer Haus") != -1
    || sSubj.indexOf("automatisch antwoord") != -1
    || sSubj.indexOf("ausente de la oficina") != -1
    || sSubj.indexOf("Abwesenheitsmeldung") != -1
    || sSubj.indexOf("automatique d'absence") != -1 )
    res = true;
  else if( sFrom.indexOf("auto-reply") != -1
    || sFrom.indexOf("autoreplyagent") != -1
    || sFrom.indexOf("autoreply") != -1 )
    res = true;
  else if( sBody.indexOf("is currently on vacation") != -1
      || sBody.indexOf("serai absent") != -1
      || sBody.indexOf("suis absent") != -1
      || sBody.indexOf("i will be away from") != -1
      || sBody.indexOf("suis en congé") != -1
      || sBody.indexOf("automated response to your message") != -1
      || sBody.indexOf("je m'absente") != -1
      || sBody.indexOf("actuellement absent") != -1
      || sBody.indexOf("i'm away") != -1
      || sBody.indexOf("i am away") != -1
      || sBody.indexOf("i'm on holiday") != -1
      || sBody.indexOf("i am on holiday") != -1
      || sBody.indexOf("serai absent") != -1
      || sBody.indexOf("serai de retour") != -1
      || sBody.indexOf("maternity leave") != -1
      || sBody.indexOf("absente actuellement") != -1
      || sBody.indexOf("absent actuellement") != -1
      || sBody.indexOf("en vacances") != -1
      || sBody.indexOf("auto-acknowledgment") != -1
      || sBody.indexOf("out of office") != -1
      || sBody.indexOf("out of the office") != -1
      || sBody.indexOf("absent(e)") != -1
      || sBody.indexOf("Estaré ausente de la oficina") != -1
      || sBody.indexOf("nicht im Büro") != -1
      || sBody.indexOf("automatique d'absence") != -1 )
    res=true;
  else if( sPrecedence == "junk" )
    res=true;
  else
    res=false;</text>
      </rule>
      <rule failureReason="3" failureType="1" name="Probably_unreachable">
        <text>var res;
var sBody = "";
if( body["content"] != null )
  sBody = contents.toLowerCase();

  if( sBody.indexOf("i'm not going to try again; this message has been in the queue too long") != -1 ||
      (sBody.indexOf("action: failed") != -1 &amp;&amp; sBody.indexOf("status: 5.") != -1) )
    res=true;
  else
    res=false;</text>
      </rule>
      <rule failureReason="3" failureType="3" name="Other_responses">
        <text>var res;
var sSubj = subject.toLowerCase();
var sFrom = from.toLowerCase();
var sBody = "";
if( body["content"] != null )
  sBody = contents.toLowerCase();

  if( sSubj.indexOf("x400 inter-personal notificatio") != -1
    || sSubj.indexOf("x.400 inter-personal notification") != -1 )
    res = true;
  else if( sFrom.indexOf("automail") != -1
    || sFrom.indexOf("notify") != -1
    || sFrom.indexOf("autoresponder") != -1
    || sFrom.indexOf("mailguard") != -1
    || sFrom.indexOf("sweeper") != -1
    || sFrom.indexOf("daemon") != -1
    || sFrom.indexOf("nondelivery") != -1
    || sFrom.indexOf("daemon") != -1
    || sFrom.indexOf("portmaster") != -1
    || sFrom.indexOf("proxymaster") != -1
    || sFrom.indexOf("mailer-daemon") != -1
    || sFrom.indexOf("administrator") != -1
    || sFrom.indexOf("postmaster") != -1
    || sFrom.indexOf("mail delivery") != -1
    || sFrom.indexOf("notification") != -1 )
    res=true;
  else if( sBody.indexOf("delivery prohibited") != -1 )
    res=true;
  else
    res=false;</text>
      </rule>
      <rule failureReason="3" failureType="3" name="Temporary_errors">
        <text>var res;
var sBody = "";
if( body["content"] != null )
  sBody = contents.toLowerCase();

  if( sBody.indexOf("delivery time expired") != -1 )
    res=true;
  else
    res=false;</text>
      </rule>
      <rule failureReason="20" failureType="2" name="Feedback_loop">
        <text>var res = false;
var sSubj = typeof subject == "undefined" ? "" : subject.toLowerCase();

if( sSubj.indexOf('client tos notification') != -1 ||
    sSubj.indexOf('email feedback report') != -1 ||
    sSubj.indexOf('spam complaint') != -1 ||
    sSubj.indexOf('unsubscribe') != -1 ||
    sSubj.indexOf('abuse report') != -1 ||
    sSubj.indexOf('complaint about message') != -1 )
  res = true;
else
{
  var sFrom = typeof from == "undefined" ? "" : from.toLowerCase();

  if( sFrom.indexOf("scomp@aol.net") != -1 ||
      sFrom.indexOf("feedback@arf.mail.yahoo.com") != -1 )
    res = true;

  var sTo = typeof to == "undefined" ? "" : to.toLowerCase();
  if( sTo.indexOf("@hotmail.") != -1 ||
      sTo.indexOf("@msn.") != -1 ||
      sTo.indexOf("@live.") != -1 )
    res = true;
}</text>
      </rule>
    </ruleSet>
    <ruleSet label="Management of email domains" mode="3" name="defaultDomains">
      <domainRule mask="hotmail.*" senderID="1"/>
      <domainRule mask="msn.*" senderID="1"/>
      <domainRule mask="live.*" senderID="1"/>
      <domainRule dkim="1" mask="yahoo.*" senderID="1"/>
      <domainRule dkim="1" mask="btinternet.*" senderID="1"/>
      <domainRule dkim="1" mask="talk21.*" senderID="1"/>
      <domainRule dkim="1" mask="rogers.*" senderID="1"/>
      <domainRule dkim="1" mask="rocketmail.*" senderID="1"/>
      <domainRule dkim="1" mask="gmail.*" senderID="1"/>
      <domainRule dkim="1" mask="aol.*" senderID="1"/>
      <domainRule dkim="1" mask="earthlink.*" senderID="1"/>
      <domainRule dkim="1" mask="sbcglobal.*" senderID="1"/>
      <domainRule dkim="1" mask="bellsouth.*" senderID="1"/>
      <domainRule dkim="1" mask="cox.*" senderID="1"/>
      <domainRule dkim="1" mask="port25.*" senderID="1"/>
      <domainRule dkim="1" mask="bell.*" senderID="1"/>
      <domainRule dkim="1" mask="mindspring.*" senderID="1"/>
      <domainRule dkim="1" mask="peoplepc.*" senderID="1"/>
      <domainRule mask="*"/>
    </ruleSet>
    <ruleSet label="MX management" mode="4" name="defaultMXRules">
      <MXRule connectionTimeout="10" dataTimeout="240" mask="*.mail.yahoo.com" maxConnections="30" maxMessages="5" maxMessagesPerHour="1200" shared="1" timeout="60"/>
      <MXRule connectionTimeout="10" dataTimeout="240" mask="*.wanadoo.fr" maxConnections="3" maxMessages="100" maxMessagesPerHour="900" timeout="60"/>
      <MXRule connectionTimeout="10" dataTimeout="240" mask="*.orange.fr" maxConnections="3" maxMessages="100" maxMessagesPerHour="900" timeout="60"/>
      <MXRule connectionTimeout="10" dataTimeout="240" mask="*.free.fr" maxConnections="2" maxMessages="5" maxMessagesPerHour="180" shared="1" timeout="60"/>
      <MXRule connectionTimeout="10" dataTimeout="240" mask="*.comcast.com" maxConnections="2" maxMessages="100" maxMessagesPerHour="360" shared="1" timeout="60"/>
      <MXRule connectionTimeout="10" dataTimeout="240" mask="*.comcast.net" maxConnections="2" maxMessages="100" maxMessagesPerHour="360" shared="1" timeout="60"/>
      <MXRule connectionTimeout="10" dataTimeout="240" mask="*.google.com" maxConnections="10" maxMessages="100" maxMessagesPerHour="1200" shared="1" timeout="60"/>
      <MXRule connectionTimeout="10" dataTimeout="240" mask="*.neuf.fr" maxConnections="3" maxMessages="100" maxMessagesPerHour="900" timeout="60"/>
      <MXRule connectionTimeout="10" dataTimeout="240" mask="*.aol.com" maxConnections="30" maxMessages="100" maxMessagesPerHour="1200" shared="1" timeout="60"/>
      <MXRule connectionTimeout="10" dataTimeout="240" mask="*.hotmail.com" maxConnections="10" maxMessages="50" maxMessagesPerHour="1200" shared="1" timeout="60"/>
      <MXRule connectionTimeout="10" dataTimeout="240" mask="*.untd.com" maxConnections="2" maxMessages="5" maxMessagesPerHour="240" shared="1" timeout="60"/>
      <MXRule connectionTimeout="10" dataTimeout="240" mask="*.charter.net" maxConnections="2" maxMessages="5" maxMessagesPerHour="180" timeout="60"/>
      <MXRule connectionTimeout="10" dataTimeout="240" mask="*" maxConnections="2" maxMessages="5" maxMessagesPerHour="900" timeout="60"/>
    </ruleSet>
  </entities>
  <entities schema="nms:state">
    <state code="AL" countryCode="US" labelDE="Alabama" labelEN="Alabama" labelFR="Alabama" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="AK" countryCode="US" labelDE="Alaska" labelEN="Alaska" labelFR="Alaska" region="4" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="AZ" countryCode="US" labelDE="Arizona" labelEN="Arizona" labelFR="Arizona" region="4" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="AR" countryCode="US" labelDE="Arkansas" labelEN="Arkansas" labelFR="Arkansas" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="CA" countryCode="US" labelDE="Kalifornien" labelEN="California" labelFR="Californie" region="4" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="CO" countryCode="US" labelDE="Colorado" labelEN="Colorado" labelFR="Colorado" region="4" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="CT" countryCode="US" labelDE="Connecticut" labelEN="Connecticut" labelFR="Connecticut" region="1" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="DE" countryCode="US" labelDE="Delaware" labelEN="Delaware" labelFR="Delaware" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="FL" countryCode="US" labelDE="Florida" labelEN="Florida" labelFR="Floride" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="GA" countryCode="US" labelDE="Georgia" labelEN="Georgia" labelFR="Géorgie" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="HI" countryCode="US" labelDE="Hawaii" labelEN="Hawaii" labelFR="Hawaii" region="4" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="ID" countryCode="US" labelDE="Idaho" labelEN="Idaho" labelFR="Idaho" region="4" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="IL" countryCode="US" labelDE="Illinois" labelEN="Illinois" labelFR="Illinois" region="2" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="IN" countryCode="US" labelDE="Indiana" labelEN="Indiana" labelFR="Indiana" region="2" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="IA" countryCode="US" labelDE="Iowa" labelEN="Iowa" labelFR="Iowa" region="2" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="KS" countryCode="US" labelDE="Kansas" labelEN="Kansas" labelFR="Kansas" region="2" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="KY" countryCode="US" labelDE="Kentucky" labelEN="Kentucky" labelFR="Kentucky" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="LA" countryCode="US" labelDE="Louisiana" labelEN="Louisiana" labelFR="Louisiane" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="ME" countryCode="US" labelDE="Maine" labelEN="Maine" labelFR="Maine" region="1" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="MD" countryCode="US" labelDE="Maryland" labelEN="Maryland" labelFR="Maryland" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="MA" countryCode="US" labelDE="Massachusetts" labelEN="Massachusetts" labelFR="Massachusetts" region="1" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="MI" countryCode="US" labelDE="Michigan" labelEN="Michigan" labelFR="Michigan" region="2" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="MN" countryCode="US" labelDE="Minnesota" labelEN="Minnesota" labelFR="Minnesota" region="2" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="MS" countryCode="US" labelDE="Mississippi" labelEN="Mississippi" labelFR="Mississippi" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="MO" countryCode="US" labelDE="Missouri" labelEN="Missouri" labelFR="Missouri" region="2" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="MT" countryCode="US" labelDE="Montana" labelEN="Montana" labelFR="Montana" region="4" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="NE" countryCode="US" labelDE="Nebraska" labelEN="Nebraska" labelFR="Nebraska" region="2" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="NV" countryCode="US" labelDE="Nevada" labelEN="Nevada" labelFR="Nevada" region="4" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="NH" countryCode="US" labelDE="New Hampshire" labelEN="New Hampshire" labelFR="New Hampshire" region="1" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="NJ" countryCode="US" labelDE="New Jersey" labelEN="New Jersey" labelFR="New Jersey" region="1" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="NM" countryCode="US" labelDE="New Mexico" labelEN="New Mexico" labelFR="Nouveau Mexique" region="4" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="NY" countryCode="US" labelDE="New York" labelEN="New York" labelFR="New York" region="1" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="NC" countryCode="US" labelDE="North Carolina" labelEN="North Carolina" labelFR="Caroline du Nord" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="ND" countryCode="US" labelDE="North Dakota" labelEN="North Dakota" labelFR="Dakota du Nord" region="2" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="OH" countryCode="US" labelDE="Ohio" labelEN="Ohio" labelFR="Ohio" region="2" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="OK" countryCode="US" labelDE="Oklahoma" labelEN="Oklahoma" labelFR="Oklahoma" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="OR" countryCode="US" labelDE="Oregon" labelEN="Oregon" labelFR="Oregon" region="4" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="PA" countryCode="US" labelDE="Pennsylvania" labelEN="Pennsylvania" labelFR="Pennsylvanie" region="1" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="RI" countryCode="US" labelDE="Rhode Island" labelEN="Rhode Island" labelFR="Rhode Island" region="1" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="SC" countryCode="US" labelDE="South Carolina" labelEN="South Carolina" labelFR="Caroline du Sud" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="SD" countryCode="US" labelDE="South Dakota" labelEN="South Dakota" labelFR="Dakota du Sud" region="2" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="TN" countryCode="US" labelDE="Tennessee" labelEN="Tennessee" labelFR="Tennessee" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="TX" countryCode="US" labelDE="Texas" labelEN="Texas" labelFR="Texas" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="UT" countryCode="US" labelDE="Utah" labelEN="Utah" labelFR="Utah" region="4" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="VT" countryCode="US" labelDE="Vermont" labelEN="Vermont" labelFR="Vermont" region="1" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="VA" countryCode="US" labelDE="Virginia" labelEN="Virginia" labelFR="Virginie" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="WA" countryCode="US" labelDE="Washington" labelEN="Washington" labelFR="Washington" region="4" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="WV" countryCode="US" labelDE="West Virginia" labelEN="West Virginia" labelFR="Virginie Occidentale" region="3" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="WI" countryCode="US" labelDE="Wisconsin" labelEN="Wisconsin" labelFR="Wisconsin" region="2" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="WY" countryCode="US" labelDE="Wyoming" labelEN="Wyoming" labelFR="Wyoming" region="4" type="1">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="DC" countryCode="US" labelDE="District of Columbia" labelEN="District of Columbia" region="3" type="2">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="AE" countryCode="US" labelDE="US-Streitkräfte Europa/Kanada/Mittlerer Osten/Afrika" labelEN="US Armed Forces Europe / Canada / Middle East / Africa" labelFR="Forces armées USA - Europe / Canada / Moyen Orient / Afrique" type="5">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="AP" countryCode="US" labelDE="US-Streitkräfte Pazifik" labelEN="US Armed Forces Pacific" labelFR="Forces armées USA - Pacifique" type="5">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="AA" countryCode="US" labelDE="US-Streitkräfte Amerika" labelEN="US Armed Forces Americas" labelFR="Forces armées USA - Amériques" type="5">
      <country _operation="none" isoA2="US"/>
    </state>
    <state code="AB" countryCode="CA" labelDE="Alberta" labelEN="Alberta" labelFR="Alberta" type="3">
      <country _operation="none" isoA2="CA"/>
    </state>
    <state code="BC" countryCode="CA" labelDE="British Columbia" labelEN="British Columbia" labelFR="Colombie-Britannique" type="3">
      <country _operation="none" isoA2="CA"/>
    </state>
    <state code="MB" countryCode="CA" labelDE="Manitoba" labelEN="Manitoba" labelFR="Manitoba" type="3">
      <country _operation="none" isoA2="CA"/>
    </state>
    <state code="NS" countryCode="CA" labelDE="Nova Scotia" labelEN="Nova Scotia" labelFR="Nouvelle-Écosse" type="3">
      <country _operation="none" isoA2="CA"/>
    </state>
    <state code="NB" countryCode="CA" labelDE="New Brunswick" labelEN="New Brunswick" labelFR="Nouveau-Brunswick" type="3">
      <country _operation="none" isoA2="CA"/>
    </state>
    <state code="NL" countryCode="CA" labelDE="Neufundland und Labrador" labelEN="Newfoundland and Labrador" labelFR="Terre-Neuve-et-Labrador" type="3">
      <country _operation="none" isoA2="CA"/>
    </state>
    <state code="ON" countryCode="CA" labelDE="Ontario" labelEN="Ontario" labelFR="Ontario" type="3">
      <country _operation="none" isoA2="CA"/>
    </state>
    <state code="PE" countryCode="CA" labelDE="Prince Edward Island" labelEN="Prince Edward Island" labelFR="Île-du-Prince-Édouard" type="3">
      <country _operation="none" isoA2="CA"/>
    </state>
    <state code="QC" countryCode="CA" labelDE="Québec" labelEN="Quebec" labelFR="Québec" type="3">
      <country _operation="none" isoA2="CA"/>
    </state>
    <state code="SK" countryCode="CA" labelDE="Saskatchewan" labelEN="Saskatchewan" labelFR="Saskatchewan" type="3">
      <country _operation="none" isoA2="CA"/>
    </state>
    <state code="NT" countryCode="CA" labelDE="Nordwest-Territorien" labelEN="Northwest Territories" labelFR="Territoires-du-Nord-Ouest" type="4">
      <country _operation="none" isoA2="CA"/>
    </state>
    <state code="NU" countryCode="CA" labelDE="Nunavut" labelEN="Nunavut" labelFR="Nunavut" type="4">
      <country _operation="none" isoA2="CA"/>
    </state>
    <state code="YT" countryCode="CA" labelDE="Yukon" labelEN="Yukon" labelFR="Yukon" type="4">
      <country _operation="none" isoA2="CA"/>
    </state>
    <state code="ACT" countryCode="AU" labelDE="Australian Capital Territory" labelEN="Australian Capital Territory" labelFR="Territoire de la capitale australienne" type="4">
      <country _operation="none" isoA2="AU"/>
    </state>
    <state code="JBT" countryCode="AU" labelDE="Jervis Bay Territory" labelEN="Jervis Bay Territory" labelFR="Territoire de la baie de Jarvis" type="4">
      <country _operation="none" isoA2="AU"/>
    </state>
    <state code="NSW" countryCode="AU" labelDE="New South Wales" labelEN="New South Wales" labelFR="Nouvelle-Galles du Sud" type="4">
      <country _operation="none" isoA2="AU"/>
    </state>
    <state code="NT" countryCode="AU" labelDE="Northern Territory" labelEN="Northern Territory" labelFR="Territoire du Nord" type="4">
      <country _operation="none" isoA2="AU"/>
    </state>
    <state code="QLD" countryCode="AU" labelDE="Queensland" labelEN="Queensland" labelFR="Queensland" type="4">
      <country _operation="none" isoA2="AU"/>
    </state>
    <state code="SA" countryCode="AU" labelDE="South Australia" labelEN="South Australia" labelFR="Australie-Méridionale" type="4">
      <country _operation="none" isoA2="AU"/>
    </state>
    <state code="TAS" countryCode="AU" labelDE="Tasmanien" labelEN="Tasmania" labelFR="Tasmanie" type="4">
      <country _operation="none" isoA2="AU"/>
    </state>
    <state code="VIC" countryCode="AU" labelDE="Victoria" labelEN="Victoria" labelFR="Victoria" type="4">
      <country _operation="none" isoA2="AU"/>
    </state>
    <state code="WA" countryCode="AU" labelDE="Western Australia" labelEN="Western Australia" labelFR="Australie-Occidentale" type="4">
      <country _operation="none" isoA2="AU"/>
    </state>
    <state code="BW" countryCode="DE" labelDE="Baden-Württemberg" labelEN="Baden-Württemberg" labelFR="Bade-Wurtemberg">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="BY" countryCode="DE" labelDE="Bayern" labelEN="Bavaria" labelFR="Bavière">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="BE" countryCode="DE" labelDE="Berlin" labelEN="Berlin" labelFR="Berlin">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="BB" countryCode="DE" labelDE="Brandenburg" labelEN="Brandenburg" labelFR="Brandebourg">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="HB" countryCode="DE" labelDE="Bremen" labelEN="Bremen" labelFR="Brême">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="HH" countryCode="DE" labelDE="Hamburg" labelEN="Hamburg" labelFR="Hambourg">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="HE" countryCode="DE" labelDE="Hessen" labelEN="Hesse" labelFR="Hesse">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="MV" countryCode="DE" labelDE="Mecklenburg-Vorpommern" labelEN="Mecklenburg-Vorpommern" labelFR="Mecklembourg-Poméranie-Occidentale">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="NI" countryCode="DE" labelDE="Niedersachsen" labelEN="Lower Saxony" labelFR="Basse-Saxe">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="NW" countryCode="DE" labelDE="Nordrhein-Westfalen" labelEN="North Rhine-Westphalia" labelFR="Rhénanie-du-Nord-Westphalie">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="RP" countryCode="DE" labelDE="Rheinland-Pfalz" labelEN="Rhineland-Palatinate" labelFR="Rhénanie-Palatinat">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="SL" countryCode="DE" labelDE="Saarland" labelEN="Saarland" labelFR="Sarre">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="SN" countryCode="DE" labelDE="Sachsen" labelEN="Saxony" labelFR="Saxe">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="ST" countryCode="DE" labelDE="Sachsen-Anhalt" labelEN="Saxony-Anhalt" labelFR="Saxe-Anhalt">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="SH" countryCode="DE" labelDE="Schleswig-Holstein" labelEN="Schleswig-Holstein" labelFR="Schleswig-Holstein">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="TH" countryCode="DE" labelDE="Thüringen" labelEN="Thuringia" labelFR="Thuringe">
      <country _operation="none" isoA2="DE"/>
    </state>
    <state code="B" countryCode="AT" labelDE="Burgenland" labelEN="Burgenland" labelFR="Burgenland">
      <country _operation="none" isoA2="AT"/>
    </state>
    <state code="K" countryCode="AT" labelDE="Kärnten" labelEN="Carinthia" labelFR="Carinthie">
      <country _operation="none" isoA2="AT"/>
    </state>
    <state code="NO" countryCode="AT" labelDE="Niederösterreich" labelEN="Lower Austria" labelFR="Basse-Autriche">
      <country _operation="none" isoA2="AT"/>
    </state>
    <state code="OÖ" countryCode="AT" labelDE="Oberösterreich" labelEN="Upper Austria" labelFR="Haute-Autriche">
      <country _operation="none" isoA2="AT"/>
    </state>
    <state code="S" countryCode="AT" labelDE="Salzburg" labelEN="Salzburg" labelFR="Salzbourg">
      <country _operation="none" isoA2="AT"/>
    </state>
    <state code="ST" countryCode="AT" labelDE="Steiermark" labelEN="Styria" labelFR="Styrie">
      <country _operation="none" isoA2="AT"/>
    </state>
    <state code="T" countryCode="AT" labelDE="Tirol" labelEN="Tyrol" labelFR="Tyrol">
      <country _operation="none" isoA2="AT"/>
    </state>
    <state code="V" countryCode="AT" labelDE="Vorarlberg" labelEN="Vorarlberg" labelFR="Vorarlberg">
      <country _operation="none" isoA2="AT"/>
    </state>
    <state code="W" countryCode="AT" labelDE="Wien" labelEN="Vienna" labelFR="Vienne">
      <country _operation="none" isoA2="AT"/>
    </state>
    <state code="ZH" countryCode="CH" labelDE="Zürich" labelEN="Zurich" labelFR="Zurich">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="BE" countryCode="CH" labelDE="Bern" labelEN="Bern" labelFR="Berne">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="LU" countryCode="CH" labelDE="Luzern" labelEN="Lucerne" labelFR="Lucerne">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="UR" countryCode="CH" labelDE="Uri" labelEN="Uri" labelFR="Uri">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="SZ" countryCode="CH" labelDE="Schwyz" labelEN="Schwyz" labelFR="Schwytz">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="OW" countryCode="CH" labelDE="Obwalden" labelEN="Obwalden" labelFR="Obwald">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="NW" countryCode="CH" labelDE="Nidwalden" labelEN="Nidwalden" labelFR="Nidwald">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="GL" countryCode="CH" labelDE="Glarus" labelEN="Glarus" labelFR="Glaris">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="ZG" countryCode="CH" labelDE="Zug" labelEN="Zug" labelFR="Zoug">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="FR" countryCode="CH" labelDE="Freiburg" labelEN="Fribourg" labelFR="Fribourg">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="SO" countryCode="CH" labelDE="Solothurn" labelEN="Solothurn" labelFR="Soleure">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="BS" countryCode="CH" labelDE="Basel-Stadt" labelEN="Basel-Stadt" labelFR="Bâle-Ville">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="BL" countryCode="CH" labelDE="Basel-Landschaft" labelEN="Basel-Landschaft" labelFR="Bâle-Campagne">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="SH" countryCode="CH" labelDE="Schaffhausen" labelEN="Schaffhausen" labelFR="Schaffhouse">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="AR" countryCode="CH" labelDE="Appenzell Ausserrhoden" labelEN="Appenzell Ausserrhoden" labelFR="Appenzell Rhodes-Extérieures">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="AI" countryCode="CH" labelDE="Appenzell Innerrhoden" labelEN="Appenzell Innerrhoden" labelFR="Appenzell Rhodes-Intérieures">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="SG" countryCode="CH" labelDE="St. Gallen" labelEN="St. Gallen" labelFR="Saint-Gall">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="GR" countryCode="CH" labelDE="Graubünden" labelEN="Graubünden" labelFR="Grisons">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="AG" countryCode="CH" labelDE="Aargau" labelEN="Aargau" labelFR="Argovie">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="TG" countryCode="CH" labelDE="Thurgau" labelEN="Thurgau" labelFR="Thurgovie">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="TI" countryCode="CH" labelDE="Tessin" labelEN="Ticino" labelFR="Tessin">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="VD" countryCode="CH" labelDE="Waadt" labelEN="Vaud" labelFR="Vaud">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="VS" countryCode="CH" labelDE="Wallis" labelEN="Valais" labelFR="Valais">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="NE" countryCode="CH" labelDE="Neuenburg" labelEN="Neuchâtel" labelFR="Neuchâtel">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="GE" countryCode="CH" labelDE="Genf" labelEN="Geneva" labelFR="Genève">
      <country _operation="none" isoA2="CH"/>
    </state>
    <state code="JU" countryCode="CH" labelDE="Jura" labelEN="Jura" labelFR="Jura">
      <country _operation="none" isoA2="CH"/>
    </state>
  </entities>
  <entities schema="nms:typology">
    <typology label="Default typology" name="defaultTypology">
      <folder _operation="none" name="nmsTypology"/>
      <rules>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="subject"/>
      </rules>
      <rules>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="urlLabel"/>
      </rules>
      <rules>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="urlSource"/>
      </rules>
      <rules>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="smsTextLength"/>
      </rules>
      <rules>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="urlOptout"/>
      </rules>
      <rules>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="proofTargetSize"/>
      </rules>
      <rules>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="viral"/>
      </rules>
      <rules>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="deliverySizeCheck"/>
      </rules>
      <rules>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="wavesDefinition"/>
      </rules>
      <rules>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="decomailCheck"/>
      </rules>
    </typology>
    <typology label="Notification" name="notification">
      <desc>Associate to this typology delivery actions of notification type for which messages automatically sent do not require human intervention.</desc>
      <folder _operation="none" name="nmsTypology"/>
    </typology>
  </entities>
  <entities schema="nms:typologyRule">
    <typologyRule builtIn="1" label="Target limited in size" messageType="127" name="OverDeliveryLimit" order="0" ruleType="sql" schema="nms:recipient">
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
    </typologyRule>
    <typologyRule builtIn="1" label="Unqualified address" messageType="127" name="Unchecked" order="0" ruleType="sql" schema="nms:recipient">
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
    </typologyRule>
    <typologyRule builtIn="1" label="Bad-quality address" messageType="127" name="Quality" order="0" ruleType="sql" schema="nms:recipient">
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
    </typologyRule>
    <typologyRule builtIn="1" label="Control group" messageType="127" name="ControlGroup" order="0" ruleType="sql" schema="nms:recipient">
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
    </typologyRule>
    <typologyRule builtIn="1" label="Double" messageType="127" name="Duplicate" order="0" ruleType="sql" schema="nms:recipient">
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
    </typologyRule>
    <typologyRule builtIn="1" label="Address in quarantine" messageType="127" name="Quarantine" order="0" ruleType="sql" schema="nms:recipient">
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
    </typologyRule>
    <typologyRule builtIn="1" label="Blacklisted address" messageType="127" name="Blacklisted" order="0" ruleType="sql" schema="nms:recipient">
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
    </typologyRule>
    <typologyRule builtIn="1" label="Address not specified" messageType="127" name="AddressUndefined" order="0" ruleType="sql" schema="nms:recipient">
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
    </typologyRule>
    <typologyRule builtIn="1" label="Deco-mail check" level="1" name="decomailCheck" ruleStep="postMessage" schema="nms:recipient">
      <code>function typologyRule()
{
  var sg = new StringGroup("nms:core")
  var res = xtk.queryDef.create(&lt;queryDef operation="getIfExists" schema="nms:tmpBroadcast"&gt;&lt;select&gt;&lt;node expr="@id"/&gt;&lt;/select&gt;&lt;where&gt;&lt;condition expr={"@format IN (3, 4)"}/&gt;&lt;/where&gt;&lt;/queryDef&gt;).ExecuteQuery();
  // No japanese email found
  if( !String(res.@id) )
    return true;

  if( !delivery.content.multipartRelated )
    logWarning(sg.japNoMultipart());
  var preview = nms.delivery.BuildPreviewFromId(delivery.id, &lt;params content={"html"} targetPart="nms:seedMember" filter="[@internalName] = 'SEED_DECOMAIL'"/&gt;);
  if( preview[0].rawSize &gt; (100*1024) )
    // 100ko max
    logWarning(sg.japSizeTooLarge(preview[0].size));
  var diagnostic = nms.delivery.DiagnoseHTML(preview[0].content.toString(), 3 /*ENUM_BT_RECIPIENT_MESSAGEFORMAT_DECO*/);
  for each( var elemDiagnostic in diagnostic )
  {
    if( elemDiagnostic.@type == "Error" /*As in s_apszLevel*/)
      logError(String(elemDiagnostic.@message));
    else
      logWarning(String(elemDiagnostic.@message));
  }
  return true;
}

return typologyRule();</code>
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
      <desc>Checks the HTML content tags, the number of images and the mail size for the Deco-mail format</desc>
      <folder _operation="none" name="nmsTypologyRule"/>
      <typologies>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="decomailCheck"/>
      </typologies>
    </typologyRule>
    <typologyRule builtIn="1" label="Social network sharing link validation" name="viral" order="45" ruleStep="preMessage" schema="nms:recipient">
      <code>var sg = new StringGroup("nms:core")

function checkMirrorPage(urlList, bHtml)
{
  var bMirrorPage = false
  var bViralLinks = false
  for( var i=0 ; i&lt;urlList.length ; i++ )
  {
    if( urlList[i].trackingType == 5 )
      bMirrorPage = true
    if( urlList[i].trackingType == 0 &amp;&amp;  urlList[i].source.match(/\/s.jsp/) )
      bViralLinks = true
    if( bViralLinks &amp;&amp; bMirrorPage )
      break
  }
  if( !bMirrorPage &amp;&amp; bViralLinks )
  {
    try
    {
      if( !bHtml )
        logError(sg.missingMirrorPageText())
      else
        logError(sg.missingMirrorPageHtml())
    }
    catch(e){}
    return false
  }
  return true
}

function typologyRule()
{
  var bSucessText = true;
  var bSucessHtml = true;
  if( delivery.content.text.source != "" )
    bSucessText = checkMirrorPage(delivery.content.text.urlConfig.url, false);
  if( delivery.content.html.source != "" )
    bSucessHtml = checkMirrorPage(delivery.content.html.urlConfig.url, true);
  if ( bSucessText &amp;&amp; bSucessHtml )
    return true;
  return false;
}

return typologyRule();</code>
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
      <desc>Checking for the presence of a link to a mirror page when including a social network sharing link (viralLinks) in the content.</desc>
      <folder _operation="none" name="nmsTypologyRule"/>
      <typologies>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="viral"/>
      </typologies>
    </typologyRule>
    <typologyRule builtIn="1" label="Wave scheduling check" level="1" name="wavesDefinition" ruleStep="postMessage" schema="nms:recipient">
      <code>if( delivery.scheduling.waves.enabled != true )
  return true;

var sg = new StringGroup("nms:core")

var iMaxDelay = 0

if( delivery.scheduling.waves.mode == 1 )
{
  // Schedule waves according to calendar
  var waves = delivery.scheduling.waves.calendar.calendarItem
  var iWavesCount = waves.length

  for( var i = 0; i &lt; iWavesCount; i++ )
      iMaxDelay += waves[i].start
}
else
{
  // Schedule multiple waves of the same size
  var iSplitDelay = delivery.scheduling.waves.splitDelay
  var iWaveCount = 0
  if( delivery.scheduling.waves.splitSize.match(/%$/) )
  {
    // Percentage was given
    var dWavePercent = parseInt(delivery.scheduling.waves.splitSize.replace("%", ""), 10)
    if( dWavePercent &gt; 0 )
      iWaveCount = Math.ceil(100 / dWavePercent)
  }
  else
  {
    // Amount of messages was given
    // as splitSize is a string attribute, 'replace's are needed to parse locally formatted number
    var dWaveSize = parseInt(delivery.scheduling.waves.splitSize.replace(/[  ,\.]/g, ""), 10)
    if( dWaveSize &gt; 0 )
      iWaveCount = Math.ceil(delivery.properties.toDeliver / dWaveSize)
  }
  iMaxDelay = iWaveCount * delivery.scheduling.waves.splitDelay
}

if( iMaxDelay &gt;= delivery.scenario.validityDuration )
{
  logWarning(sg.lastWaveTooLate())
  return false
}

if( iMaxDelay + 86400 &gt;= delivery.scenario.validityDuration )
{
  logWarning(sg.lastWaveLate())
  return false
}

return true;</code>
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
      <desc>Checks that the last wave is planned before the delivery validity limit when waves are used.</desc>
      <folder _operation="none" name="nmsTypologyRule"/>
      <typologies>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="wavesDefinition"/>
      </typologies>
    </typologyRule>
    <typologyRule builtIn="1" label="Check delivery size" level="1" messageType="127" name="deliverySizeCheck" order="40" ruleStep="postTarget" schema="nms:recipient">
      <code>var sg = new StringGroup("nms:core")

var iToDeliver = parseInt(delivery.properties.toDeliver)

if( isNaN(iToDeliver) || iToDeliver == 0 )
{
  logWarning(sg.targetIsEmpty());
  return false;
}

return true;</code>
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
      <desc>Generates a warning if the target population is empty</desc>
      <folder _operation="none" name="nmsTypologyRule"/>
      <typologies>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="deliverySizeCheck"/>
      </typologies>
    </typologyRule>
    <typologyRule builtIn="1" label="Check proof target size" messageType="127" name="proofTargetSize" order="40" ruleStep="postTarget" schema="nms:recipient">
      <code>var sg = new StringGroup("nms:core")

if( delivery.FCP )
{
  var iToDeliver = delivery.properties.toDeliver
  if( delivery.fcpParameters.fcpMailFormat == "textMultipart" )
    iToDeliver = iToDeliver / 2;
  else if( delivery.fcpParameters.fcpMailFormat == "allFormats" )
    iToDeliver = iToDeliver / 3;
  if( iToDeliver &gt; 100 )
  {
    try {
      logError(sg.bigProof(delivery.properties.toDeliver))
    } catch(e) {
    }
    return false;
  }
}
return true;</code>
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
      <desc>Generates an error if the target population of a proof is larger than 100 recipients.</desc>
      <folder _operation="none" name="nmsTypologyRule"/>
      <typologies>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="proofTargetSize"/>
      </typologies>
    </typologyRule>
    <typologyRule builtIn="1" label="Unsubscription link validation" level="1" name="urlOptout" order="40" ruleStep="preMessage" schema="nms:recipient">
      <code>var sg = new StringGroup("nms:core")

function checkUrlOptout(urlList, bHtml)
{
  var bOptOut = false
  for( var i=0 ; i&lt;urlList.length ; i++ )
  {
    if( urlList[i].trackingType == 4 )
    {
      bOptOut = true
      break
    }
  }
  if( !bOptOut )
  {
    if( bHtml )
      logWarning(sg.missingOptoutHtml())
    else
      logWarning(sg.missingOptoutText())
  }
  return true
}

function typologyRule()
{
  var bSucessText = true;
  var bSucessHtml = true;
  if( !delivery.tracking.enabled )
    return true; // nothing to do if tracking is disabled
  if( delivery.content.text.source != "" )
    bSucessText = checkUrlOptout(delivery.content.text.urlConfig.url, 0);
  if( delivery.content.html.source != "" )
    bSucessHtml = checkUrlOptout(delivery.content.html.urlConfig.url, 1);
  if ( bSucessText &amp;&amp; bSucessHtml )
    return true;
  return false;
}

return typologyRule();</code>
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
      <desc>Check for at least one "Opt-out URL" in each content.</desc>
      <folder _operation="none" name="nmsTypologyRule"/>
      <typologies>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="urlOptout"/>
      </typologies>
    </typologyRule>
    <typologyRule builtIn="1" label="Message size validation" level="1" messageType="1" name="smsTextLength" order="20" ruleStep="preMessage" schema="nms:recipient">
      <code>var sg = new StringGroup("nms:core");
var iCaracCount = delivery.content.sms.source.length;
if( iCaracCount &gt; 160 )
  logWarning(sg.smsTooLong(iCaracCount, 160));

return true;</code>
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
      <desc>Checking SMS message size.</desc>
      <folder _operation="none" name="nmsTypologyRule"/>
      <typologies>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="smsTextLength"/>
      </typologies>
    </typologyRule>
    <typologyRule builtIn="1" label="Approval of URLs" level="1" name="urlSource" order="30" ruleStep="preMessage" schema="nms:recipient">
      <code>var sg = new StringGroup("nms:core")

function checkUrlSource(urlList, strContent)
{
  for( var i=0 ; i&lt;urlList.length ; i++ )
  {
    if( urlList[i].trackingType != 1 &amp;&amp; urlList[i].trackingType != 3 )
    {
      // check an URL
      var url = urlList[i].source
      if( url.match(/\&amp;amp;/) )
        logWarning(sg.ampInUrlSource(url, strContent))
    }
  }
  return true
}

if( !delivery.tracking.enabled )
  return true; // nothing to do if tracking is disabled
var bSucessText = checkUrlSource(delivery.content.text.urlConfig.url, "texte");
var bSucessHtml = checkUrlSource(delivery.content.html.urlConfig.url, "HTML");
if( bSucessText &amp;&amp; bSucessHtml )
  return true;

return false;</code>
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
      <desc>Checking tracking URLs for &amp;amp;.</desc>
      <folder _operation="none" name="nmsTypologyRule"/>
      <typologies>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="urlSource"/>
      </typologies>
    </typologyRule>
    <typologyRule builtIn="1" label="URL label validation" level="1" name="urlLabel" order="35" ruleStep="preMessage" schema="nms:recipient">
      <code>var sg = new StringGroup("nms:core")

function checkUrlLabel(urlList, strContent)
{
  for( var i=0 ; i&lt;urlList.length ; i++ )
  {
    if( urlList[i].trackingType != 1 &amp;&amp; urlList[i].trackingType != 3
        &amp;&amp; urlList[i].label.length == 0 )
      logWarning(sg.missingLabel(urlList[i].source, strContent));
  }
  return true;
}

function typologyRule()
{
  if( !delivery.tracking.enabled )
    return true; // nothing to do if tracking is disabled
  var bSucessText = checkUrlLabel(delivery.content.text.urlConfig.url, sg.text());
  var bSucessHtml = checkUrlLabel(delivery.content.html.urlConfig.url, sg.html());
  if ( bSucessText &amp;&amp; bSucessHtml )
    return true;
  return false;
}

return typologyRule();</code>
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
      <desc>Checking that each tracked URL has a label defined.</desc>
      <folder _operation="none" name="nmsTypologyRule"/>
      <typologies>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="urlLabel"/>
      </typologies>
    </typologyRule>
    <typologyRule builtIn="1" label="Subject validation" name="subject" order="10" ruleStep="preMessage" schema="nms:recipient">
      <code>var sg = new StringGroup("nms:core")

function checkNoAccent(str, strFieldName)
{
  for( var i=0 ; i&lt;str.length ; i++ )
    if ( str.charCodeAt(i) &lt; 20 || str.charCodeAt(i) &gt;= 127 )
    {
      logWarning(sg.invalidSubjExp(str.substring(i, i+1), i+1, strFieldName))
      break
    }
}

if(delivery.deliveryMode !=0)
{
  var strSubject = delivery.mailParameters.subject
  if( strSubject.length == 0 )
  {
    try{
      logError(sg.emptySubject())
    }catch(e){
    }
    return false;
  }
}
var strSender = delivery.mailParameters.senderName
if( strSender != "" )
  checkNoAccent(strSender, sg.inFromName())

return true;</code>
      <contextFilter>
        <where filteringSchema="nms:deliveryOutline"/>
      </contextFilter>
      <desc>Checks that the Email sender does not contain characters which may trigger problems on certain mail agents. Checks that the subject isn't empty.</desc>
      <folder _operation="none" name="nmsTypologyRule"/>
      <typologies>
        <typology _operation="none" name="defaultTypology"/>
        <rule _operation="none" name="subject"/>
      </typologies>
    </typologyRule>
  </entities>
  <entities schema="nms:webApp">
    <webApp accessControl="0" builtIn="1" defaultLanguage="en" designLanguage="en" internalName="newWebApp" isModel="1" label="New Web application" schema="nms:recipient">
      <properties renderingEngine="1"/>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
            <string id="line1" value="An error occurred."/>
          </strings>
        </endPage>
      </errorPage>
      <desc>Template to create a form from scratch</desc>
      <facet advanced="1"/>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="nmsWebAppModel"/>
      <rendering _operation="none" internalName="defaultFormRendering"/>
      <deliveryMapping _operation="none" name="mapRecipient"/>
      <folderProcess _operation="none" name="nmsWebApp"/>
    </webApp>
    <webApp builtIn="1" defaultLanguage="en" designLanguage="en" internalName="newWebFormUpdateProfile" isModel="1" label="New profile edit form" schema="nms:recipient">
      <properties renderingEngine="1"/>
      <activities>
        <page label="Enter your title here" name="page" x="180" y="21">
          <transitions>
            <next label="Next" name="next" target="writer"/>
          </transitions>
        </page>
        <prefill label="Preloading" name="prefill" x="24" y="16">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
        </prefill>
        <writer label="Storage" name="writer" x="320" y="16">
          <transitions>
            <next name="next" target="end"/>
          </transitions>
        </writer>
        <end label="End" name="end" x="480" y="16"/>
      </activities>
      <desc>Used to create a web form to edit a profile</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="nmsWebAppModel"/>
      <rendering _operation="none" internalName="defaultFormRendering"/>
      <deliveryMapping _operation="none" name="mapRecipient"/>
      <folderProcess _operation="none" name="nmsWebApp"/>
    </webApp>
    <webApp builtIn="1" defaultLanguage="en" designLanguage="en" internalName="newWebForm" isModel="1" label="New Web form" schema="nms:recipient">
      <properties renderingEngine="1"/>
      <desc>Used to create an anonymous access web form</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="nmsWebAppModel"/>
      <rendering _operation="none" internalName="defaultFormRendering"/>
      <deliveryMapping _operation="none" name="mapRecipient"/>
      <folderProcess _operation="none" name="nmsWebApp"/>
    </webApp>
    <webApp builtIn="1" defaultLanguage="en" designLanguage="en" hasHtmlPage="1" internalName="newLandingPage" isModel="1" label="New landing page" nature="landingPage" schema="nms:recipient">
      <properties renderingEngine="1"/>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <activities>
        <prefill label="Preloading" name="prefill" skipIfNoId="true" x="24" y="16">
          <transitions>
            <next name="next" target="htmlPage"/>
          </transitions>
        </prefill>
        <htmlPage label="Page" name="htmlPage" x="160" y="16">
          <transitions>
            <next label="Next" name="next" target="writer"/>
          </transitions>
        </htmlPage>
        <writer label="Storage" name="writer" x="320" y="16">
          <transitions>
            <next name="next" target="end"/>
          </transitions>
        </writer>
        <end label="End" name="end" x="480" y="16"/>
      </activities>
      <desc>To create a landing page from an existing HTML file.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="nmsWebAppModel"/>
      <rendering _operation="none" internalName="defaultFormRendering"/>
      <deliveryMapping _operation="none" name="mapRecipient"/>
      <folderProcess _operation="none" name="nmsWebApp"/>
    </webApp>
    <webApp builtIn="1" defaultLanguage="en" designLanguage="en" hasHtmlPage="1" internalName="subNewsletter" isModel="1" label="Newsletter subscription" modelName="newLandingPage" nature="subscription" schema="nms:recipient">
      <properties renderingEngine="1"/>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <activities>
        <prefill label="Preloading" name="prefill" skipIfNoId="true" x="24" y="16">
          <transitions>
            <next name="next" target="htmlPage"/>
          </transitions>
        </prefill>
        <htmlPage label="End" name="htmlPage2" x="424" y="16">
          <transitions>
            <next enabled="false" label="Next" name="next"/>
          </transitions>
          <content>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
  &lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;
    &lt;link rel="stylesheet" type="text/css" href="/nl/webForms/landingPage.css"/&gt;
    &lt;title data-nl-localizable="true" id="subNewsletter.htmlPage2.line1"&gt;Subscription&lt;/title&gt;&lt;style type="text/css" media="all"&gt;
      /* override button */
      .button a {
        background: #1F277A;
      }

      /* override formulary area */
      .formulary {
        margin-top: 20px;
        margin-left: 170px;
      }
    &lt;/style&gt;
  &lt;/head&gt;

  &lt;body style="" class=""&gt;
&lt;center&gt;
&lt;div id="wrap"&gt;
&lt;div id="header"&gt;&lt;img src="/nms/img/contentModels/placeholder_header.png" alt="" /&gt;
&lt;div class="header-title center-title" style="color: #ffffff;" data-nl-localizable="true" id="subNewsletter.htmlPage2.line2"&gt;NEWSLETTER SUBSCRIPTION&lt;/div&gt;
&lt;/div&gt;
&lt;div id="content"&gt;
&lt;div class="info"&gt;
&lt;div class="title" data-nl-localizable="true" id="subNewsletter.htmlPage2.line3"&gt;You would like to be up to date&lt;/div&gt;&lt;div data-nl-localizable="true" id="subNewsletter.htmlPage2.line4"&gt;Your request has been registered. You will soon receive a message from us. &lt;br /&gt;&lt;br /&gt;Best regards &lt;br /&gt;&lt;br /&gt;The marketing team&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="footer"&gt;
&lt;div style="text-align: center;"&gt;
&lt;div style="float: left;"&gt;&lt;a href="#" data-nl-localizable="true" id="subNewsletter.htmlPage2.line5"&gt;Contact us&lt;/a&gt;&lt;/div&gt;
&lt;div style="float: right;" data-nl-localizable="true" id="subNewsletter.htmlPage2.line6"&gt;© Copyrights&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/center&gt;
&lt;/body&gt;
&lt;/html&gt;</content>
        </htmlPage>
        <htmlPage label="Subscription" name="htmlPage" x="160" y="16">
          <transitions>
            <next label="Next" name="next" target="writer"/>
          </transitions>
          <content>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
  &lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;
    &lt;link rel="stylesheet" type="text/css" href="/nl/webForms/landingPage.css"/&gt;
    &lt;title data-nl-localizable="true" id="subNewsletter.htmlPage.line12"&gt;Subscription&lt;/title&gt;&lt;style type="text/css" media="all"&gt;
      /* override formulary area */
      .formulary {
        margin-top: 20px;
        margin-left: 170px;
      }
    &lt;/style&gt;
  &lt;/head&gt;

  &lt;body style="" class=""&gt;
&lt;center&gt;
&lt;div id="wrap"&gt;
&lt;div id="header"&gt;&lt;img src="/nms/img/contentModels/placeholder_header.png" alt="" /&gt;
&lt;div class="header-title center-title" style="color: #ffffff;" data-nl-localizable="true" id="subNewsletter.htmlPage.line10"&gt;NEWSLETTER SUBSCRIPTION&lt;/div&gt;
&lt;/div&gt;
&lt;div id="content"&gt;
&lt;div class="info"&gt;
&lt;div class="title" data-nl-localizable="true" id="subNewsletter.htmlPage.line9"&gt;You would like to be up to date&lt;/div&gt;&lt;div data-nl-localizable="true" id="subNewsletter.htmlPage.line8"&gt;Subscribe to our newsletter to receive the latest news.&lt;/div&gt;&lt;div class="formulary"&gt;
&lt;div class="formulary-title" data-nl-localizable="true" id="subNewsletter.htmlPage.line7"&gt;Please fill in the following form:&lt;/div&gt;&lt;form class="formulary-200"&gt;
&lt;div&gt;&lt;label data-nl-localizable="true" id="subNewsletter.htmlPage.line6"&gt;Name*&lt;/label&gt;&lt;input id="name" type="text" data-nl-ismandatory="true" data-nl-label="Nom" data-nl-xpath="@lastName" data-nl-type="string" /&gt;&lt;/div&gt;
&lt;div&gt;&lt;label data-nl-localizable="true" id="subNewsletter.htmlPage.line5"&gt;Email*&lt;/label&gt;&lt;input id="email" type="text" data-nl-ismandatory="true" data-nl-label="Email" data-nl-xpath="@email" data-nl-type="string" /&gt;&lt;/div&gt;
&lt;div&gt;&lt;label data-nl-localizable="true" id="subNewsletter.htmlPage.line4"&gt;Phone number&lt;/label&gt;&lt;input id="phone" type="text" data-nl-label="T&amp;eacute;l&amp;eacute;phone" data-nl-xpath="@phone" data-nl-type="string" /&gt;&lt;/div&gt;
&lt;div class="agree"&gt;&lt;input id="agree" type="checkbox" name="agree" data-nl-bindto="service" data-nl-checkboxbehavior="subscription"  data-nl-ismandatory="true" data-nl-servicename="newsletter" data-nl-servicelabel="Newsletter (newsletter)" /&gt;&lt;label style="display: inline;" for="agree" data-nl-localizable="true" id="subNewsletter.htmlPage.line3"&gt;By checking this box I consent to receive the newsletter&lt;/label&gt;&lt;/div&gt;
&lt;/form&gt;
&lt;div class="button"&gt;&lt;a href="#" data-nl-type="action" data-nl-action="next" data-nl-localizable="true" id="subNewsletter.htmlPage.line2"&gt;I subscribe&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="footer"&gt;
&lt;div style="text-align: center;"&gt;
&lt;div style="float: left;"&gt;&lt;a href="#" data-nl-localizable="true" id="subNewsletter.htmlPage.line11"&gt;Contact us&lt;/a&gt;&lt;/div&gt;
&lt;div style="float: right;" data-nl-localizable="true" id="subNewsletter.htmlPage.line1"&gt;© Copyrights&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/center&gt;
&lt;/body&gt;
&lt;/html&gt;</content>
        </htmlPage>
        <writer label="Storage" name="writer" updateOnly="false" x="288" y="16">
          <transitions>
            <next name="next" target="htmlPage2"/>
          </transitions>
          <key xpath="/">
            <keyfield xpath="@email"/>
            <keyfield xpath="@lastName"/>
          </key>
        </writer>
      </activities>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="nmsWebAppModel"/>
      <rendering _operation="none" internalName="defaultFormRendering"/>
      <deliveryMapping _operation="none" name="mapRecipient"/>
      <folderProcess _operation="none" name="nmsWebApp"/>
      <strings context="webApp" locale="en" md5="787ad0b7a17de4ad6b1711bbf8d79fcb" sourceId="subNewsletter.htmlPage2.line1" status="2" text="Subscription">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="0e9a8480df128c32fd21fa735675374e" sourceId="subNewsletter.htmlPage2.line2" status="2" text="NEWSLETTER SUBSCRIPTION">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="3a2d507c5da9e55712ab931229b22841" sourceId="subNewsletter.htmlPage2.line3" status="2" text="You would like to be up to date">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="74590b78554e68d800a2511249dccb69" sourceId="subNewsletter.htmlPage2.line4" status="2" text="Your request has been registered. You will soon receive a message from us. &lt;br />&lt;br />Best regards &lt;br />&lt;br />The marketing team">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="02d4482d332e1aef3437cd61c9bcc624" sourceId="subNewsletter.htmlPage2.line5" status="2" text="Contact us">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="dffa545502aecbd811876f3523e17a05" sourceId="subNewsletter.htmlPage2.line6" status="2" text="© Copyrights">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="dffa545502aecbd811876f3523e17a05" sourceId="subNewsletter.htmlPage.line1" status="2" text="© Copyrights">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="3513d66409fa16a4aa2a5d84262030bb" sourceId="subNewsletter.htmlPage.line2" status="2" text="I subscribe">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="bdd9b80e1a9ff534cd90511444cdf2da" sourceId="subNewsletter.htmlPage.line3" status="2" text="By checking this box I consent to receive the newsletter">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="1f8261d17452a959e013666c5df45e07" sourceId="subNewsletter.htmlPage.line4" status="2" text="Phone number">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="763edb7bbb97c00aa772c49af670bfa3" sourceId="subNewsletter.htmlPage.line5" status="2" text="Email*">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="4088feb10d7e05b72bff9bf27cc5a79c" sourceId="subNewsletter.htmlPage.line6" status="2" text="Name*">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="9bb934d744a176e2cd01f7133f63acc2" sourceId="subNewsletter.htmlPage.line7" status="2" text="Please fill in the following form:">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="3d00fab8c79bb6adbf67836031e68ac2" sourceId="subNewsletter.htmlPage.line8" status="2" text="Subscribe to our newsletter to receive the latest news.">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="3a2d507c5da9e55712ab931229b22841" sourceId="subNewsletter.htmlPage.line9" status="2" text="You would like to be up to date">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="0e9a8480df128c32fd21fa735675374e" sourceId="subNewsletter.htmlPage.line10" status="2" text="NEWSLETTER SUBSCRIPTION">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="02d4482d332e1aef3437cd61c9bcc624" sourceId="subNewsletter.htmlPage.line11" status="2" text="Contact us">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="787ad0b7a17de4ad6b1711bbf8d79fcb" sourceId="subNewsletter.htmlPage.line12" status="2" text="Subscription">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="787ad0b7a17de4ad6b1711bbf8d79fcb" sourceId="subNewsletter.htmlPage2.line1" status="2" text="Anmeldung">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage2.line1">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="787ad0b7a17de4ad6b1711bbf8d79fcb" sourceId="subNewsletter.htmlPage2.line1" status="2" text="Inscription">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage2.line1">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="0e9a8480df128c32fd21fa735675374e" sourceId="subNewsletter.htmlPage2.line2" status="2" text="NEWSLETTERANMELDUNG">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage2.line2">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="0e9a8480df128c32fd21fa735675374e" sourceId="subNewsletter.htmlPage2.line2" status="2" text="INSCRIPTION A LA NEWSLETTER">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage2.line2">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="3a2d507c5da9e55712ab931229b22841" sourceId="subNewsletter.htmlPage2.line3" status="2" text="Sie möchten über alle Neuigkeiten auf dem Laufenden gehalten werden?">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage2.line3">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="3a2d507c5da9e55712ab931229b22841" sourceId="subNewsletter.htmlPage2.line3" status="2" text="Vous souhaitez être informé de l'actualité">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage2.line3">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="74590b78554e68d800a2511249dccb69" sourceId="subNewsletter.htmlPage2.line4" status="2" text="Ihre Anfrage ist bei uns eingegangen. Sie werden in Kürze eine E-Mail von uns erhalten. &lt;br />&lt;br />Mit freundlichem Grüßen &lt;br />&lt;br />Ihr Marketing-Team">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage2.line4">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="74590b78554e68d800a2511249dccb69" sourceId="subNewsletter.htmlPage2.line4" status="2" text="Votre demande&amp;nbsp;a &amp;eacute;t&amp;eacute; prise en compte. Vous allez recevoir un email de notre part. &lt;br />&lt;br />Cordialement &lt;br />&lt;br />L'&amp;eacute;quipe marketing">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage2.line4">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="02d4482d332e1aef3437cd61c9bcc624" sourceId="subNewsletter.htmlPage2.line5" status="2" text="Kontakt">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage2.line5">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="02d4482d332e1aef3437cd61c9bcc624" sourceId="subNewsletter.htmlPage2.line5" status="2" text="Contactez-nous">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage2.line5">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="dffa545502aecbd811876f3523e17a05" sourceId="subNewsletter.htmlPage2.line6" status="2" text="© Copyrights">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage2.line6">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="dffa545502aecbd811876f3523e17a05" sourceId="subNewsletter.htmlPage2.line6" status="2" text="© Copyrights">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage2.line6">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="dffa545502aecbd811876f3523e17a05" sourceId="subNewsletter.htmlPage.line1" status="2" text="© Copyrights">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line1">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="dffa545502aecbd811876f3523e17a05" sourceId="subNewsletter.htmlPage.line1" status="2" text="© Copyrights">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line1">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="3513d66409fa16a4aa2a5d84262030bb" sourceId="subNewsletter.htmlPage.line2" status="2" text="Jetzt anmelden">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line2">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="3513d66409fa16a4aa2a5d84262030bb" sourceId="subNewsletter.htmlPage.line2" status="2" text="Je m'inscris">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line2">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="bdd9b80e1a9ff534cd90511444cdf2da" sourceId="subNewsletter.htmlPage.line3" status="2" text="Durch Ankreuzen dieses Feldes bestätige ich, den Newsletter erhalten zu wollen.">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line3">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="bdd9b80e1a9ff534cd90511444cdf2da" sourceId="subNewsletter.htmlPage.line3" status="2" text="En cochant cette case, j'accepte de recevoir la Newsletter">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line3">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="1f8261d17452a959e013666c5df45e07" sourceId="subNewsletter.htmlPage.line4" status="2" text="Telefon">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line4">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="1f8261d17452a959e013666c5df45e07" sourceId="subNewsletter.htmlPage.line4" status="2" text="Votre téléphone">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line4">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="763edb7bbb97c00aa772c49af670bfa3" sourceId="subNewsletter.htmlPage.line5" status="2" text="E-Mail*">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line5">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="763edb7bbb97c00aa772c49af670bfa3" sourceId="subNewsletter.htmlPage.line5" status="2" text="Votre e-mail*">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line5">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="4088feb10d7e05b72bff9bf27cc5a79c" sourceId="subNewsletter.htmlPage.line6" status="2" text="Nachname*">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line6">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="4088feb10d7e05b72bff9bf27cc5a79c" sourceId="subNewsletter.htmlPage.line6" status="2" text="Votre nom*">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line6">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="9bb934d744a176e2cd01f7133f63acc2" sourceId="subNewsletter.htmlPage.line7" status="2" text="Füllen Sie bitte das folgende Formular aus:">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line7">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="9bb934d744a176e2cd01f7133f63acc2" sourceId="subNewsletter.htmlPage.line7" status="2" text="Veuillez remplir le formulaire suivant :">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line7">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="3d00fab8c79bb6adbf67836031e68ac2" sourceId="subNewsletter.htmlPage.line8" status="2" text="Abonnieren Sie unseren Newsletter, um sofort über alle Neuigkeiten informiert zu werden.">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line8">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="3d00fab8c79bb6adbf67836031e68ac2" sourceId="subNewsletter.htmlPage.line8" status="2" text="Pour recevoir nos dernières actualités, inscrivez-vous à notre Newsletter.">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line8">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="3a2d507c5da9e55712ab931229b22841" sourceId="subNewsletter.htmlPage.line9" status="2" text="Sie möchten über alle Neuigkeiten auf dem Laufenden gehalten werden?">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line9">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="3a2d507c5da9e55712ab931229b22841" sourceId="subNewsletter.htmlPage.line9" status="2" text="Vous souhaitez être informé de l'actualité">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line9">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="0e9a8480df128c32fd21fa735675374e" sourceId="subNewsletter.htmlPage.line10" status="2" text="NEWSLETTERANMELDUNG">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line10">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="0e9a8480df128c32fd21fa735675374e" sourceId="subNewsletter.htmlPage.line10" status="2" text="INSCRIPTION A LA NEWSLETTER">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line10">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="02d4482d332e1aef3437cd61c9bcc624" sourceId="subNewsletter.htmlPage.line11" status="2" text="Kontakt">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line11">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="02d4482d332e1aef3437cd61c9bcc624" sourceId="subNewsletter.htmlPage.line11" status="2" text="Contactez-nous">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line11">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="787ad0b7a17de4ad6b1711bbf8d79fcb" sourceId="subNewsletter.htmlPage.line12" status="2" text="Anmeldung">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line12">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="787ad0b7a17de4ad6b1711bbf8d79fcb" sourceId="subNewsletter.htmlPage.line12" status="2" text="Inscription">
        <sourceString _operation="none" locale="en" sourceId="subNewsletter.htmlPage.line12">
          <webApp _operation="none" internalName="subNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="subNewsletter"/>
      </strings>
    </webApp>
    <webApp builtIn="1" defaultLanguage="en" designLanguage="en" hasHtmlPage="1" internalName="unsubNewsletter" isModel="1" label="Unsubscription from the newsletter" modelName="newLandingPage" nature="unsubscription" schema="nms:recipient">
      <properties renderingEngine="1"/>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
            <string id="line1" value="An error occurred."/>
          </strings>
        </endPage>
      </errorPage>
      <activities>
        <prefill label="Preloading" name="prefill" skipIfNoId="false" x="24" y="16">
          <transitions>
            <next name="next" target="htmlPage"/>
          </transitions>
        </prefill>
        <htmlPage label="End" name="htmlPage2" x="424" y="16">
          <transitions>
            <next enabled="false" label="Next" name="next" target="end"/>
          </transitions>
          <content>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
  &lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;
    &lt;link rel="stylesheet" type="text/css" href="/nl/webForms/landingPage.css"/&gt;
    &lt;title data-nl-localizable="true" id="unsubNewsletter.htmlPage2.line1"&gt;Unsubscription&lt;/title&gt;&lt;style type="text/css" media="all"&gt;
      /* override button */
      .button a {
        background: #1F277A;
      }

      /* override formulary area */
      .formulary {
        margin-top: 20px;
        margin-left: 170px;
      }
    &lt;/style&gt;
  &lt;/head&gt;

  &lt;body style="" class=""&gt;
&lt;center&gt;
&lt;div id="wrap"&gt;
&lt;div id="header"&gt;&lt;img src="/nms/img/contentModels/placeholder_header.png" alt="" /&gt;
&lt;div class="header-title center-title" style="color: #ffffff;" data-nl-localizable="true" id="unsubNewsletter.htmlPage2.line2"&gt;UNSUBSCRIPTION FROM THE NEWSLETTER&lt;/div&gt;
&lt;/div&gt;
&lt;div id="content"&gt;
&lt;div class="info"&gt;
&lt;div class="title" data-nl-localizable="true" id="unsubNewsletter.htmlPage2.line3"&gt;You would like to unsubscribe from the newsletter&lt;/div&gt;&lt;div data-nl-localizable="true" id="unsubNewsletter.htmlPage2.line4"&gt;Your request has been taken into account. You will no longer receive emails from us. &lt;br /&gt;&lt;br /&gt;Best regards&lt;br /&gt;&lt;br /&gt;The marketing team&lt;/div&gt;&lt;div id="footer"&gt;
&lt;div style="text-align: center;"&gt;
&lt;div style="float: left;"&gt;&lt;a href="#" data-nl-localizable="true" id="unsubNewsletter.htmlPage2.line5"&gt;Contact us&lt;/a&gt;&lt;/div&gt;
&lt;div style="float: right;" data-nl-localizable="true" id="unsubNewsletter.htmlPage2.line6"&gt;© Copyrights&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/center&gt;
&lt;/body&gt;
&lt;/html&gt;</content>
        </htmlPage>
        <htmlPage label="Unsubscription" name="htmlPage" x="160" y="16">
          <transitions>
            <next label="Next" name="next" target="writer"/>
          </transitions>
          <content>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
  &lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;
    &lt;link rel="stylesheet" type="text/css" href="/nl/webForms/landingPage.css"/&gt;
    &lt;title data-nl-localizable="true" id="unsubNewsletter.htmlPage.line1"&gt;Unsubscription&lt;/title&gt;&lt;style type="text/css" media="all"&gt;
      /* override formulary area */
      .formulary {
        margin-top: 20px;
        margin-left: 170px;
      }
    &lt;/style&gt;
  &lt;/head&gt;

  &lt;body style="" class=""&gt;
&lt;center&gt;
&lt;div id="wrap"&gt;
&lt;div id="header"&gt;&lt;img src="/nms/img/contentModels/placeholder_header.png" alt="" /&gt;
&lt;div class="header-title center-title" style="color: #ffffff;" data-nl-localizable="true" id="unsubNewsletter.htmlPage.line2"&gt;UNSUBSCRIPTION FROM THE NEWSLETTER&lt;/div&gt;
&lt;/div&gt;
&lt;div id="content"&gt;
&lt;div class="info"&gt;
&lt;div class="title" data-nl-localizable="true" id="unsubNewsletter.htmlPage.line3"&gt;You would like to unsubscribe from the newsletter&lt;/div&gt;&lt;div data-nl-localizable="true" id="unsubNewsletter.htmlPage.line4"&gt;If you no longer wish to receive our news, click the "Unsubscribe" button.&lt;/div&gt;&lt;div class="formulary"&gt;&lt;form&gt;
&lt;div class="agree"&gt;&lt;input id="agree" type="checkbox" name="agree"  data-nl-ismandatory="true" data-nl-checkboxbehavior="unsubscription" data-nl-bindto="service" data-nl-servicename="newsletter" data-nl-servicelabel="Newsletter (newsletter)" /&gt;&lt;label style="display: inline-block;" for="agree" data-nl-localizable="true" id="unsubNewsletter.htmlPage.line5"&gt;By checking this box I accept to not receive the newsletter anymore.&lt;/label&gt;&lt;/div&gt;
&lt;/form&gt;
&lt;div class="button" style="margin-left: 4px;"&gt;&lt;a href="#" data-nl-type="action" data-nl-action="next" data-nl-localizable="true" id="unsubNewsletter.htmlPage.line6"&gt;Unsubscribe&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="footer"&gt;
&lt;div style="text-align: center;"&gt;
&lt;div style="float: left;"&gt;&lt;a href="#" data-nl-localizable="true" id="unsubNewsletter.htmlPage.line7"&gt;Contact us&lt;/a&gt;&lt;/div&gt;
&lt;div style="float: right;" data-nl-localizable="true" id="unsubNewsletter.htmlPage.line8"&gt;© Copyrights&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/center&gt;
&lt;/body&gt;
&lt;/html&gt;</content>
        </htmlPage>
        <writer label="Storage" name="writer" updateOnly="true" x="288" y="16">
          <transitions>
            <next name="next" target="htmlPage2"/>
          </transitions>
        </writer>
      </activities>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="nmsWebAppModel"/>
      <rendering _operation="none" internalName="defaultFormRendering"/>
      <deliveryMapping _operation="none" name="mapRecipient"/>
      <folderProcess _operation="none" name="nmsWebApp"/>
      <strings context="webApp" locale="en" md5="4551ffc5f55de732e0512bec68dfffde" sourceId="unsubNewsletter.htmlPage2.line1" status="2" text="Unsubscription">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="e9a81e0162dfae7da5f952e1217b87a8" sourceId="unsubNewsletter.htmlPage2.line2" status="2" text="UNSUBSCRIPTION FROM THE NEWSLETTER">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="8d2624034553eb1802eb2934f6629a26" sourceId="unsubNewsletter.htmlPage2.line3" status="2" text="You would like to unsubscribe from the newsletter">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="078fa5015d2d36f9706785ee3504320c" sourceId="unsubNewsletter.htmlPage2.line4" status="2" text="Your request has been taken into account. You will no longer receive emails from us. &lt;br />&lt;br />Best regards&lt;br />&lt;br />The marketing team">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="02d4482d332e1aef3437cd61c9bcc624" sourceId="unsubNewsletter.htmlPage2.line5" status="2" text="Contact us">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="dffa545502aecbd811876f3523e17a05" sourceId="unsubNewsletter.htmlPage2.line6" status="2" text="© Copyrights">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="4551ffc5f55de732e0512bec68dfffde" sourceId="unsubNewsletter.htmlPage.line1" status="2" text="Unsubscription">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="e9a81e0162dfae7da5f952e1217b87a8" sourceId="unsubNewsletter.htmlPage.line2" status="2" text="UNSUBSCRIPTION FROM THE NEWSLETTER">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="8d2624034553eb1802eb2934f6629a26" sourceId="unsubNewsletter.htmlPage.line3" status="2" text="You would like to unsubscribe from the newsletter">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="a930223249df4001857c0ca160c3efd3" sourceId="unsubNewsletter.htmlPage.line4" status="2" text="If you no longer wish to receive our news, click the &quot;Unsubscribe&quot; button.">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="7a4aeaaa23d8b09b93d5f4b07f0bbdeb" sourceId="unsubNewsletter.htmlPage.line5" status="2" text="By checking this box I accept to not receive the newsletter anymore.">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="4182c8f19d40c7ca236a5f4f83faeb6b" sourceId="unsubNewsletter.htmlPage.line6" status="2" text="Unsubscribe">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="02d4482d332e1aef3437cd61c9bcc624" sourceId="unsubNewsletter.htmlPage.line7" status="2" text="Contact us">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="en" md5="dffa545502aecbd811876f3523e17a05" sourceId="unsubNewsletter.htmlPage.line8" status="2" text="© Copyrights">
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="4551ffc5f55de732e0512bec68dfffde" sourceId="unsubNewsletter.htmlPage2.line1" status="2" text="Abmeldung">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage2.line1">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="4551ffc5f55de732e0512bec68dfffde" sourceId="unsubNewsletter.htmlPage2.line1" status="2" text="Désinscription">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage2.line1">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="e9a81e0162dfae7da5f952e1217b87a8" sourceId="unsubNewsletter.htmlPage2.line2" status="2" text="NEWSLETTERABMELDUNG">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage2.line2">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="e9a81e0162dfae7da5f952e1217b87a8" sourceId="unsubNewsletter.htmlPage2.line2" status="2" text="DESINSCRIPTION A LA NEWSLETTER">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage2.line2">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="8d2624034553eb1802eb2934f6629a26" sourceId="unsubNewsletter.htmlPage2.line3" status="2" text="Sie möchten unseren Newsletter abbestellen?">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage2.line3">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="8d2624034553eb1802eb2934f6629a26" sourceId="unsubNewsletter.htmlPage2.line3" status="2" text="Vous souhaitez vous désinscrire à la Newsletter">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage2.line3">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="078fa5015d2d36f9706785ee3504320c" sourceId="unsubNewsletter.htmlPage2.line4" status="2" text="Ihre Anfrage wurde berücksichtigt. Sie werden zukünftig keine E-Mails von uns mehr bekommen. &lt;br />&lt;br />Mit freundlichen Grüßen&lt;br />&lt;br />Ihr Marketing-Team">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage2.line4">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="078fa5015d2d36f9706785ee3504320c" sourceId="unsubNewsletter.htmlPage2.line4" status="2" text="Votre demande a été prise en compte. Vous ne recevrez plus d'email de notre part. &lt;br />&lt;br />Cordialement&lt;br />&lt;br />L'équipe marketing">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage2.line4">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="02d4482d332e1aef3437cd61c9bcc624" sourceId="unsubNewsletter.htmlPage2.line5" status="2" text="Kontakt">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage2.line5">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="02d4482d332e1aef3437cd61c9bcc624" sourceId="unsubNewsletter.htmlPage2.line5" status="2" text="Contactez-nous">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage2.line5">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="dffa545502aecbd811876f3523e17a05" sourceId="unsubNewsletter.htmlPage2.line6" status="2" text="© Copyrights">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage2.line6">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="dffa545502aecbd811876f3523e17a05" sourceId="unsubNewsletter.htmlPage2.line6" status="2" text="© Copyrights">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage2.line6">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="4551ffc5f55de732e0512bec68dfffde" sourceId="unsubNewsletter.htmlPage.line1" status="2" text="Abmeldung">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line1">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="4551ffc5f55de732e0512bec68dfffde" sourceId="unsubNewsletter.htmlPage.line1" status="2" text="Désinscription">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line1">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="e9a81e0162dfae7da5f952e1217b87a8" sourceId="unsubNewsletter.htmlPage.line2" status="2" text="NEWSLETTERABMELDUNG">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line2">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="e9a81e0162dfae7da5f952e1217b87a8" sourceId="unsubNewsletter.htmlPage.line2" status="2" text="DESINSCRIPTION A LA NEWSLETTER">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line2">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="8d2624034553eb1802eb2934f6629a26" sourceId="unsubNewsletter.htmlPage.line3" status="2" text="Sie möchten unseren Newsletter abbestellen?">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line3">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="8d2624034553eb1802eb2934f6629a26" sourceId="unsubNewsletter.htmlPage.line3" status="2" text="Vous souhaitez vous désinscrire à la Newsletter">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line3">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="a930223249df4001857c0ca160c3efd3" sourceId="unsubNewsletter.htmlPage.line4" status="2" text="Klicken Sie auf die Schaltfläche 'Abmelden', um keine Neuigkeiten mehr von uns zu erhalten.">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line4">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="a930223249df4001857c0ca160c3efd3" sourceId="unsubNewsletter.htmlPage.line4" status="2" text="Pour ne plus recevoir nos actualités, veuillez cliquer sur le bouton 'Se désinscrire'">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line4">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="7a4aeaaa23d8b09b93d5f4b07f0bbdeb" sourceId="unsubNewsletter.htmlPage.line5" status="2" text="Durch Ankreuzen dieses Feldes bestätige ich, den Newsletter nicht mehr erhalten zu wollen.">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line5">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="7a4aeaaa23d8b09b93d5f4b07f0bbdeb" sourceId="unsubNewsletter.htmlPage.line5" status="2" text="En cochant cette case j'accepte de ne plus recevoir la Newsletter">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line5">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="4182c8f19d40c7ca236a5f4f83faeb6b" sourceId="unsubNewsletter.htmlPage.line6" status="2" text="Abmelden">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line6">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="4182c8f19d40c7ca236a5f4f83faeb6b" sourceId="unsubNewsletter.htmlPage.line6" status="2" text="Se désinscrire">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line6">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="02d4482d332e1aef3437cd61c9bcc624" sourceId="unsubNewsletter.htmlPage.line7" status="2" text="Kontakt">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line7">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="02d4482d332e1aef3437cd61c9bcc624" sourceId="unsubNewsletter.htmlPage.line7" status="2" text="Contactez-nous">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line7">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="de" md5="dffa545502aecbd811876f3523e17a05" sourceId="unsubNewsletter.htmlPage.line8" status="2" text="© Copyrights">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line8">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
      <strings context="webApp" locale="fr" md5="dffa545502aecbd811876f3523e17a05" sourceId="unsubNewsletter.htmlPage.line8" status="2" text="© Copyrights">
        <sourceString _operation="none" locale="en" sourceId="unsubNewsletter.htmlPage.line8">
          <webApp _operation="none" internalName="unsubNewsletter"/>
        </sourceString>
        <folder _operation="none" name="xtkUserDictionary"/>
        <webApp _operation="none" internalName="unsubNewsletter"/>
      </strings>
    </webApp>
  </entities>
  <entities schema="xtk:dataTransfer">
    <dataTransfer builtIn="1" editForm="xtk:import" form="xtk:dataTransfer" img="xtk:import.png" internalName="newImport" isModel="1" jobType="import" label="New text import" xtkschema="xtk:dataTransfer">
      <desc>Template used to start a new import from scratch</desc>
      <folder _operation="none" name="xtkJobModel"/>
      <folderProcess _operation="none" name="xtkJob"/>
    </dataTransfer>
    <dataTransfer builtIn="1" editForm="xtk:export" form="xtk:dataTransfer" img="xtk:export.png" internalName="newExport" isModel="1" jobType="export" label="New text export" xtkschema="xtk:dataTransfer">
      <desc>Template used to start a new export from scratch</desc>
      <folder _operation="none" name="xtkJobModel"/>
      <folderProcess _operation="none" name="xtkJob"/>
    </dataTransfer>
    <dataTransfer builtIn="1" editForm="xtk:import" form="xtk:dataTransfer" img="xtk:import.png" internalName="blacklistImport" isModel="1" jobType="import" label="Import blacklist" xtkschema="xtk:dataTransfer">
      <dataTransferStep name="emailFile">
        <source lastParsedDataSource="C:\tmp\blacklistFile.txt" type="text">
          <name>C:\tmp\blacklistFile.txt</name>
          <dataSourceConfig firstLineIsTitle="false" semiColumnIsSep="true">
            <dataSourceColumn label="Email" name="Email"/>
            <sampleLines>
              <line id="1587218190">address1@neolane.net</line>
              <line id="1587218191">address2@neolane.net</line>
              <line id="1587218192">address3@neolane.net</line>
              <line id="1587218193">address4@neolane.net</line>
              <line id="1587218194">address5@neolane.net</line>
              <line id="1587218195">address6@neolane.net</line>
            </sampleLines>
          </dataSourceConfig>
          <calculatedFields>
            <calculatedField label="Blacklist status" name="Statut_Blacklist">
              <srcScript>3</srcScript>
            </calculatedField>
          </calculatedFields>
          <mappingConfig>
            <mapping dest="@address" src="Email" transformation="toLowerCase"/>
            <mapping dest="@status" src="Statut_Blacklist"/>
          </mappingConfig>
          <reconciliation>
            <nodeInfo double="ignore" xpath=".">
              <key name="key_1">
                <keyfield xpath="@address"/>
              </key>
            </nodeInfo>
          </reconciliation>
        </source>
        <destination schema="nms:address" type="xtkDataStore"/>
      </dataTransferStep>
      <desc>Template to import a list of email addresses to be used as a blacklist so that no emails are sent to these addresses. 
To use this template, the source file must be a text file comprised of one single column: the email address.</desc>
      <folder _operation="none" name="xtkJobModel"/>
      <folderProcess _operation="none" name="xtkJob"/>
    </dataTransfer>
  </entities>
  <entities schema="xtk:enum">
    <enum label="Nature of resources and documents" lastAliasCleansing="2017-01-20 00:49:28.593Z" lastHitsComputation="2017-01-20 00:49:28.593Z" name="fileResNature" type="2"/>
    <enum label="Languages available for translation" lastAliasCleansing="2017-01-20 00:49:28.593Z" lastHitsComputation="2017-01-20 00:49:28.593Z" name="dictionaryLocale" type="2">
      <value img="xtk:flags/de.png" label="German" name="de">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/gb.png" label="English" name="en">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/ArabLeague.png" label="Arabic" name="ar">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/cn.png" label="Chinese" name="zh">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/kr.png" label="Korean" name="ko">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/dk.png" label="Danish" name="da">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/es.png" label="Spanish" name="es">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/ee.png" label="Estonian" name="et">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/fi.png" label="Finnish" name="fi">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/fr.png" label="French" name="fr">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/gr.png" label="Greek" name="el">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/isr.png" label="Hebrew" name="he">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/hu.png" label="Hungarian" name="hu">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/id.png" label="Indonesian" name="id">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/ie.png" label="Irish" name="ga">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/it.png" label="Italian" name="it">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/jp.png" label="Japanese" name="ja">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/lv.png" label="Latvian" name="lv">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/lt.png" label="Lithuanian" name="lt">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/mt.png" label="Maltese" name="mt">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/nl.png" label="Dutch" name="nl">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/pl.png" label="Polish" name="pl">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/pt.png" label="Portuguese" name="pt">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/ru.png" label="Russian" name="ru">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/si.png" label="Slovene" name="sl">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/sk.png" label="Slovak" name="sk">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/se.png" label="Swedish" name="sv">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/cz.png" label="Czech" name="cs">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/th.png" label="Thai" name="th">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/vn.png" label="Vietnamese" name="vi">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/wallon.png" label="Walloon" name="wa">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/us.png" label="English (United States)" name="en_US">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/gb.png" label="English (United Kingdom)" name="en_GB">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/fr.png" label="French (France)" name="fr_FR">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/be.png" label="French (Belgium)" name="fr_BE">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/it.png" label="Italian (Italy)" name="it_IT">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/it.png" label="Italian (Switzerland)" name="it_CH">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/nl.png" label="Dutch (Netherlands)" name="nl_NL">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/be.png" label="Dutch (Belgium)" name="nl_BE">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/no.png" label="Norwegian (Norway)" name="no_NO">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/pt.png" label="Portugese (Portugal)" name="pt_PT">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/br.png" label="Portugese (Brazil)" name="pt_BR">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/se.png" label="Sweden (Swedish)" name="sv_SE">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
      <value img="xtk:flags/fi.png" label="Swedish (Finland)" name="sv_FI">
        <enum _operation="none" name="dictionaryLocale"/>
      </value>
    </enum>
    <enum label="Context" lastAliasCleansing="2017-01-20 00:49:28.624Z" lastHitsComputation="2017-01-20 00:49:28.624Z" name="dictionaryContext" type="2">
      <value label="System" name="system">
        <enum _operation="none" name="dictionaryContext"/>
      </value>
      <value label="Global" name="global">
        <enum _operation="none" name="dictionaryContext"/>
      </value>
      <value label="Web application" name="webApp">
        <enum _operation="none" name="dictionaryContext"/>
      </value>
      <value label="Report" name="report">
        <enum _operation="none" name="dictionaryContext"/>
      </value>
    </enum>
    <enum label="Security zone" lastAliasCleansing="2017-01-20 00:49:28.624Z" lastHitsComputation="2017-01-20 00:49:28.624Z" name="securityZone" type="2">
      <value label="Internal network (LAN)" name="lan">
        <enum _operation="none" name="securityZone"/>
      </value>
      <value label="Private company network (VPN+LAN)" name="vpn">
        <enum _operation="none" name="securityZone"/>
      </value>
      <value label="Public network (Internet+VPN+LAN)" name="public">
        <enum _operation="none" name="securityZone"/>
      </value>
    </enum>
    <enum label="Authentication type" lastAliasCleansing="2017-01-20 00:49:28.624Z" lastHitsComputation="2017-01-20 00:49:28.624Z" name="authenticationType" type="2">
      <value label="ims" name="ims">
        <enum _operation="none" name="authenticationType"/>
      </value>
      <value label="native" name="native">
        <enum _operation="none" name="authenticationType"/>
      </value>
      <value label="ldap" name="ldap">
        <enum _operation="none" name="authenticationType"/>
      </value>
    </enum>
    <enum label="Report category" lastAliasCleansing="2017-01-20 00:49:28.624Z" lastHitsComputation="2017-01-20 00:49:28.624Z" name="reportCategory">
      <value label="Budget">
        <enum _operation="none" name="reportCategory"/>
      </value>
      <value label="Campaigns">
        <enum _operation="none" name="reportCategory"/>
      </value>
      <value label="Technical data">
        <enum _operation="none" name="reportCategory"/>
      </value>
      <value label="Exclusions">
        <enum _operation="none" name="reportCategory"/>
      </value>
      <value label="Lead generation">
        <enum _operation="none" name="reportCategory"/>
      </value>
      <value label="Overlapping">
        <enum _operation="none" name="reportCategory"/>
      </value>
      <value label="Feedback">
        <enum _operation="none" name="reportCategory"/>
      </value>
      <value label="Summaries">
        <enum _operation="none" name="reportCategory"/>
      </value>
    </enum>
    <enum label="Content-Type" lastAliasCleansing="2017-01-20 00:49:28.624Z" lastHitsComputation="2017-01-20 00:49:28.624Z" name="contentType"/>
    <enum label="Theme" lastAliasCleansing="2017-01-20 00:49:28.624Z" lastHitsComputation="2017-01-20 00:49:28.624Z" name="theme"/>
    <enum label="Department" lastAliasCleansing="2017-01-20 00:49:28.624Z" lastHitsComputation="2017-01-20 00:49:28.624Z" name="department"/>
    <enum label="Affinity of workflows" lastAliasCleansing="2017-01-20 00:49:28.624Z" lastHitsComputation="2017-01-20 00:49:28.624Z" name="affinity"/>
    <enum aliases="1" classBinning="1" label="Domains" lastAliasCleansing="2017-01-20 00:49:29.905Z" lastHitsComputation="2017-01-20 00:49:29.905Z" name="domain">
      <aliases label="aim.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="aol.at">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="aol.be">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="aol.ch">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="aol.co.uk">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="aol.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="aol.de">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="aol.es">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="aol.fr">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="aol.in">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="aol.it">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="aol.nl">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="aol.pl">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="aol.ru">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="compuserve.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="cs.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="goowy.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="icqmail.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="mcom.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="netscape.net">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainAOL">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="gmail.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainGmail">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="googlemail.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainGmail">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.be">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.ca">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.ch">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.co.id">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.co.jp">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.co.th">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.co.uk">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.com.br">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.com.tr">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.de">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.dk">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.es">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.fr">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.gr">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.it">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="hotmail.nl">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.at">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.be">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.ca">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.cl">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.cn">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.co.kr">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.co.uk">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.com.pt">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.de">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.dk">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.fr">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.it">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.nl">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.ru">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="live.se">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="msn.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="outlook.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="outlook.com.gr">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="outlook.de">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="outlook.fr">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="windowslive.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainMicrosoft">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="ovi.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="rocketmail.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="sky.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.be">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.ca">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.cl">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.cn">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.co.uk">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.com.ar">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.com.au">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.com.br">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.com.cn">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.com.mx">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.com.pe">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.com.tr">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.de">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.dk">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.es">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.fr">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.gr">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.it">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.pl">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.ro">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="yahoo.se">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <aliases label="ymail.com">
        <enum _operation="none" name="domain"/>
        <enumValue _operation="none" name="domainYahoo">
          <enum _operation="none" name="domain"/>
        </enumValue>
      </aliases>
      <value label="AOL" name="domainAOL">
        <enum _operation="none" name="domain"/>
        <alias label="aim.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="aol.at">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="aol.be">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="aol.ch">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="aol.co.uk">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="aol.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="aol.de">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="aol.es">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="aol.fr">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="aol.in">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="aol.it">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="aol.nl">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="aol.pl">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="aol.ru">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="compuserve.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="cs.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="goowy.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="icqmail.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="mcom.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="netscape.net">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainAOL">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
      </value>
      <value label="Gmail" name="domainGmail">
        <enum _operation="none" name="domain"/>
        <alias label="gmail.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainGmail">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="googlemail.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainGmail">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
      </value>
      <value label="Microsoft" name="domainMicrosoft">
        <enum _operation="none" name="domain"/>
        <alias label="hotmail.be">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.ca">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.ch">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.co.id">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.co.jp">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.co.th">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.co.uk">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.com.br">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.com.tr">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.de">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.dk">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.es">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.fr">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.gr">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.it">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="hotmail.nl">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.at">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.be">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.ca">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.cl">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.cn">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.co.kr">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.co.uk">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.com.pt">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.de">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.dk">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.fr">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.it">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.nl">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.ru">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="live.se">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="msn.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="outlook.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="outlook.com.gr">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="outlook.de">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="outlook.fr">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="windowslive.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainMicrosoft">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
      </value>
      <value label="Yahoo" name="domainYahoo">
        <enum _operation="none" name="domain"/>
        <alias label="ovi.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="rocketmail.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="sky.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.be">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.ca">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.cl">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.cn">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.co.uk">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.com.ar">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.com.au">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.com.br">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.com.cn">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.com.mx">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.com.pe">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.com.tr">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.de">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.dk">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.es">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.fr">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.gr">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.it">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.pl">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.ro">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="yahoo.se">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
        <alias label="ymail.com">
          <enum _operation="none" name="domain"/>
          <enumValue _operation="none" name="domainYahoo">
            <enum _operation="none" name="domain"/>
          </enumValue>
        </alias>
      </value>
    </enum>
    <enum label="Nature of Web applications" lastAliasCleansing="2017-01-20 00:49:31.941Z" lastHitsComputation="2017-01-20 00:49:31.941Z" name="webAppNature" type="2">
      <value label="Overview" name="overview">
        <enum _operation="none" name="webAppNature"/>
      </value>
      <value label="Technical" name="technical">
        <enum _operation="none" name="webAppNature"/>
      </value>
      <value label="Subscription" name="subscription">
        <enum _operation="none" name="webAppNature"/>
      </value>
      <value label="Unsubscription" name="unsubscription">
        <enum _operation="none" name="webAppNature"/>
      </value>
      <value label="Sharing" name="viral">
        <enum _operation="none" name="webAppNature"/>
      </value>
      <value label="Landing page" name="landingPage">
        <enum _operation="none" name="webAppNature"/>
      </value>
    </enum>
    <enum label="Objectives" lastAliasCleansing="2017-01-20 00:49:31.941Z" lastHitsComputation="2017-01-20 00:49:31.941Z" name="trackerGoal" type="2">
      <value label="Conversion" name="conversion">
        <enum _operation="none" name="trackerGoal"/>
      </value>
    </enum>
    <enum label="Delivery nature" lastAliasCleansing="2017-01-20 00:49:31.941Z" lastHitsComputation="2017-01-20 00:49:31.941Z" name="deliveryNature" type="2">
      <value label="Non-identified traffic source" name="unknownSource">
        <enum _operation="none" name="deliveryNature"/>
      </value>
    </enum>
    <enum label="Language" lastAliasCleansing="2017-01-20 00:49:31.941Z" lastHitsComputation="2017-01-20 00:49:31.941Z" name="language"/>
    <enum label="Company" lastAliasCleansing="2017-01-20 00:49:31.956Z" lastHitsComputation="2017-01-20 00:49:31.956Z" name="company"/>
    <enum label="Title" lastAliasCleansing="2017-01-20 00:49:31.956Z" lastHitsComputation="2017-01-20 00:49:31.956Z" name="salutation"/>
    <enum label="City" lastAliasCleansing="2017-01-20 00:49:31.956Z" lastHitsComputation="2017-01-20 00:49:31.956Z" name="city"/>
    <enum label="Origin" lastAliasCleansing="2017-01-20 00:49:31.956Z" lastHitsComputation="2017-01-20 00:49:31.956Z" name="origin"/>
    <enum label="URL category" lastAliasCleansing="2017-01-20 00:49:31.956Z" lastHitsComputation="2017-01-20 00:49:31.956Z" name="urlCategory"/>
    <enum label="Substitution address" lastAliasCleansing="2017-01-20 00:49:31.956Z" lastHitsComputation="2017-01-20 00:49:31.956Z" name="fcpAddress"/>
    <enum label="IP affinity" lastAliasCleansing="2017-01-20 00:49:31.956Z" lastHitsComputation="2017-01-20 00:49:31.956Z" name="IPAffinity"/>
    <enum label="Nature of entities" lastAliasCleansing="2017-01-20 00:49:31.956Z" lastHitsComputation="2017-01-20 00:49:31.956Z" name="orgUnitNature" type="2"/>
  </entities>
  <entities schema="xtk:formRendering">
    <formRendering internalName="offerValidation" label="Offer approval" preview="/nms/img/survey/theme/preview/notifyOperation.png">
      <logo width="118"/>
      <layout footer="0" header="2"/>
      <format css="/nl/notifyOperation.css" name="web"/>
      <folder _operation="none" name="xtkFormRendering"/>
    </formRendering>
    <formRendering internalName="viralFormRendering" label="Viral form" preview="/nms/img/survey/theme/preview/viralRendering.png">
      <header id="1">
        <font style="normal"/>
        <left>
          <text>$(PAGETITLE)</text>
        </left>
      </header>
      <header id="2">
        <font style="normal"/>
      </header>
      <logo height="30" src="xtk:report/neologo118x30.png" width="195"/>
      <layout footer="2" header="2"/>
      <format defaultFontSize="8" name="web">
        <cssOverloading>#page{
background: #F4F4F4;
border: 1px solid #AAA;
-moz-border-radius: 5px;
-webkit-border-radius: 5px;
border-radius: 5px;
margin: 8px auto;
padding:10px;
width:325px;
}

#page {
  -moz-box-shadow: 3px 3px 4px #ccc;
  -webkit-box-shadow: 3px 3px 4px #ccc;
  box-shadow: 3px 3px 4px #ccc;
  /* For IE 8 */
  -ms-filter: "progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color='#cccccc')";
  /* For IE 5.5 - 7 */
  filter: progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color='#cccccc');
}

#buttonNext{
float:left;
font-size:15px;
padding:15px;
}

#buttonNextInput {
padding:5px;
}

#container-container26-cell {
margin:0;
padding:0;
}

input[type="text"], select, textarea {
height: 19px;
background: #FFFFFF;
border: 1px solid #AAA;
-moz-border-radius: 5px;
-webkit-border-radius: 5px;
border-radius: 5px;
padding: 5px;
margin: 8px 0;
}

input[type=text]:focus, select:focus, select:active , textarea:focus, textarea:active {  border-color:#0075a1;  outline:none; background:#fff;}

.left {margin-left:10px;}</cssOverloading>
      </format>
      <folder _operation="none" name="xtkFormRendering"/>
    </formRendering>
    <formRendering internalName="dashboardList" label="List Dashboard" preview="/nms/img/survey/theme/preview/dashboardList.png">
      <logo width="118"/>
      <layout footer="0" header="2"/>
      <format css="/nl/webForms/monoPageWebApp.css" name="web">
        <cssOverloading>.header, .footer
{
 padding:0 0
}

.titleContainer
{
  width:100% !important;
  margin: 0px !important;
  padding:2px !important;
  font-weight: bold !important;
  font-size: 1em !important;
  font-family: Verdana,sans-serif !important;
  color: #636363 !important;
  background: #D8E1EF url(/nl/img/header-tab.png) repeat-x scroll top left !important;
  border:1px solid #D8E1EF !important;
}

.dottedContainer
{
  border:1px solid #D8E1EF;
  margin-bottom:10px;
  background-color:#f8f8f8;
  padding: 0px;
}

.listContent
{
  border: 0px;
  margin: 0px;
}

div.footerNav
{
   border: 0px;
}

.listOddLine #detail
{
  background-color:#f2f2f2;
}

.listEvenLine #detail
{
  background-color:#f7f8fa;
}

div.entity
{
  padding:2px;
}

#content
{
  padding-left: 0.4em;
  padding-right: 0.4em;
}

#detail
{
  padding: 0.4em;
}

#content a
{
  color: #486790;
  font-weight: normal;
  text-decoration: none;
}

#content p, span
{
  color:#858585;
  font-family:Verdana,Arial,Helvetica,sans-serif;
  margin: 0; padding: 0;
}

.filterContainer
{
  background-color:#FFFFFF;
  margin: 0; padding: 0;
  border: 0px;
}

.filterContainer img
{
  vertical-align: middle;
}

body
{
  color: #666666;
}

div.page
{
  padding: 0;
  margin: auto;
}</cssOverloading>
      </format>
      <folder _operation="none" name="xtkFormRendering"/>
    </formRendering>
    <formRendering internalName="unsub" label="Unsubscription form" preview="/nms/img/survey/theme/preview/theme07.png">
      <header id="12125323620">
        <font color="#006791" size="16" style="bold"/>
        <left>
          <text>$(PAGETITLE)</text>
        </left>
        <right>
          <text>$(LOGO)</text>
        </right>
        <border>
          <left style="none"/>
          <top style="none"/>
          <right style="none"/>
          <bottom style="none"/>
        </border>
      </header>
      <logo height="30" src="xtk:report/neologo118x30.png" width="195"/>
      <layout footer="0" header="2"/>
      <format css="/nl/webForms/monoPageWebApp.css" defaultFontSize="8" name="web">
        <cssOverloading>div.page {
  display:block;
  width:50em;
  margin-top: 5em;
  margin-left:auto;
  margin-right:auto;
  padding: 0em 1em 1em 1em;
  border: solid #006791 1px;
}

div.header {
  height: 3em;
  vertical-align: middle;
}

div.navigation {
  height:2em;
}

div.header div.row {
  height: 3em;
  line-height: 3em;
  vertical-align: middle;
}

.pagebody {
  margin-top: 1em;
}</cssOverloading>
      </format>
      <folder _operation="none" name="xtkFormRendering"/>
    </formRendering>
    <formRendering displayNavigation="3" internalName="monoPageWebApp" label="Single-page Web application" navigationLabel="$(PAGETITLE)" preview="/nms/img/survey/theme/preview/monoPageWebApp.png">
      <logo height="30" src="xtk:report/neologo118x30.png" width="195"/>
      <layout footer="2" header="2"/>
      <format css="/nl/webForms/monoPageWebApp.css" defaultFontSize="12" name="web"/>
      <folder _operation="none" name="xtkFormRendering"/>
    </formRendering>
    <formRendering internalName="defaultFormRendering" label="Standard form" preview="/nms/img/survey/theme/preview/defaultRendering.png">
      <header hideIfDashboard="true" id="1">
        <font style="normal"/>
        <left>
          <text>$(PAGETITLE)</text>
        </left>
        <right>
          <text>&lt;% if(serverForm.activities[String(ctx.activityHistory.activity[0].@name)].type != "end") { %&gt; $(PAGE) / $(PAGES) &lt;% }%&gt;</text>
        </right>
      </header>
      <header hideIfDashboard="true" id="2">
        <font style="normal"/>
        <right>
          <text>$(LOGO)</text>
        </right>
      </header>
      <logo height="30" src="xtk:report/neologo118x30.png" width="195"/>
      <layout footer="2" header="2"/>
      <format defaultFontSize="8" name="web"/>
      <folder _operation="none" name="xtkFormRendering"/>
    </formRendering>
    <formRendering displayNavigation="3" internalName="defaultReportRendering" label="Standard report" navigationLabel="$(PAGETITLE)" pageBorder="1" preview="/xtk/img/report/defaultReportRendering.png" type="1">
      <header hideIfDashboard="false" hideIfDecorated="true" hideIfNoDecorated="true" id="12814758100" position="1">
        <font size="0"/>
        <left>
          <text>$(PAGETITLE)</text>
        </left>
        <right>
          <text>$(LOGO)</text>
        </right>
      </header>
      <header hideIfDecorated="false" hideIfNoDecorated="false" id="12827460010">
        <font size="0" style="normal"/>
        <left>
          <text>&lt;img height="48" width="48" style="vertical-align:middle"  src="/xtk/img/report/report.png"/&gt;$(PAGETITLE)</text>
        </left>
      </header>
      <footer id="12814758571">
        <font style="italic"/>
        <right>
          <text>Calculated: $(DATE) $(TIME) &lt;%= ctx.timezone.@changed == "true" ? " (" + ctx.timezone.@current + ")": "" %&gt;</text>
        </right>
      </footer>
      <logo height="30" src="xtk:report/neologo118x30.png" width="195"/>
      <layout footer="2" header="2"/>
      <format css="/nl/core/report.css" name="web"/>
      <format name="pdf">
        <cssOverloading>&lt;styles&gt;
          &lt;style name="simple.header" fillColor="#eeeeee" verticalAlignment="middle"&gt;
            &lt;font color="#777777" style="bold"/&gt;
            &lt;border&gt;
              &lt;borderBottom value="solid 0.5pt #999999" /&gt;
            &lt;/border&gt;
          &lt;/style&gt;
          &lt;style name="page.header.left"&gt;
            &lt;font style="bold" color="#4E6174" size="15"/&gt;
          &lt;/style&gt;
          &lt;style name="list.header"&gt;
            &lt;font style="bold"/&gt;
            &lt;border&gt;
              &lt;borderBottom value="solid 0.5pt #999999" /&gt;
            &lt;/border&gt;
          &lt;/style&gt;

          &lt;style name="odd" fillColor="#fdfdfd"/&gt;
          &lt;style name="even" fillColor="#f7f8fa"/&gt;

          &lt;style name="legend.top" fillColor="#ACC1DA" verticalAlignment="middle"&gt;
            &lt;font style="bold" color="555555"/&gt;
          &lt;/style&gt;
        &lt;/styles&gt;</cssOverloading>
      </format>
      <format name="excel">
        <cssOverloading>&lt;styles&gt;
          &lt;style name="simple.header" fillColor="#eeeeee" verticalAlignment="middle"&gt;
            &lt;font color="#777777" style="bold"/&gt;
            &lt;border&gt;
              &lt;borderBottom value="solid 0.5pt #999999" /&gt;
            &lt;/border&gt;
          &lt;/style&gt;
          &lt;style name="page.header.left"&gt;
            &lt;font style="bold" color="#4E6174" size="15"/&gt;
          &lt;/style&gt;
          &lt;style name="list.header"&gt;
            &lt;font style="bold"/&gt;
            &lt;border&gt;
              &lt;borderBottom value="solid 0.5pt #999999" /&gt;
            &lt;/border&gt;
          &lt;/style&gt;

          &lt;style name="odd" fillColor="#fdfdfd"/&gt;
          &lt;style name="even" fillColor="#f7f8fa"/&gt;

          &lt;style name="legend.top" fillColor="#ACC1DA" verticalAlignment="middle"&gt;
            &lt;font style="bold" color="555555"/&gt;
          &lt;/style&gt;
        &lt;/styles&gt;</cssOverloading>
      </format>
      <folder _operation="none" name="xtkFormRendering"/>
    </formRendering>
  </entities>
  <entities schema="xtk:group">
    <group label="Administrator" name="admin" type="0">
      <folder _operation="none" name="xtkOperator"/>
    </group>
    <group label="Interaction account" name="interaction" type="0">
      <folder _operation="none" name="xtkOperator"/>
    </group>
    <group label="Internal agent" name="neolane" type="0">
      <desc>Agent used for internal application processes.</desc>
      <folder _operation="none" name="xtkOperator"/>
    </group>
    <group label="Web applications agent" name="webapp" type="0">
      <folder _operation="none" name="xtkOperator"/>
    </group>
    <group label="Billing" name="billing" type="0">
      <folder _operation="none" name="xtkOperator"/>
    </group>
    <group label="Monitoring" name="monitoring" type="0">
      <folder _operation="none" name="xtkOperator"/>
    </group>
    <group label="Offer managers" name="offer" type="1">
      <desc>Safety group containing the offer managers</desc>
      <folder _operation="none" name="xtkGroup"/>
      <operatorGroup>
        <group _operation="none" name="offer" type="1"/>
        <operator _operation="none" name="folderInsert" type="2"/>
      </operatorGroup>
      <operatorGroup>
        <group _operation="none" name="offer" type="1"/>
        <operator _operation="none" name="folderEdit" type="2"/>
      </operatorGroup>
    </group>
    <group label="Workflow execution" name="workflow" type="1">
      <desc>Security group enabling workflow execution control and workflow task approval</desc>
      <folder _operation="none" name="xtkGroup"/>
      <operatorGroup>
        <group _operation="none" name="workflow" type="1"/>
        <operator _operation="none" name="workflow" type="2"/>
      </operatorGroup>
    </group>
    <group label="Access to reports" name="report" type="1">
      <desc>Security group used to access delivery reports (from the Web access .../nl/jsp/logon.jsp)</desc>
      <folder _operation="none" name="xtkGroup"/>
    </group>
    <group label="Delivery operators" name="delivery" type="1">
      <desc>Security group containing delivery operators</desc>
      <folder _operation="none" name="xtkGroup"/>
      <operatorGroup>
        <group _operation="none" name="delivery" type="1"/>
        <operator _operation="none" name="deliveryPrepare" type="2"/>
      </operatorGroup>
      <operatorGroup>
        <group _operation="none" name="delivery" type="1"/>
        <operator _operation="none" name="deliveryValidate" type="2"/>
      </operatorGroup>
    </group>
    <group label="Workflow supervisors" name="workflowSupervisor" type="1">
      <desc>Security group that enables workflow supervision in case of error</desc>
      <folder _operation="none" name="xtkGroup"/>
    </group>
    <group label="Administrator" name="admin" type="1">
      <desc>Security group containing the administrators</desc>
      <folder _operation="none" name="xtkGroup"/>
      <operatorGroup>
        <group _operation="none" name="admin" type="1"/>
        <operator _operation="none" name="admin" type="2"/>
      </operatorGroup>
      <operatorGroup>
        <group _operation="none" name="admin" type="1"/>
        <operator _operation="none" name="admin" type="0"/>
      </operatorGroup>
    </group>
    <group label="WORKFLOW" name="workflow" type="2">
      <desc>Right to use workflows</desc>
      <folder _operation="none" name="xtkNamedRight"/>
    </group>
    <group label="START DELIVERIES" name="deliveryValidate" type="2">
      <desc>Right to approve deliveries previously analyzed</desc>
      <folder _operation="none" name="xtkNamedRight"/>
    </group>
    <group label="PREPARE DELIVERIES" name="deliveryPrepare" type="2">
      <desc>Right to create, edit and start delivery analysis</desc>
      <folder _operation="none" name="xtkNamedRight"/>
    </group>
    <group label="MERGE" name="fusion" type="2">
      <desc>Right to merge records</desc>
      <folder _operation="none" name="xtkNamedRight"/>
    </group>
    <group label="FILE ACCESS" name="fileAccess" type="2">
      <desc>Right to access files in read and write mode from a script</desc>
      <folder _operation="none" name="xtkNamedRight"/>
    </group>
    <group label="PROGRAM EXECUTION" name="createProcess" type="2">
      <desc>Right to execute external programs</desc>
      <folder _operation="none" name="xtkNamedRight"/>
    </group>
    <group label="SQL SCRIPT EXECUTION" name="sql" type="2">
      <desc>Right to execute SQL scripts on the database</desc>
      <folder _operation="none" name="xtkNamedRight"/>
    </group>
    <group label="EXPORT" name="export" type="2">
      <desc>Right to export data</desc>
      <folder _operation="none" name="xtkNamedRight"/>
    </group>
    <group label="RECIPIENT IMPORT" name="recipientImport" type="2">
      <desc>Recipient import right</desc>
      <folder _operation="none" name="xtkNamedRight"/>
    </group>
    <group label="IMPORT" name="import" type="2">
      <desc>Right to import data</desc>
      <folder _operation="none" name="xtkNamedRight"/>
    </group>
    <group label="EDIT FOLDERS" name="folderEdit" type="2">
      <desc>Right to edit folders</desc>
      <folder _operation="none" name="xtkNamedRight"/>
    </group>
    <group label="DELETE FOLDER" name="folderDelete" type="2">
      <desc>Right to delete folders</desc>
      <folder _operation="none" name="xtkNamedRight"/>
    </group>
    <group label="INSERT FOLDERS" name="folderInsert" type="2">
      <desc>Right to insert data</desc>
      <folder _operation="none" name="xtkNamedRight"/>
    </group>
    <group label="ADMINISTRATION" name="admin" type="2">
      <desc>Administration right</desc>
      <folder _operation="none" name="xtkNamedRight"/>
      <operatorGroup>
        <group _operation="none" name="admin" type="2"/>
        <operator _operation="none" name="webapp" type="0"/>
      </operatorGroup>
      <operatorGroup>
        <group _operation="none" name="admin" type="2"/>
        <operator _operation="none" name="neolane" type="0"/>
      </operatorGroup>
      <operatorGroup>
        <group _operation="none" name="admin" type="2"/>
        <operator _operation="none" name="interaction" type="0"/>
      </operatorGroup>
    </group>
  </entities>
  <entities schema="xtk:job">
    <job builtIn="1" editForm="xtk:import" form="xtk:dataTransfer" img="xtk:import.png" internalName="newImport" isModel="1" jobType="import" label="New text import" outOfProcess="1" xtkschema="xtk:dataTransfer">
      <desc>Template used to start a new import from scratch</desc>
      <folder _operation="none" name="xtkJobModel"/>
      <folderProcess _operation="none" name="xtkJob"/>
    </job>
    <job builtIn="1" editForm="xtk:export" form="xtk:dataTransfer" img="xtk:export.png" internalName="newExport" isModel="1" jobType="export" label="New text export" outOfProcess="true" xtkschema="xtk:dataTransfer">
      <desc>Template used to start a new export from scratch</desc>
      <folder _operation="none" name="xtkJobModel"/>
      <folderProcess _operation="none" name="xtkJob"/>
    </job>
    <job builtIn="1" editForm="xtk:import" form="xtk:dataTransfer" img="xtk:import.png" internalName="blacklistImport" isModel="1" jobType="import" label="Import blacklist" outOfProcess="1" xtkschema="xtk:dataTransfer">
      <desc>Template to import a list of email addresses to be used as a blacklist so that no emails are sent to these addresses. 
To use this template, the source file must be a text file comprised of one single column: the email address.</desc>
      <folder _operation="none" name="xtkJobModel"/>
      <folderProcess _operation="none" name="xtkJob"/>
    </job>
  </entities>
  <entities schema="xtk:olapCube">
    <olapCube label="Recipients" name="recipient">
      <fact schema="nms:recipient">
        <where filteringSchema="nms:recipient"/>
      </fact>
      <folder _operation="none" name="xtkOlapCube"/>
      <dimension label="Email domain" name="emailDomain">
        <level expr="@domain" exprType="string" label="Email domain" name="emailDomain">
          <binning enable="true">
            <class condition="$value IN ('hotmail.com')" id="12985613150" label="Hotmail" name="hotmail">
              <value value="'hotmail.com'"/>
            </class>
            <class condition="$value IN ('yahoo.com')" id="12985613151" label="Yahoo" name="yahoo">
              <value value="'yahoo.com'"/>
            </class>
            <class condition="$value IN ('aol.com')" id="12985613152" label="AOL" name="aol">
              <value value="'aol.com'"/>
            </class>
            <class condition="$value IN ('gmail.com')" id="12985613153" label="Gmail" name="gmail">
              <value value="'gmail.com'"/>
            </class>
            <class condition="$value IN ('msn.com')" id="12985613154" label="MSN" name="msn">
              <value value="'msn.com'"/>
            </class>
          </binning>
        </level>
        <cube _operation="none" name="recipient"/>
      </dimension>
      <dimension label="Age" name="age">
        <level expr="@age" exprType="long" label="Age" name="age"/>
        <cube _operation="none" name="recipient"/>
      </dimension>
      <dimension label="Creation date" name="creationDate">
        <level expr="ToDate(YearAndMonth(SubMonths(@created, ToInteger(Month(@created)-1))))" exprType="date" label="Year" name="year" viewType="year"/>
        <level expr="ToDate(TruncQuarter(@created))" exprType="date" label="Quarter" name="quarter" viewType="quarter"/>
        <level expr="ToDate(YearAndMonth(@created))" exprType="date" label="Month" name="month" viewType="month"/>
        <level expr="ToDate(DateOnly(@created))" exprType="date" label="Day" name="day" viewType="day"/>
        <cube _operation="none" name="recipient"/>
      </dimension>
      <dimension label="Gender" name="gender">
        <level expr="@gender" exprSysEnum="nms:recipient:gender" exprType="byte" label="Gender" name="gender"/>
        <cube _operation="none" name="recipient"/>
      </dimension>
      <dimension label="Status" name="status">
        <level expr="@status" exprSysEnum="nms:recipient:status" exprType="byte" label="Status" name="status"/>
        <cube _operation="none" name="recipient"/>
      </dimension>
      <dimension label="Country" name="country">
        <level expr="country" exprType="link" label="Country" name="country"/>
        <cube _operation="none" name="recipient"/>
      </dimension>
      <measure label="Count" name="count">
        <filter schema="nms:recipient">
          <where filteringSchema=""/>
        </filter>
        <cube _operation="none" name="recipient"/>
      </measure>
    </olapCube>
    <olapCube label="Delivery and tracking statistics" name="deliveryLogStats">
      <fact schema="nms:deliveryLogStats">
        <where filteringSchema="nms:deliveryLogStats"/>
      </fact>
      <folder _operation="none" name="xtkOlapCube"/>
      <dimension label="Delivery" name="delivery">
        <level expr="[delivery]" exprType="link" label="Delivery" name="delivery"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </dimension>
      <dimension label="Email domain" name="domain">
        <level expr="@domain" exprType="string" label="Email domain" name="domain">
          <binning dynamic="1" enable="true" enum-cs="Domains(domain)">
            <enum _operation="none" name="domain"/>
          </binning>
        </level>
        <cube _operation="none" name="deliveryLogStats"/>
      </dimension>
      <measure label="Soft bounces" name="softBounce">
        <computed computed="1" formula="@unreachable + @mailBoxFull + @invalidDomain + @disabled + @notConnected + @refused"/>
        <cube _operation="none" name="deliveryLogStats"/>
        <filter>
          <where filteringSchema=""/>
        </filter>
      </measure>
      <measure label="Hard bounces" name="hardBounce">
        <computed computed="1" formula="@unknownUser"/>
        <cube _operation="none" name="deliveryLogStats"/>
        <filter>
          <where filteringSchema=""/>
        </filter>
      </measure>
      <measure label="Number of messages processed" name="processed">
        <computed computed="1" formula="@prepared + @error + @success"/>
        <cube _operation="none" name="deliveryLogStats"/>
        <filter>
          <where filteringSchema=""/>
        </filter>
      </measure>
      <measure label="Complaints" name="screamers">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@screamers" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Distinct web pages" name="webPage">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@webPage" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Transaction" name="transaction">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@transaction" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Web pages" name="totalWebPage">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@totalWebPage" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Opens" name="totalRecipientOpen">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@totalRecipientOpen" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Clicks" name="totalRecipientClick">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@totalRecipientClick" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Distinct Opens" name="recipientOpen">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@recipientOpen" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Distinct clicks" name="recipientClick">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@recipientClick" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Clicks by distinct people" name="personClick">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@personClick" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Unsubscriptions" name="optOut">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@optOut" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Messages opened" name="opened">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@opened" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Mirror pages" name="mirrorPage">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@mirrorPage" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Clicks" name="clicked">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@clicked" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Item" name="article">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@article" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Amount" name="amount">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@amount" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Deliveries excl. seed addresses" name="successWithoutSeeds">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@successWithoutSeeds" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Pending" name="waiting">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@waiting" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Unreachable" name="unreachable">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@unreachable" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="User unknown" name="unknownUser">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@unknownUser" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Sent" name="success">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@success" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Number of messages sent" name="sent">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@sent" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Refused" name="refused">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@refused" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Quarantine" name="quarantine">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@quarantine" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Prepared" name="prepared">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@prepared" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Not connected" name="notConnected">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@notConnected" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Number of messages to send" name="messages">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@messages" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Mailbox full" name="mailBoxFull">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@mailBoxFull" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Invalid domain" name="invalidDomain">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@invalidDomain" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Errors" name="error">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@error" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Account disabled" name="disabled">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@disabled" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
      <measure label="Canceled" name="cancelled">
        <filter schema="nms:deliveryLogStats">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@cancelled" operator="3"/>
        <cube _operation="none" name="deliveryLogStats"/>
      </measure>
    </olapCube>
    <olapCube label="Consolidated tracking" name="trackingStats">
      <fact schema="nms:trackingStats">
        <where filteringSchema="nms:trackingStats">
          <condition boolOperator="AND" expr="@id &lt;> 0" internalId="1313656119"/>
        </where>
      </fact>
      <folder _operation="none" name="xtkOlapCube"/>
      <dimension label="Start date" name="date">
        <level expr="WeekDay(@startDate)" exprType="date" label="Day" name="day" viewType="day"/>
        <level expr="TruncTime(@startDate, 3600)" exprType="datetime" label="Time" name="hour"/>
        <level expr="TruncTime(@startDate, 1800)" exprType="datetime" label="Half-hour" name="halfhour"/>
        <cube _operation="none" name="trackingStats"/>
      </dimension>
      <dimension label="Deliveries" name="delivery">
        <level expr="[delivery]" exprType="link" label="Deliveries" name="delivery"/>
        <cube _operation="none" name="trackingStats"/>
      </dimension>
      <measure label="Transactions" name="transactions">
        <filter schema="nms:trackingStats">
          <where filteringSchema="">
            <condition expr="[url/@type] = 5" internalId="1313655169"/>
          </where>
        </filter>
        <formula leftValue="@totalClicks" operator="3"/>
        <cube _operation="none" name="trackingStats"/>
      </measure>
      <measure label="Opens" name="opens">
        <filter schema="nms:trackingStats">
          <where filteringSchema="">
            <condition expr="[@url-id] = 1" internalId="1313655169"/>
          </where>
        </filter>
        <formula leftValue="@totalClicks" operator="3"/>
        <cube _operation="none" name="trackingStats"/>
      </measure>
      <measure label="Clicks" name="clics">
        <filter schema="nms:trackingStats">
          <where filteringSchema="">
            <condition expr="[url/@type] = 1" internalId="1313655169"/>
          </where>
        </filter>
        <formula leftValue="@totalClicks" operator="3"/>
        <cube _operation="none" name="trackingStats"/>
      </measure>
    </olapCube>
    <olapCube label="Tracking logs" name="trackinglogrcp">
      <fact schema="nms:trackingLogRcp">
        <where filteringSchema="nms:trackingLogRcp">
          <condition expr="[broadLog/@seedMember] = 0" internalId="1309784139"/>
        </where>
      </fact>
      <folder _operation="none" name="xtkOlapCube"/>
      <dimension label="Deliveries" name="delivery">
        <level expr="delivery" exprType="link" label="Deliveries" name="delivery"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </dimension>
      <dimension label="Email domain" name="domain">
        <level expr="[broadLog/@domain]" exprType="string" label="Email domain" name="domain">
          <binning dynamic="1" enable="true" enum-cs="Domains(domain)">
            <enum _operation="none" name="domain"/>
          </binning>
        </level>
        <cube _operation="none" name="trackinglogrcp"/>
      </dimension>
      <dimension label="Date" name="date">
        <level expr="ToDate(TruncYear(@logDate))" exprType="date" label="Year" name="year" viewType="year"/>
        <level expr="ToDate(YearAndMonth(@logDate))" exprType="date" label="Month" name="month" viewType="month"/>
        <level expr="ToDate(DateOnly(@logDate))" exprType="date" label="Day" name="day" viewType="day"/>
        <level expr="TruncDate(@logDate, 3600)" exprType="date" label="Time" name="hour" viewType="hour"/>
        <level expr="@logDate" exprType="datetime" label="Exact date" name="time"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </dimension>
      <dimension label="Device" name="device">
        <level expr="[userAgent/@isMobile]" exprDateType="year" exprType="string" label="Mobile device" name="isMobile">
          <binning enable="false">
            <class condition="$value IN ('false')" id="13257618710" label="'false'" name="CL1">
              <value value="false"/>
            </class>
            <class condition="$value IN ('true')" id="13257618711" label="'true'" name="CL2">
              <value value="true"/>
            </class>
          </binning>
        </level>
        <level expr="[userAgent/@device]" exprDateType="year" exprType="string" label="Device" name="device"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </dimension>
      <dimension label="Browser" name="browser">
        <level expr="[userAgent/@browserName]" exprType="string" label="Browser" name="browser"/>
        <level expr="[userAgent/@browserVersion]" exprType="string" label="Browser version" name="version"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </dimension>
      <dimension label="OS" name="os">
        <level expr="[userAgent/@OSFamilly]" exprType="string" label="Operating system family" name="family"/>
        <level expr="[userAgent/@OSName]" exprType="string" label="Operating system" name="os"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </dimension>
      <dimension label="Web application" name="webapp">
        <level expr="[url/webApp]" exprType="link" label="Web application" name="webapp"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </dimension>
      <dimension label="Target action" name="goal">
        <level expr="[url/@goal]" exprType="string" label="Target action" name="goal"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </dimension>
      <dimension label="Stage" name="step">
        <level expr="[url/@step]" exprType="byte" label="Stage" name="step"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </dimension>
      <measure label="Unique visitors" name="distinctVisitors">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="[@recipient-id]" operator="2"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Total number of clicks" name="totalClicks">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="@id"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Distinct web pages" name="webPage">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema="">
            <condition boolOperator="OR" expr="[url/@type] = 4" internalId="1288960753"/>
            <condition expr="[url/@type] = 5" internalId="1288960770"/>
          </where>
        </filter>
        <formula leftValue="[@url-id]" operator="2"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Transaction" name="transaction">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema="">
            <condition expr="[url/@type] = 5" internalId="1290511190"/>
          </where>
        </filter>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Web pages" name="totalWebPage">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema="">
            <condition boolOperator="OR" expr="[url/@type] = 4" internalId="1288960859"/>
            <condition expr="[url/@type] = 5" internalId="1288960870"/>
          </where>
        </filter>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Opens" name="totalRecipientOpen">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema="">
            <condition expr="[@url-id] = 1" internalId="1288969714"/>
          </where>
        </filter>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Total number of recipients who clicked" name="totalRecipientClick">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema="">
            <condition expr="[url/@type] = 1" internalId="1288955107"/>
          </where>
        </filter>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Distinct Opens" name="recipientOpen">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema=""/>
        </filter>
        <formula leftValue="[@broadLog-id]" operator="2"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Recipients who clicked" name="recipientClick">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema="">
            <condition expr="[url/@type] = 1" internalId="1288961988"/>
          </where>
        </filter>
        <formula leftValue="[@broadLog-id]" operator="2"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="People who clicked" name="personClick">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema="">
            <condition expr="[url/@type] = 1" internalId="1288969826"/>
          </where>
        </filter>
        <formula leftValue="@sourceId" operator="2"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Unsubscriptions" name="optOut">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema="">
            <condition expr="[url/@type] = 3" internalId="1288955211"/>
          </where>
        </filter>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Messages opened" name="opened">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema="">
            <condition expr="[@url-id] = 1" internalId="1288969714"/>
          </where>
        </filter>
        <formula leftValue="[@broadLog-id]" operator="2"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Mirror pages" name="mirrorPage">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema="">
            <condition expr="[url/@type] = 6" internalId="1288955154"/>
          </where>
        </filter>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Messages with clicks" name="clicked">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema="">
            <condition expr="[@url-id] &lt;> 1" internalId="1587152477"/>
          </where>
        </filter>
        <formula leftValue="[@broadLog-id]" operator="2"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Item" name="article">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema="">
            <condition expr="[url/@type] = 5" internalId="1290511052"/>
          </where>
        </filter>
        <formula leftValue="[webTrackingLog/@article]" operator="3"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
      <measure label="Amount" name="amount">
        <filter schema="nms:trackingLogRcp">
          <where filteringSchema="">
            <condition expr="[url/@type] = 5" internalId="1290511138"/>
          </where>
        </filter>
        <formula leftValue="[webTrackingLog/@amount]" operator="3"/>
        <cube _operation="none" name="trackinglogrcp"/>
      </measure>
    </olapCube>
  </entities>
  <entities schema="xtk:operator">
    <operator label="ADMINISTRATION" name="admin" securityZone="" timezone="" type="2">
      <desc>Administration right</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
      <operatorGroup>
        <group _operation="none" name="admin" type="1"/>
        <operator _operation="none" name="admin" type="2"/>
      </operatorGroup>
    </operator>
    <operator label="INSERT FOLDERS" name="folderInsert" securityZone="" timezone="" type="2">
      <desc>Right to insert data</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
      <operatorGroup>
        <group _operation="none" name="offer" type="1"/>
        <operator _operation="none" name="folderInsert" type="2"/>
      </operatorGroup>
    </operator>
    <operator label="DELETE FOLDER" name="folderDelete" securityZone="" timezone="" type="2">
      <desc>Right to delete folders</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
    </operator>
    <operator label="EDIT FOLDERS" name="folderEdit" securityZone="" timezone="" type="2">
      <desc>Right to edit folders</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
      <operatorGroup>
        <group _operation="none" name="offer" type="1"/>
        <operator _operation="none" name="folderEdit" type="2"/>
      </operatorGroup>
    </operator>
    <operator label="IMPORT" name="import" securityZone="" timezone="" type="2">
      <desc>Right to import data</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
    </operator>
    <operator label="RECIPIENT IMPORT" name="recipientImport" securityZone="" timezone="" type="2">
      <desc>Recipient import right</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
    </operator>
    <operator label="EXPORT" name="export" securityZone="" timezone="" type="2">
      <desc>Right to export data</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
    </operator>
    <operator label="SQL SCRIPT EXECUTION" name="sql" securityZone="" timezone="" type="2">
      <desc>Right to execute SQL scripts on the database</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
    </operator>
    <operator label="PROGRAM EXECUTION" name="createProcess" securityZone="" timezone="" type="2">
      <desc>Right to execute external programs</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
    </operator>
    <operator label="FILE ACCESS" name="fileAccess" securityZone="" timezone="" type="2">
      <desc>Right to access files in read and write mode from a script</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
    </operator>
    <operator label="MERGE" name="fusion" securityZone="" timezone="" type="2">
      <desc>Right to merge records</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
    </operator>
    <operator label="PREPARE DELIVERIES" name="deliveryPrepare" securityZone="" timezone="" type="2">
      <desc>Right to create, edit and start delivery analysis</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
      <operatorGroup>
        <group _operation="none" name="delivery" type="1"/>
        <operator _operation="none" name="deliveryPrepare" type="2"/>
      </operatorGroup>
    </operator>
    <operator label="START DELIVERIES" name="deliveryValidate" securityZone="" timezone="" type="2">
      <desc>Right to approve deliveries previously analyzed</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
      <operatorGroup>
        <group _operation="none" name="delivery" type="1"/>
        <operator _operation="none" name="deliveryValidate" type="2"/>
      </operatorGroup>
    </operator>
    <operator label="WORKFLOW" name="workflow" securityZone="" timezone="" type="2">
      <desc>Right to use workflows</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkNamedRight"/>
      <operatorGroup>
        <group _operation="none" name="workflow" type="1"/>
        <operator _operation="none" name="workflow" type="2"/>
      </operatorGroup>
    </operator>
    <operator label="Administrator" name="admin" securityZone="" timezone="" type="1">
      <desc>Security group containing the administrators</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkGroup"/>
    </operator>
    <operator label="Workflow supervisors" name="workflowSupervisor" securityZone="" timezone="" type="1">
      <desc>Security group that enables workflow supervision in case of error</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkGroup"/>
    </operator>
    <operator label="Delivery operators" name="delivery" securityZone="" timezone="" type="1">
      <desc>Security group containing delivery operators</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkGroup"/>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkFormRendering"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkReport"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="xtkReportModel"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsExtAccount"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="xtkUserDictionary"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkSystemDictionary"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsTypologyMgt"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsTypologyRule"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsTypology"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsDeliveryMapping"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="micrositeTracker"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsResources"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsModels"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsDeliveryModel"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="xtkWorkflowModel"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="xtkJobModel"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsWebAppModel"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsCampaignRes"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsIncludeView"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsSeedList"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsOnlineRes"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsWebApp"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="xtkFileRes"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsWebTracking"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsProfil"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsRootRecipient"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write">
        <folder _operation="none" name="nmsGroup"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsSegment"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsSetOfServices"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsProfilProcess"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="xtkWorkflow"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="xtkJob"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="0" rights="read|write|delete">
        <folder _operation="none" name="nmsCampaignMgt"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsRootDelivery"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsRecycledDelivery"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsVisitor"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsOfferMgtProd"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="liveRcp"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsOfferSpacePreProd"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="categoryRootRcp"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsDigitalContentModel"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsOfferSpacePreProd_liveRcp"/>
        <operator _operation="none" name="delivery" type="1"/>
      </rights>
    </operator>
    <operator label="Access to reports" name="report" securityZone="" timezone="" type="1">
      <desc>Security group used to access delivery reports (from the Web access .../nl/jsp/logon.jsp)</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkGroup"/>
      <rights inherit="0" propagate="0" rights="read">
        <folder _operation="none" name="nmsCampaignMgt"/>
        <operator _operation="none" name="report" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsRootDelivery"/>
        <operator _operation="none" name="report" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsRecycledDelivery"/>
        <operator _operation="none" name="report" type="1"/>
      </rights>
    </operator>
    <operator label="Workflow execution" name="workflow" securityZone="" timezone="" type="1">
      <desc>Security group enabling workflow execution control and workflow task approval</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkGroup"/>
      <rights inherit="0" propagate="1" rights="read|write">
        <folder _operation="none" name="xtkWorkflowTask"/>
        <operator _operation="none" name="workflow" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkWorkflowModel"/>
        <operator _operation="none" name="workflow" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkWorkflow"/>
        <operator _operation="none" name="workflow" type="1"/>
      </rights>
    </operator>
    <operator label="Offer managers" name="offer" securityZone="" timezone="" type="1">
      <desc>Safety group containing the offer managers</desc>
      <access authenticationType=""/>
      <folder _operation="none" name="xtkGroup"/>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkOperator"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="xtkGroup"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsDeliveryMapping"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="xtkFileRes"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsRootRecipient"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsOfferModel"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsOfferMgt"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="0" propagate="1" rights="read">
        <folder _operation="none" name="nmsOfferMgtProd"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="liveRcp"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="designRcp"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsOfferAdmin_designRcp"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="nmsOfferSpacePreProd"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read|write|delete">
        <folder _operation="none" name="categoryRootRcp"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsOfferAdmin_liveRcp"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
      <rights inherit="1" propagate="1" rights="read">
        <folder _operation="none" name="nmsOfferSpacePreProd_liveRcp"/>
        <operator _operation="none" name="offer" type="1"/>
      </rights>
    </operator>
    <operator label="Monitoring" name="monitoring" type="0">
      <access noConsoleCnx="true">
        <trustedIP id="1" mask="127.0.0.1/32"/>
      </access>
      <folder _operation="none" name="xtkOperator"/>
    </operator>
    <operator email="billing@neolane.net" label="Billing" name="billing" type="0">
      <access noConsoleCnx="true"/>
      <folder _operation="none" name="xtkOperator"/>
    </operator>
    <operator label="Web applications agent" name="webapp" securityZone="public" type="0">
      <access noConsoleCnx="true">
        <trustedIP id="1" mask="127.0.0.1"/>
      </access>
      <folder _operation="none" name="xtkOperator"/>
      <operatorGroup>
        <group _operation="none" name="admin" type="2"/>
        <operator _operation="none" name="webapp" type="0"/>
      </operatorGroup>
    </operator>
    <operator label="Internal agent" name="neolane" type="0">
      <access noConsoleCnx="true">
        <trustedIP id="1" mask="127.0.0.1"/>
      </access>
      <desc>Agent used for internal application processes.</desc>
      <folder _operation="none" name="xtkOperator"/>
      <operatorGroup>
        <group _operation="none" name="admin" type="2"/>
        <operator _operation="none" name="neolane" type="0"/>
      </operatorGroup>
    </operator>
    <operator label="Interaction account" name="interaction" type="0">
      <access noConsoleCnx="true">
        <trustedIP id="1" mask="127.0.0.1"/>
      </access>
      <folder _operation="none" name="xtkOperator"/>
      <operatorGroup>
        <group _operation="none" name="admin" type="2"/>
        <operator _operation="none" name="interaction" type="0"/>
      </operatorGroup>
    </operator>
    <operator label="Administrator" name="admin" type="0">
      <access password="18597:wVlvOAMVhqeE9L9QiE0q0PH/5Nbcj3L6mPuKVg1GUpY=:TGrtQ+YppoSo5cuF9nn7gg=="/>
      <folder _operation="none" name="xtkOperator"/>
      <operatorGroup>
        <group _operation="none" name="admin" type="1"/>
        <operator _operation="none" name="admin" type="0"/>
      </operatorGroup>
    </operator>
  </entities>
  <entities schema="xtk:option">
    <option name="XtkDatabaseId" stringValue="uFE800000000000000D5FC085D6FF5160000AFF3F"/>
    <option dataType="3" name="WdbcUseNChar"/>
    <option dataType="3" longValue="1" name="WdbcUseTimeStampWithTZ"/>
    <option name="WdbcTimeZone" stringValue="Australia/Canberra"/>
    <option name="XtkKey" stringValue="uZfj9E3H+kFNcNslffOAUTnT5Qf3zBGqVpX4kTmLoTw="/>
    <option name="XtkInstancePrefix">
      <desc>Prefix added to internal names generated automatically</desc>
    </option>
    <option dataType="12" name="NmsBroadcast_RegexRules">
      <desc>Regular expressions for normalizing delivery messages</desc>
      <memoValue>&lt;broadLogMsgRegex&gt;
  &lt;regex name="yahooMTA"
         match="mta[a-zA-Z0-9\.]*yahoo"
         replace="mta##yahoo"/&gt;
  &lt;regex name="googleAnswer"
         match="http://mail.google.com/support/bin/answer.py\?answer=.+"
         replace="http://mail.google.com/support/bin/answer.py?answer=#ID#"/&gt;
  &lt;regex name="googleAnswer2"
         match="http://support.google.com/mail/bin/answer.py\?answer=.+"
         replace="http://support.google.com/mail/bin/answer.py?answer=#ID#"/&gt;
  &lt;regex name="googleDisabled"
         match="that you tried to reach is disabled. [a-zA-Z0-9\.]*$"
         replace="that you tried to reach is disabled. #ID#"/&gt;
  &lt;regex name="4mailcom"
         match="http://[a-zA-Z0-9\.]*4mail.com.*$"
         replace="http://xxx.4mail.com/#PATH#"/&gt;
  &lt;regex name="refused1"
         match="Message contains spam or virus : [a-zA-Z0-9\.\:\|]*$"
         replace="Message contains spam or virus : #ID#"/&gt;
  &lt;regex name="refused2"
         match="Message contains spam or virus or sender is blocked : [a-zA-Z0-9\.\:\|]*$"
         replace="Message contains spam or virus or sender is blocked : #ID#"/&gt;
  &lt;regex name="refused3"
         match="sorry not wanted here q=.*$"
         replace="sorry not wanted here q=#ID#"/&gt;
  &lt;regex name="refused4"
         match="bulk spam refid: str=.*$"
         replace="bulk spam refid: str=#ID#"/&gt;
  &lt;regex name="refused5"
         match="Mail rejected by policy: v=.+"
         replace="Mail rejected by policy: #SCORE#"/&gt;
  &lt;regex name="errorCode"
         match="Error code: [a-zA-Z0-9\.]*$"
         replace="Error code: #ID#"/&gt;
  &lt;regex name="blackUrl"
         match="\(black url [^\)]*\)"
         replace="(black url #URL#)"/&gt;
  &lt;regex name="blackUrl2"
         match="checksum blacklist.\([^\)]*\)"
         replace="checksum blacklist.(#ID#)"/&gt;
  &lt;regex name="demonNetUrl"
         match="http://www.demon.net/[^ ]*"
         replace="http://www.demon.net/#PATH#"/&gt;
  &lt;regex name="msgId"
         match="msgid=&amp;quot;[^&amp;quot;]*"
         replace="msgid=&amp;quot;#ID#"/&gt;

  &lt;regex name="IP" match="\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}" replace="#IP#"/&gt;
  &lt;regex name="email" match="[\w\.\-]+@[\w\.\-]+\.[a-zA-Z]{2,3}" replace="#EMAIL#"/&gt;
  &lt;regex name="domain1" match=" [\w\.\-]+\.[a-zA-Z]{2,}$" replace=" #DOMAIN#"/&gt;
  &lt;regex name="domain2" match="([ &amp;lt;\('&amp;quot;:-])[\w\.\-]+\.[a-zA-Z]{2,}([ &gt;\)'&amp;quot;\[\],:\.])" replace="\1#DOMAIN#\2"/&gt;
  &lt;regex name="score1" match="([Ss]core:? )\d+\.\d+" replace="\1#NUMBER#"/&gt;
  &lt;regex name="score2" match="\d+\.\d+ spam" replace="#NUMBER# spam"/&gt;
  &lt;regex name="Yahoo_mx" match="{mx\d+}" replace="{mx###}"/&gt;
  &lt;regex name="date1" match="since:[a-zA-Z0-9 :]{21}[0-9]{4}" replace="since: #DATE#"/&gt;
  &lt;regex name="date2" match="[0-2][0-9]:[0-5][0-9]:[0-5][0-9] \d{2}[-/]\d{2}[-/]\d{4}" replace="#DATE#"/&gt;
  &lt;regex name="date3"
         match="[a-zA-Z]{3}, [0-2][0-9] [a-zA-Z]{3} \d{4} [0-2][0-9]:[0-5][0-9]:[0-5][0-9] [+-]\d{4}"
         replace="#DATE#"/&gt;
  &lt;regex name="duration" match="in \d\d:[0-5][0-9]:[0-5][0-9]" replace="in #DURATION#"/&gt;
  &lt;regex name="unit" match="\d+ (minute|second|byte)" replace="#NUMBER# \1"/&gt;
  &lt;regex name="number" match="\[-?\d+\]" replace="[#NUMBER#]"/&gt;
  &lt;regex name="id2" match="[a-zA-Z]*([0-9]+[a-zA-Z]*){5,30}" replace="#ID#"/&gt;
&lt;/broadLogMsgRegex&gt;</memoValue>
    </option>
    <option dataType="12" name="NmsTracking_UserAgentRules">
      <desc>Browser-identification rule set</desc>
      <memoValue>&lt;userAgentRules&gt;
  &lt;axis name="browser"&gt;
    &lt;!-- Browsers based on other browser must be listed first to be identified--&gt;
    &lt;!-- Mobile browsers--&gt;
    &lt;!-- rule search="opera mini" browser="Opera Mini" browserImage="operamini"  &gt;
      &lt;rule match="version(?:\/)([\d\.]+)" browserVersion="$1"/&gt;
      &lt;rule match="opera mini(?:\/)([\d\.]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="opera mobi" browser="Opera Mobile" browserImage="operamobi" &gt;
      &lt;rule match="version(?:\/)([\d\.]+)" browserVersion="$1"/&gt;
    &lt;/rule --&gt;
    &lt;rule match="blackberry([\d]+)" browser="BlackBerry" browserImage="blackBerry" /&gt;
    &lt;rule search="blazer" browser="Blazer (Mobile  browser)" browserImage="blazer" /&gt;
    &lt;rule search="bolt" browser="Bolt (Mobile browser)" browserImage="bolt" /&gt;
    &lt;rule search="series60" browser="Browser for S60 (Mobile browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="doris" browser="Doris (Mobile browser)" browserImage="doris" /&gt;
    &lt;rule search="dorothy" browser="Dorothy (Mobile browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="fennec" browser="Fennec (Mobile browser)" browserImage="fennec" /&gt;
    &lt;rule search="gobrowser" browser="Go Browser (Mobile browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="iemobile" browser="IE Mobile (Mobile browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="iris" browser="Iris (Mobile browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="mib" browser="MIB (Mobile browser)" browserImage="mib" /&gt;
    &lt;rule search="minimo" browser="Minimo (Mobile browser)" browserImage="minimo" /&gt;
    &lt;rule search="netfront" browser="NetFront (Mobile browser)" browserImage="netFront" /&gt;
    &lt;rule search="semc-browser" browser="SEMC-Browser (Mobile browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="skyfire" browser="Skyfire (Mobile browser)" browserImage="skyfire" /&gt;
    &lt;rule search="teashark" browser="TeaShark (Mobile browser)" browserImage="teashark" /&gt;
    &lt;rule search="teleca" browser="Teleca-Obigo (Mobile browser)" browserImage="undefined" /&gt;
    &lt;rule search="uzardweb  " browser="uZard Web (Mobile browser)" browserImage="uzardweb " /&gt;
    &lt;rule search="alcatel" browser="Alcatel Browser (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="lg-" browser="LG (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="lge" browser="LG (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="maemo" browser="Maemo Browser" browserImage="pdaphone" /&gt;
    &lt;rule search="mot-" browser="Motorola Browser (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="nokia" browser="Nokia Browser (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="panasonic" browser="Panasonic Browser (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="philips" browser="Philips Browser (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="sagem" browser="Sagem (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="samsung" browser="Samsung (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="sie-" browser="SIE (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="sec-" browser="Sony/Ericsson (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="sonyericsson" browser="Sony/Ericsson Browser (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="ericsson" browser="Ericsson Browser (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="mmef" browser="Microsoft Mobile Explorer (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="mspie" browser="Pocket Internet Explorer (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="wapalizer" browser="WAPalizer (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="wapsilon" browser="WAPsilon (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="webcollage" browser="WebCollage (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="up." browser="UP.Browser (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="docomo" browser="DoCoMo (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;rule search="portalmmm" browser="I-Mode phone (PDA/Phone browser)" browserImage="pdaphone" /&gt;
    &lt;!-- Browsers --&gt;
    &lt;rule search="22acidownload" browser="22AciDownload" browserImage="undefined"/&gt;
    &lt;rule search="abrowse" browser="ABrowse" browserImage="abrowse"/&gt;
    &lt;rule search="acoo" browser="Acoo Browser" browserImage="undefined"/&gt;
    &lt;rule search="america online browser" browser="America Online Browser" browserImage="aolbrowser"/&gt;
    &lt;rule search="aol-iweng" browser="AOL-Iweng" browserImage="undefined"/&gt;
    &lt;rule search="aol" browser="AOL" browserImage="aol"/&gt;
    &lt;rule search="amaya" browser="Amaya" browserImage="amaya"/&gt;
    &lt;rule search="amigavoyager" browser="AmigaVoyager" browserImage="amigavoyager"/&gt;
    &lt;rule search="arora" browser="Arora" browserImage="arora"/&gt;
    &lt;rule search="avant" browser="Avant Browser" browserImage="avantbrowser"/&gt;
    &lt;rule search="aweb" browser="AWeb" browserImage="aweb"/&gt;
    &lt;rule search="beonex" browser="Beonex" browserImage="beonex"/&gt;
    &lt;rule search="bonecho" browser="BonEcho" browserImage="undefined"/&gt;
    &lt;rule search="bpftp" browser="BPFTP" browserImage="bpftp"/&gt;
    &lt;rule search="browzar" browser="Browzar" browserImage="browzar"/&gt;
    &lt;rule search="camino" browser="Camino" browserImage="camino"&gt;
      &lt;rule match="camino(?:\/|\s)([\d\.rcu]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="charon" browser="Charon" browserImage="undefined"/&gt;
    &lt;rule search="cheshire" browser="Cheshire" browserImage="undefined"/&gt;
    &lt;rule search="chimera" browser="Chimera (Old Camino)" browserImage="chimera"/&gt;
    &lt;rule search="chrome" browser="Chrome" browserImage="chrome"&gt;
      &lt;rule match="chrome(?:\/|\s)([\d\.rc]+)" browserVersion="$1"/&gt;
      &lt;rule match="chromeplus(?:\/|\s)([\d\.rc]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="cometbird" browser="CometBird" browserImage="cometbird"/&gt;
    &lt;rule search="comodo_dragon" browser="Comodo_Dragon" browserImage="undefined"/&gt;
    &lt;rule search="conkeror" browser="Conkeror" browserImage="undefined"/&gt;
    &lt;rule search="crazy" browser="Crazy Browser" browserImage="crazybrowser"/&gt;
    &lt;rule search="cyberdog" browser="Cyberdog" browserImage="cyberdog"/&gt;
    &lt;rule search="deepnet" browser="Deepnet Explorer" browserImage="undefined"/&gt;
    &lt;rule search="deskbrowse" browser="DeskBrowse" browserImage="deskbrowse"/&gt;
    &lt;rule search="dillo" browser="Dillo" browserImage="dillo"/&gt;
    &lt;rule search="dooble" browser="Dooble" browserImage="dooble"/&gt;
    &lt;rule search="dreamcast" browser="Dreamcast" browserImage="dreamcast"/&gt;
    &lt;rule search="downloadagent" browser="DownloadAgent" browserImage="undefined"/&gt;
    &lt;rule search="ecatch" browser="eCatch" browserImage="ecatch"/&gt;
    &lt;rule search="element" browser="Element Browser" browserImage="undefined"/&gt;
    &lt;rule search="elinks" browser="Elinks" browserImage="elinks"/&gt;
    &lt;rule search="emailsiphon" browser="EmailSiphon" browserImage="undefined"/&gt;
    &lt;rule search="encompass" browser="Encompass" browserImage="encompass"/&gt;
    &lt;rule search="enigma" browser="Enigma Browser" browserImage="enigmabrowser"/&gt;
    &lt;rule search="epiphany" browser="Epiphany" browserImage="epiphany"/&gt;
    &lt;rule search="escape" browser="Escape" browserImage="undefined"/&gt;
    &lt;rule search="eudora" browser="Eudora" browserImage="undefined"&gt;
      &lt;rule match="eudora(?:\/|\s)([\d\.rcu]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="firebird" browser="Firebird (Old Firefox)" browserImage="firebird"&gt;
      &lt;rule match="firebird(?:\/|\s)([\d\.rc]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="flock" browser="Flock" browserImage="flock"/&gt;
    &lt;rule search="fluid" browser="Fluid" browserImage="fluid"/&gt;
    &lt;rule search="friendlyspider" browser="FriendlySpider" browserImage="undefined"/&gt;
    &lt;rule search="fresco" browser="ANT Fresco" browserImage="fresco"/&gt;
    &lt;rule search="galaxy" browser="Galaxy" browserImage="undefined"/&gt;
    &lt;rule search="galeon" browser="Galeon" browserImage="galeon"&gt;
      &lt;rule match="galeon(?:\/|\s)([\d\.rcu]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="getright" browser="GetRight" browserImage="getright"/&gt;
    &lt;rule search="go!zilla" browser="Go!Zilla" browserImage="gozilla"/&gt;
    &lt;rule search="granparadiso" browser="GranParadiso" browserImage="undefined"/&gt;
    &lt;rule search="greenbrowser" browser="GreenBrowser" browserImage="undefined"/&gt;
    &lt;rule search="hana" browser="Hana" browserImage="undefined"/&gt;
    &lt;rule search="headdump" browser="HeadDump" browserImage="undefined"/&gt;
    &lt;rule search="hotjava" browser="Sun HotJava" browserImage="hotjava"/&gt;
    &lt;rule search="ibrowse" browser="iBrowse" browserImage="ibrowse"/&gt;
    &lt;rule search="icab" browser="iCab" browserImage="icab"/&gt;
    &lt;rule search="iceape" browser="Iceape" browserImage="undefined"/&gt;
    &lt;rule search="icecat" browser="IceCat" browserImage="icecat"/&gt;
    &lt;rule search="iceweasel" browser="Iceweasel" browserImage="iceweasel"/&gt;
    &lt;rule search="inet" browser="iNet Browser" browserImage="undefined"&gt;
      &lt;rule match="inet(?:\s)browser(?:\s)([\d\.rcu]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="intergo" browser="InterGO" browserImage="undefined"/&gt;
    &lt;rule search="irider" browser="iRider" browserImage="irider"/&gt;
    &lt;rule search="iron" browser="Iron" browserImage="iron"/&gt;
    &lt;rule search="javaws" browser="Java Web Start" browserImage="javaws"/&gt;
    &lt;rule search="konqueror" browser="Konqueror" browserImage="konqueror"&gt;
      &lt;rule match="konqueror(?:\/|\s)([\d\.(rc)]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="k-meleon" browser="K-Meleon" browserImage="kmeleon"&gt;
      &lt;rule match="k-meleon(?:\/|\s)([\d\.rcu]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="k-ninja" browser="K-Ninja" browserImage="k-ninja"/&gt;
    &lt;rule search="kapiko" browser="Kapiko" browserImage="kapiko"/&gt;
    &lt;rule search="kazehakase" browser="Kazehakase" browserImage="kazehakase"/&gt;
    &lt;rule search="kkman" browser="KKman" browserImage="kkman"/&gt;
    &lt;rule search="kmlite" browser="KMLite" browserImage="undefined"/&gt;
    &lt;rule search="konqueror" browser="Konqueror" browserImage="konqueror"&gt;
      &lt;rule match="konqueror(?:\/|\s)([\d\.rcu]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="leechcraft" browser="LeechCraft" browserImage="undefined"/&gt;
    &lt;rule search="linemodebrowser" browser="W3C Line Mode Browser" browserImage="undefined"/&gt;
    &lt;rule search="links" browser="Links" browserImage="links"/&gt;
    &lt;rule search="lobo" browser="Lobo" browserImage="lobo"/&gt;
    &lt;rule search="lotus-notes" browser="Lotus Notes web client" browserImage="lotusnotes"&gt;
      &lt;rule match="lotus-notes(?:\/|\s)([\d\.rc]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="lolifox" browser="Lolifox" browserImage="undefined"/&gt;
    &lt;rule search="lorentz" browser="Lorentz" browserImage="undefined"/&gt;
    &lt;rule search="lunascape" browser="Lunascape" browserImage="lunascape"/&gt;
    &lt;rule search="lynx" browser="Lynx" browserImage="lynx"/&gt;
    &lt;rule search="madfox" browser="Madfox" browserImage="madfox"/&gt;
    &lt;rule search="maxthon" browser="Maxthon" browserImage="maxthon"/&gt;
    &lt;rule search="macweb" browser="MacWeb" browserImage="macweb"/&gt;
    &lt;rule search="midori" browser="Midori" browserImage="midori"/&gt;
    &lt;rule search="minefield" browser="Minefield" browserImage="minefield"/&gt;
    &lt;rule search="multizilla" browser="MultiZilla" browserImage="multizilla"/&gt;
    &lt;rule search="myibrow" browser="My Internet Browser" browserImage="undefined"/&gt;
    &lt;rule search="myie2" browser="MyIE2" browserImage="undefined"/&gt;
    &lt;rule search="namoroka" browser="Namoroka" browserImage="undefined"/&gt;
    &lt;rule search="navscape" browser="Navscape" browserImage="undefined"/&gt;
    &lt;rule search="ncsa_mosaic" browser="NCSA Mosaic" browserImage="ncsa_mosaic"/&gt;
    &lt;rule search="netcaptor" browser="NetCaptor" browserImage="undefined"/&gt;
    &lt;rule search="netpositive" browser="NetPositive" browserImage="netpositive"/&gt;
    &lt;rule search="netsurf" browser="NetSurf" browserImage="netsurf"/&gt;
    &lt;rule search="nutscrape" browser="Nutscrape" browserImage="undefined"/&gt;
    &lt;rule search="msfrontpageexpress" browser="MS FrontPage Express" browserImage="fpexpress"/&gt;
    &lt;rule search="omniweb" browser="OmniWeb" browserImage="omniweb"/&gt;
    &lt;rule search="orca" browser="Orca" browserImage="orca"/&gt;
    &lt;rule search="oregano" browser="Oregano" browserImage="oregano"/&gt;
    &lt;rule search="osb-browser" browser="osb-browser" browserImage="undefined"/&gt;
    &lt;rule search="palemoon" browser="Palemoon" browserImage="undefined"/&gt;
    &lt;rule search="phoenix" browser="Phoenix" browserImage="phoenix"/&gt;
    &lt;rule search="pogo" browser="Pogo" browserImage="undefined"/&gt;
    &lt;rule search="prism" browser="Prism" browserImage="prism"/&gt;
    &lt;rule search="qtweb" browser="QtWeb Internet Browser" browserImage="undefined"/&gt;
    &lt;rule search="rekonq" browser="Rekonq" browserImage="rekonq"/&gt;
    &lt;rule search="retawq" browser="Retawq" browserImage="undefined"/&gt;
    &lt;rule search="rockmelt" browser="RockMelt" browserImage="undefined"/&gt;
    &lt;rule search="seamonkey" browser="SeaMonkey" browserImage="seamonkey"/&gt;
    &lt;rule search="shiira" browser="Shiira" browserImage="shiira"/&gt;
    &lt;rule search="shiretoko" browser="Shiretoko" browserImage="undefined"/&gt;
    &lt;rule search="sleipnir" browser="Sleipnir" browserImage="undefined"/&gt;
    &lt;rule search="slimbrowser" browser="SlimBrowser" browserImage="slimbrowser"/&gt;
    &lt;rule search="stainless" browser="Stainless" browserImage="stainless"/&gt;
    &lt;rule search="sunrise" browser="Sunrise" browserImage="sunrise"/&gt;
    &lt;rule search="surf" browser="surf" browserImage="undefined"/&gt;
    &lt;rule search="sylera" browser="Sylera" browserImage="undefined"/&gt;
    &lt;rule search="teleport" browser="TelePort Pro" browserImage="teleport"/&gt;
    &lt;rule search="tencent" browser="Tencent Traveler" browserImage="undefined"/&gt;
    &lt;rule search="theworld" browser="theWorld Browser" browserImage="undefined"/&gt;
    &lt;rule search="tzgeturl" browser="TzGetURL" browserImage="undefined"/&gt;
    &lt;rule search="uzbl" browser="uzbl" browserImage="uzbl"/&gt;
    &lt;rule search="vimprobable" browser="Vimprobable" browserImage="undefined"/&gt;
    &lt;rule search="viking" browser="Viking" browserImage="undefined"/&gt;
    &lt;rule search="vonkeror" browser="Vonkeror" browserImage="undefined"/&gt;
    &lt;rule search="w3m" browser="w3m" browserImage="w3m"/&gt;
    &lt;rule search="webcapture" browser="Acrobat" browserImage="adobe"/&gt;
    &lt;rule search="webcopier" browser="WebCopier" browserImage="webcopier"/&gt;
    &lt;rule search="webfetcher" browser="WebFetcher" browserImage="undefined"/&gt;
    &lt;rule search="webexplorer" browser="IBM-WebExplorer" browserImage="undefined"/&gt;
    &lt;rule search="webmirror" browser="WebMirror" browserImage="undefined"/&gt;
    &lt;rule search="webvcr" browser="WebVCR" browserImage="undefined"/&gt;
    &lt;rule search="weltweitimnetzbrowser" browser="WeltweitimnetzBrowser" browserImage="undefined"/&gt;
    &lt;rule search="wyzo" browser="Wyzo" browserImage="wyzo"/&gt;
    &lt;!--E-mail client--&gt;
    &lt;rule search="thunderbird" browser="Mozilla" browserImage="mozilla"&gt;
      &lt;rule match="thunderbird(?:\/|\s)([\d\.rc]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;!--Media players--&gt;
    &lt;rule search="real" browser="Real player or compatible (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="winamp" browser="WinAmp (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="windows-media-player" browser="Windows Media Player (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="audion" browser="Audion (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="freeamp" browser="FreeAmp (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="itunes" browser="Apple iTunes (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="jetaudio" browser="JetAudio (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="mint_audio" browser="Mint Audio (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="mpg123" browser="mpg123 (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="nsplayer" browser="NetShow Player (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="sonique" browser="Sonique (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="uplayer" browser="Ultra Player (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="xmms" browser="XMMS (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="xaudio" browser="Some XAudio Engine based MPEG player (media player)" browserImage="mediaplayer"/&gt;
    &lt;rule search="webtv" browser="WebTV browser" browserImage="webtv"/&gt;
    &lt;!--RSS/Feed Readers--&gt;
    &lt;rule search="aggrevator" browser="Aggrevator (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="bloglines" browser="Bloglines (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="everyfeed-spider" browser="EveryFeed-Spider (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="feeddemon" browser="FeedDemon (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="feedreader" browser="FeedReader (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="feedfetcher-google" browser="FeedFetcher-Google(RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="greatnews" browser="GreatNews (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="gragarius" browser="Gregarius (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="jetbrains_omea_reader" browser="Omea Reader (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="kindle" browser="Amazon Kindle (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="nfreader" browser="NFReader (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="netnewswire" browser="NetNewsWire (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="newsfire" browser="NewsFire (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="newsgator" browser="NewsGator (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="newzcrawler" browser="NewzCrawler (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="magpierss" browser="MagpieRSS (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="pluck" browser="Pluck (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="pulpfiction" browser="PulpFiction (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="rssbandit" browser="RSS Bandit (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="rssreader" browser="RssReader (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="rssowl" browser="RSSOwl (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="sage" browser="Sage (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="sharpreader" browser="SharpReader (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="shrook" browser="Shrook (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="straw" browser="Straw (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="syndirella" browser="Syndirella (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="universalfeedparser" browser="UniversalFeedParser (RSS Reader)" browserImage="rss"/&gt;
    &lt;rule search="apt" browser="Debian APT" browserImage="apt"/&gt;
    &lt;!--Libraries --&gt;
    &lt;rule search="binget" browser="BinGet" browserImage="undefined"/&gt;
    &lt;rule search="curl" browser="cUrl" browserImage="undefined"/&gt;
    &lt;rule search="java" browser="Java" browserImage="undefined"/&gt;
    &lt;rule search="libwww-perl" browser="LibWWW Perl" browserImage="undefined"/&gt;
    &lt;rule search="libwww" browser="LibWWW" browserImage="undefined"/&gt;
    &lt;rule search="peach" browser="Peachurl" browserImage="undefined"/&gt;
    &lt;rule search="php" browser="PHP" browserImage="undefined"/&gt;
    &lt;rule search="pxyscand" browser="Pxyscand" browserImage="undefined"/&gt;
    &lt;rule search="pycurl" browser="PycUrl" browserImage="undefined"/&gt;
    &lt;rule search="python-urllib" browser="Python Urllib" browserImage="undefined"/&gt;
    &lt;!--Validators--&gt;
    &lt;rule search="css html" browser="CSE HTML Validator" browserImage="undefined"/&gt;
    &lt;rule search="csscheck" browser="WDG CSS Validator" browserImage="undefined"/&gt;
    &lt;rule search="cynthia" browser="Cynthia" browserImage="undefined"/&gt;
    &lt;rule search="htmlparser" browser="HTML Parser" browserImage="undefined"/&gt;
    &lt;rule search="p3p" browser="P3P Validator" browserImage="undefined"/&gt;
    &lt;rule search="w3c_css_validator" browser="W3C CSS Validator" browserImage="undefined"/&gt;
    &lt;rule search="w3c_validator" browser="W3C HTML Validator" browserImage="undefined"/&gt;
    &lt;rule search="wdg_validator" browser="WDG HTML Validator" browserImage="undefined"/&gt;
    &lt;!--Offline Browsers--&gt;
    &lt;rule search="offline explorer" browser="Offline Explorer" browserImage="undefined"/&gt;
    &lt;rule search="superbot" browser="SuperBot" browserImage="undefined"/&gt;
    &lt;rule search="web downloader" browser="Web Downloader" browserImage="undefined"/&gt;
    &lt;rule search="webcopier" browser="WebCopier" browserImage="undefined"/&gt;
    &lt;rule search="webzip" browser="WebZIP" browserImage="webzip"/&gt;
    &lt;rule search="wget" browser="Wget" browserImage="undefined"/&gt;
    &lt;rule search="staroffice" browser="StarOffice" browserImage="staroffice"/&gt;
    &lt;!--Basic Browsers: Mozilla must be the last one--&gt;
    &lt;rule search="opera" browser="Opera" browserImage="opera"&gt;
      &lt;rule match="opera(?:\/|\s)([\d\.rcu]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="msie" browser="Internet Explorer" browserImage="msie"&gt;
      &lt;rule match="mozilla.+compatible; msie ([\d\.rc]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="netscape" browser="Netscape" browserImage="netscape"&gt;
      &lt;rule match="netscape\d*(?:\/|\s)([\d\.rcu]+)" browserVersion="$1"/&gt;
      &lt;rule match="navigator(?:\/|\s)([\d\.pre]+)" browserVersion="$1"/&gt;
      &lt;rule match="rv:([\d.rc]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="safari" browser="Safari" browserImage="safari" &gt;
      &lt;rule search="safari/534" browserVersion="5.1"/&gt;
      &lt;rule search="safari/533" browserVersion="5.0"/&gt;
      &lt;rule search="safari/531" browserVersion="4.0"/&gt;
      &lt;rule search="safari/530" browserVersion="4.0"/&gt;
      &lt;rule search="safari/528" browserVersion="4.0"/&gt;
      &lt;rule search="safari/526" browserVersion="4.0"/&gt;
      &lt;rule search="safari/525.29" browserVersion="3.2"/&gt;
      &lt;rule search="safari/525.28" browserVersion="3.2"/&gt;
      &lt;rule search="safari/525.27" browserVersion="3.2"/&gt;
      &lt;rule search="safari/525.26" browserVersion="3.2"/&gt;
      &lt;rule search="safari/525.21" browserVersion="3.1"/&gt;
      &lt;rule search="safari/525.20" browserVersion="3.1"/&gt;
      &lt;rule search="safari/525.17" browserVersion="3.1"/&gt;
      &lt;rule search="safari/525.13" browserVersion="3.1"/&gt;
      &lt;rule search="safari/523" browserVersion="3.0"/&gt;
      &lt;rule search="safari/522" browserVersion="3.0"/&gt;
      &lt;rule search="safari/419" browserVersion="2.0"/&gt;
      &lt;rule search="safari/416" browserVersion="2.0"/&gt;
      &lt;rule search="safari/412" browserVersion="2.0"/&gt;
      &lt;rule search="safari/312" browserVersion="1.3"/&gt;
      &lt;rule search="safari/125" browserVersion="1.2"/&gt;
      &lt;rule search="safari/100" browserVersion="1.1"/&gt;
      &lt;rule search="safari/85" browserVersion="1.0"/&gt;
      &lt;rule search="safari/73" browserVersion="0.9"/&gt;
      &lt;rule search="safari/48" browserVersion="0.8"/&gt;
      &lt;rule match="version(?:\/|\s)([\d\.rc]+)" browserVersion="$1"/&gt;
      &lt;rule match="safari(?:\/|\s)([\d\.rc]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="firefox" browser="Firefox" browserImage="firefox"&gt;
      &lt;rule match="firefox(?:\/|\s)([\d\.rc]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="mozilla" browser="Mozilla" browserImage="mozilla"&gt;
      &lt;rule match="mozilla\/([\d\.rcu]+)" browserVersion="$1"/&gt;
      &lt;rule match="rv:([\d.rc]+)" browserVersion="$1"/&gt;
    &lt;/rule&gt;
  &lt;/axis&gt;
  &lt;axis name="os"&gt;
    &lt;rule search="android" osImage="android" osFamilly="Android"  device="android"&gt;
      &lt;rule match="; Android (\d+(?:\.\d+)+)" os="Android $1"/&gt;
      &lt;!-- rule search="android" os="android" osImage="android" osFamilly="Android"  device="android"/ --&gt;
      &lt;rule match="; android[\s+ ]1.0" os="Android 1.0"/&gt;
      &lt;rule match="; android[\s+ ]1.1" os="Android 1.1"/&gt;
      &lt;rule match="; android[\s+ ]1.5" os="Android 1.5"/&gt;
      &lt;rule match="; android[\s+ ]1.6" os="Android 1.6"/&gt;
      &lt;rule match="; android[\s+ ]2.0" os="Android 2.0"/&gt;
      &lt;rule match="; android[\s+ ]2.1" os="Android 2.1"/&gt;
      &lt;rule match="; android[\s+ ]2.2" os="Android 2.2"/&gt;
      &lt;rule match="; android[\s+ ]2.3" os="Android 2.3"/&gt;
      &lt;rule match="; android[\s+ ]3.0" os="Android 3.0"/&gt;
      &lt;rule match="; android[\s+ ]3.1" os="Android 3.1"/&gt;
      &lt;rule match="; android[\s+ ]3.2" os="Android 3.2"/&gt;
      &lt;rule match="; android[\s+ ]4.0" os="Android 4.0"/&gt;
      &lt;rule match="; android[\s+ ]4.1" os="Android 4.1"/&gt;
      &lt;rule match="; android[\s+ ]4.2" os="Android 4.2"/&gt;
      &lt;rule match="; android[\s+ ]4.3" os="Android 4.3"/&gt;
      &lt;rule match="; android[\s+ ]4.4" os="Android 4.4"/&gt;
      &lt;rule match="; android[\s+ ]5.0" os="Android 5.0"/&gt;
      &lt;rule match="; android[\s+ ]5.1" os="Android 5.1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="blackberry" os="RIM BlackBerry OS" osImage="blackberry" osFamilly="BlackBerry"  device="blackberry"/&gt;
    &lt;rule match="windows[\s+ ]nt[\s+ ]6.1" os="Windows 7" osImage="win7" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="windows[\s+ ]?2005" os="Windows Vista" osImage="vista" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="windows[\s+ ]nt[\s+ ]6.0" os="Windows Vista" osImage="vista" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="windows[\s+ ]?2003" os="Windows 2003" osImage="win2003" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="windows[\s+ ]nt[\s+ ]5.2" os="Windows 2003" osImage="win2003" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="windows[\s+ ]xp" os="Windows XP" osImage="winxp" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="windows[\s+ ]nt[\s+ ]5.1" os="Windows XP" osImage="winxp" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="windows[\s+ ]me" os="Windows Me" osImage="winme" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="win[\s+ ]9x" os="Windows Me" osImage="winme" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="windows[\s+ ]?2000" os="Windows 2000" osImage="win2000" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="windows[\s+ ]nt[\s+ ]5" os="Windows 2000" osImage="win2000" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule search="winnt" os="Windows NT" osImage="winnt" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="windows[\s+ -]?nt" os="Windows NT" osImage="winnt" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule search="win32" os="Windows NT" osImage="winnt" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="win(.*)98" os="Windows 98" osImage="win98" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="win(.*)95" os="Windows 95" osImage="win95" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="win(.*)16" os="Windows 3.xx" osImage="win16" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="windows[\s+ ]3" os="Windows 3.xx" osImage="win16" osFamilly="Windows"  device="pc"/&gt;
    &lt;rule match="win(.*)ce" os="Windows CE" osImage="wince" osFamilly="Windows"   device="other"/&gt;
    &lt;rule match="windows(?:\s+)phone" os="Windows Phone" osImage="winphone" osFamilly="Windows"  device="other"/&gt;
    &lt;!-- rule match="iphone" os="iPhone OS" osImage="iphone" osFamilly="OS X / iOS (Apple)"   device="iphone"/&gt;
    &lt;rule match="ipad" os="iPhone OS" osImage="iphone" osFamilly="OS X / iOS (Apple)"   device="ipad"/&gt;
    &lt;rule match="ipod" os="iPhone OS" osImage="iphone" osFamilly="OS X / iOS (Apple)"   device="ipod"/--&gt;
    &lt;rule search="ipod" osImage="iphone" osFamilly="OS X / iOS (Apple)"   device="ipod"&gt;
      &lt;rule match="os[\s+ ]1_1" os="iOS 1.1"/&gt;
      &lt;rule match="os[\s+ ]2_0" os="iOS 2.0"/&gt;
      &lt;rule match="os[\s+ ]2_1" os="iOS 2.1"/&gt;
      &lt;rule match="os[\s+ ]2_2" os="iOS 2.2"/&gt;
      &lt;rule match="os[\s+ ]3_0" os="iOS 3.0"/&gt;
      &lt;rule match="os[\s+ ]3_1" os="iOS 3.1"/&gt;
      &lt;rule match="os[\s+ ]3_2" os="iOS 3.2"/&gt;
      &lt;rule match="os[\s+ ]4_0" os="iOS 4.0"/&gt;
      &lt;rule match="os[\s+ ]4_1" os="iOS 4.1"/&gt;
      &lt;rule match="os[\s+ ]4_2" os="iOS 4.2"/&gt;
      &lt;rule match="os[\s+ ]4_3" os="iOS 4.3"/&gt;
      &lt;rule match="os[\s+ ]5_0" os="iOS 5.0"/&gt;
      &lt;rule match="os[\s+ ]5_1" os="iOS 5.1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="ipad" osImage="iphone" osFamilly="OS X / iOS (Apple)"   device="ipad"&gt;
      &lt;rule match="os[\s+ ]3_2" os="iOS 3.2"/&gt;
      &lt;rule match="os[\s+ ]4_0" os="iOS 4.0"/&gt;
      &lt;rule match="os[\s+ ]4_1" os="iOS 4.1"/&gt;
      &lt;rule match="os[\s+ ]4_2" os="iOS 4.2"/&gt;
      &lt;rule match="os[\s+ ]4_3" os="iOS 4.3"/&gt;
      &lt;rule match="os[\s+ ]5_0" os="iOS 5.0"/&gt;
      &lt;rule match="os[\s+ ]5_1" os="iOS 5.1"/&gt;
    &lt;/rule&gt;
    &lt;rule search="iphone" osImage="iphone" osFamilly="OS X / iOS (Apple)"   device="iphone"&gt;
      &lt;rule match="os[\s+ ]1_0" os="iOS 1.0"/&gt;
      &lt;rule match="os[\s+ ]1_1" os="iOS 1.1"/&gt;
      &lt;rule match="os[\s+ ]2_0" os="iOS 2.0"/&gt;
      &lt;rule match="os[\s+ ]2_1" os="iOS 2.1"/&gt;
      &lt;rule match="os[\s+ ]2_2" os="iOS 2.2"/&gt;
      &lt;rule match="os[\s+ ]3_0" os="iOS 3.0"/&gt;
      &lt;rule match="os[\s+ ]3_1" os="iOS 3.1"/&gt;
      &lt;rule match="os[\s+ ]3_2" os="iOS 3.2"/&gt;
      &lt;rule match="os[\s+ ]4_0" os="iOS 4.0"/&gt;
      &lt;rule match="os[\s+ ]4_1" os="iOS 4.1"/&gt;
      &lt;rule match="os[\s+ ]4_2" os="iOS 4.2"/&gt;
      &lt;rule match="os[\s+ ]4_3" os="iOS 4.3"/&gt;
      &lt;rule match="os[\s+ ]5_0" os="iOS 5.0"/&gt;
      &lt;rule match="os[\s+ ]5_1" os="iOS 5.1"/&gt;
    &lt;/rule&gt;
    &lt;rule match="mac[\s+ ]os[\s+ ]x" os="Mac OS X" osImage="macosx" osFamilly="OS X / iOS (Apple)"  device="pc"/&gt;
    &lt;rule search="mac_p" os="Mac OS" osImage="macintosh" osFamilly="OS X / iOS (Apple)"  device="pc"/&gt;
    &lt;rule match="mac[\s+ ]68" os="Mac OS" osImage="macintosh" osFamilly="OS X / iOS (Apple)"  device="pc"/&gt;
    &lt;rule search="macweb" os="Mac OS" osImage="macintosh" osFamilly="OS X / iOS (Apple)"  device="pc"/&gt;
    &lt;rule search="macintosh" os="Mac OS" osImage="macintosh" osFamilly="OS X / iOS (Apple)"  device="pc"/&gt;
    &lt;rule search="macos" os="Mac OS" osImage="macintosh" osFamilly="OS X / iOS (Apple)"  device="pc"/&gt;
    &lt;rule search="beos" os="BeOS" osImage="beos" osFamilly=""  device="pc"/&gt;
    &lt;rule search="os/2" os="OS/2" osImage="os/2" osFamilly=""  device="pc"/&gt;
    &lt;rule search="amiga" os="AmigaOS" osImage="amigaos" osFamilly=""  device="pc"/&gt;
    &lt;rule search="atari" os="Atari" osImage="atari" osFamilly=""  device="pc"/&gt;
    &lt;rule search="vms" os="VMS" osImage="vms" osFamilly=""  device="pc"/&gt;
    &lt;rule search="cp/m" os="CPM" osImage="cp/m" osFamilly=""  device="pc"/&gt;
    &lt;rule search="crayos" os="CrayOS" osImage="crayos" osFamilly=""  device="pc"/&gt;
    &lt;rule search="dreamcast" os="Dreamcast" osImage="dreamcast" osFamilly=""  device="pc"/&gt;
    &lt;rule match="risc[\s+ ]?os" os="RISC OS" osImage="riscos" osFamilly=""  device="pc"/&gt;
    &lt;rule search="symbian" os="Symbian OS" osImage="symbian" osFamilly=""  device="nokia"/&gt;
    &lt;rule search="symbos" os="SymbOS" osImage="symbos" osFamilly=""  device="nokia"/&gt;
    &lt;rule search="webtv" os="WebTV" osImage="webtv" osFamilly=""  device="other"/&gt;
    &lt;rule search="haiku" os="Haiku" osImage="haiku" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="bada" os="BaDa OS" osImage="bada" osFamilly="Linux / Unix"  device="other"/&gt;
    &lt;rule search="limo" os="LiMo OS" osImage="limo" osFamilly="Linux / Unix"  device="other"/&gt;
    &lt;rule search="meego" os="MeeGo OS" osImage="meego" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="palmos" os="Palm OS" osImage="palm" osFamilly="Linux / Unix"  device="other"/&gt;
    &lt;rule search="webos" os="Palm webOS" osImage="webos" osFamilly="Linux / Unix"  device="other"/&gt;
    &lt;rule search="aix" os="Aix" osImage="aix" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="sunos" os="Sun Solaris" osImage="sunos" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="irix" os="Irix" osImage="irix" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="osf" os="OSF Unix" osImage="osf" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="hp-ux" os="HP Unix" osImage="hp-ux" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="netbsd" os="NetBSD" osImage="netbsd" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="bsdi" os="BSDi" osImage="bsdi" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="freebsd" os="FreeBSD" osImage="freebsd" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="openbsd" os="OpenBSD" osImage="openbsd" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="gnu" os="GNU" osImage="gnu" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="x11" os="Unknown Unix system" osImage="unix" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="linux" os="Linux" osImage="linux" osFamilly="Linux / Unix"  device="pc"/&gt;
    &lt;rule search="unix" os="Unknown Unix system" osImage="unix" osFamilly="Linux / Unix"  device="pc"/&gt;
  &lt;/axis&gt;
&lt;/userAgentRules&gt;</memoValue>
    </option>
    <option name="NmsServer_URL" stringValue="http://localhost:8080">
      <desc>Base URL of the public web application server</desc>
    </option>
    <option name="NmsServer_IntranetURL" stringValue="http://localhost:8080">
      <desc>Internal base URL to access the application server</desc>
    </option>
    <option name="NmsServer_MirrorPageUrl" stringValue="http://localhost:8080">
      <desc>URL of the mirror page server (by default, should be identical to NmsTracking_ServerUrl).
(It is the default value of email deliveries when the URL is not specified in the routing definition)</desc>
    </option>
    <option dataType="12" name="NmsTracking_ClickFormula">
      <desc>Tracked-URL calculation script</desc>
      <memoValue>&lt;% if( typeof strPurlTrackingServer!="undefined" &amp;&amp; strPurlTrackingServer.toString() ) { %&gt;&lt;%= strPurlTrackingServer %&gt;&lt;% } else { %&gt;&lt;%@ include option='NmsTracking_ServerUrl' %&gt;&lt;% } %&gt;/r/?id=&lt;%=
type.substr(0, 1) + (message.id&lt;0 ? (message.id+4294967296) : message.id).toString(16).toLowerCase()
%&gt;,&lt;%@ value object="delivery" xpath="@idTracking" %&gt;,&lt;%= escapeUrl("$(urlId)") %&gt;&lt;%
if (document.mode == "forward")
{
  var d = message.getParameter("d")
  if( d )
    d = d.split(",")
%&gt;&amp;ap_visitorId=&lt;%=message.getParameter("visitorId") != '' ? message.getParameter("visitorId"):0 %&gt;&amp;ap_category=&lt;%= d[0]?d[0]:'' %&gt;&amp;ap_deliveryId=&lt;%=d[1]?parseInt(d[1],16):0%&gt;&lt;%
} %&gt;&lt;%
if( typeof proposition != "undefined" &amp;&amp; proposition.length == undefined )
{ %&gt;&amp;ap_oid=&lt;%= proposition.offer.id %&gt;&lt;%
} %&gt;</memoValue>
    </option>
    <option dataType="12" name="NmsTracking_OpenFormula">
      <desc>Open URL computation script</desc>
      <memoValue>&lt;%= "&lt;img height='0' width='0' alt='' src='"
%&gt;&lt;% if( typeof strPurlTrackingServer!="undefined" &amp;&amp; strPurlTrackingServer.toString() ) { %&gt;&lt;%= strPurlTrackingServer %&gt;&lt;% } else { %&gt;&lt;%@ include option='NmsTracking_ServerUrl' %&gt;&lt;% } %&gt;/r/?id=&lt;%=
type.substr(0, 1) + (message.id&lt;0 ? (message.id+4294967296) : message.id).toString(16).toLowerCase()
%&gt;,&lt;%@ value object="delivery" xpath="@idTracking" %&gt;,&lt;%= escapeUrl("$(urlId)") %&gt;&lt;%
if (document.mode == "forward")
{
  var d = message.getParameter("d")
  if( d )
    d = d.split(",")
%&gt;&amp;ap_visitorId=&lt;%=message.getParameter("visitorId") != '' ? message.getParameter("visitorId"):0 %&gt;&amp;ap_category=&lt;%= d[0]?d[0]:'' %&gt;&amp;ap_deliveryId=&lt;%=d[1]?parseInt(d[1],16):0%&gt;&lt;%
} %&gt;&lt;%= "'/&gt;" %&gt;</memoValue>
    </option>
    <option dataType="12" name="NmsTracking_WebFormula">
      <desc>Script used to compute Web tracking tags</desc>
      <memoValue>&lt;script&gt;
&lt;%
  if( $(validity) != 0 )  {
    %&gt;if( ((new Date()).getTime()/1000) &lt; $(validity) ) { &lt;%
  }
%&gt; document.write("&lt;img height='0' width='0' alt='' src='&lt;%@ include option='NmsTracking_ServerUrl' %&gt;/r/"
+  Math.random().toString() + "?tagid=&lt;%=escapeUrl("$(urlId)") %&gt;'/&gt;");
&lt;% if( $(validity) != 0 )  {
  %&gt; } &lt;%
  }
%&gt;
&lt;/script&gt;
&lt;noscript&gt;&lt;img height='0' width='0' alt='' src='&lt;%@ include option='NmsTracking_ServerUrl' %&gt;/r/?tagid=&lt;%= escapeUrl("$(urlId)") %&gt;'/&gt;
&lt;/noscript&gt;</memoValue>
    </option>
    <option name="NmsTracking_ServerUrl">
      <desc>URL of the frontal tracking server</desc>
    </option>
    <option name="NmsTracking_SecureServerUrl">
      <desc>Secure URL of the frontal tracking server</desc>
    </option>
    <option name="NmsDelivery_ImageSubDirectory" stringValue="images">
      <desc>Folder in which the images on the server are to be stored</desc>
    </option>
    <option name="NmsDelivery_DefaultIgnoredImage">
      <desc>List of URL masks for the images skipped during upload</desc>
    </option>
    <option dataType="3" longValue="5" name="NmsDelivery_MaxRetry">
      <desc>Maximum number of retries during analysis</desc>
    </option>
    <option name="NmsTracking_ServerUrlList">
      <desc>List of the URLs used to contact the tracking servers</desc>
    </option>
    <option name="NmsBroadcast_DefaultProvider" stringValue="defaultEmailBulk">
      <desc>Default routing service provider for the new templates</desc>
    </option>
    <option dataType="5" doubleValue="432000" name="NmsBroadcast_MsgValidityDuration">
      <desc>Default delivery period for a delivery (in seconds)</desc>
    </option>
    <option dataType="5" doubleValue="5184000" name="NmsBroadcast_MsgWebValidityDuration">
      <desc>Default validity duration for online resources of a delivery (in seconds)</desc>
    </option>
    <option dataType="12" name="NmsForecast_MsgWeightFormula">
      <desc>Formula used to calculate the weighting of a message for a provisional delivery</desc>
      <memoValue>$(deliveryWeight)</memoValue>
    </option>
    <option dataType="3" name="NmsDeliveryWizard_ShowDeliveryWeight">
      <desc>Display the message weight in the delivery wizard</desc>
    </option>
    <option dataType="12" name="XtkEmail_Characters">
      <desc>Valid characters for an email address</desc>
      <memoValue>0123456789_.-'+abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZµÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝßàáâãäåæçèéêëìíîïñòóôõöùúûüýÿ</memoValue>
    </option>
    <option name="XtkReport_Logo" stringValue="xtk:form/classic/neologo171x30.png">
      <desc>Logo to be displayed in the top right-hand corner of the reports exported</desc>
    </option>
    <option dataType="3" name="XtkLdap_Active">
      <desc>Enable LDAP server to be used to authenticate users and provide authorizations to users</desc>
    </option>
    <option dataType="3" name="XtkLdap_AutoOperator">
      <desc>Enable automatic creation of operators and rights in Adobe Campaign</desc>
    </option>
    <option name="XtkLdap_Server" stringValue="ldap.domain.com">
      <desc>LDAP server address (it is possible to specify a port by specifying ':' as the separator)</desc>
    </option>
    <option name="XtkLdap_Mechanism" stringValue="md5">
      <desc>Authentication type used to contact the LDAP server (plain, md5, lds, ntlm, dpa)</desc>
    </option>
    <option name="XtkLdap_AppLogin">
      <desc>Application login to contact the server for various searches</desc>
    </option>
    <option name="XtkLdap_AppPassword">
      <desc>Encrypted password for the application login</desc>
    </option>
    <option dataType="3" name="XtkLdap_DNSearch">
      <desc>Enable DN search in directory</desc>
    </option>
    <option name="XtkLdap_DN" stringValue="cn=$(login),ou=domain,dc=com">
      <desc>Computation formula for LDAP DN based on login</desc>
    </option>
    <option name="XtkLdap_DNSearchFilter" stringValue="cn=$(login)">
      <desc>DN search filter</desc>
    </option>
    <option name="XtkLdap_DNSearchBase" stringValue="ou=domain,dc=com">
      <desc>Search base</desc>
    </option>
    <option name="XtkLdap_DNSearchScope" stringValue="subtree">
      <desc>Search scope</desc>
    </option>
    <option dataType="3" name="XtkLdap_Rights">
      <desc>Enable synchronization of authorizations and groups from LDAP directory to named rights in Adobe Campaign</desc>
    </option>
    <option name="XtkLdap_RightsBase" stringValue="ou=domain,dc=com">
      <desc>Search base</desc>
    </option>
    <option name="XtkLdap_RightsScope" stringValue="subtree">
      <desc>Search scope</desc>
    </option>
    <option name="XtkLdap_RightsFilter" stringValue="(&amp;(objectclass=group)(cn=NEOLANE_*)(member=$(userdn)))">
      <desc>Search filter for user authorizations</desc>
    </option>
    <option name="XtkLdap_RightsAttr" stringValue="cn">
      <desc>LDAP attribute containing the authorization name</desc>
    </option>
    <option name="XtkLdap_RightsMask" stringValue="NEOLANE_(.*)">
      <desc>Expression to extract the names of the Adobe Campaign rights from the LDAP authorizations</desc>
    </option>
    <option name="XtkWebForm_ServersMode">
      <desc>Option that lets you specify the invalidation mode of web forms: local by default, uses tracking servers if the option is 'tracking' and uses a personalized list with the 'other server(s)' option.</desc>
    </option>
    <option name="XtkWebForm_ServersURLs">
      <desc>Personalized address list of servers to be contacted for web form invalidation ('other server(s)' mode).</desc>
    </option>
    <option name="XtkWebForm_Instance">
      <desc>Instance to be used for web form invalidation in 'other server(s)' mode.</desc>
    </option>
    <option name="XtkWebForm_Password">
      <desc>Password of the instance to be used for web form invalidation in 'other server(s)' mode.</desc>
    </option>
    <option dataType="3" longValue="10000" name="Workflow_AnalysisThreshold">
      <desc>Number of affected records after which table statistics are automatically recomputed.</desc>
    </option>
    <option name="XtkScript_batch" stringValue="cmd.exe /c $(filename.bat)"/>
    <option name="XtkScript_vbs" stringValue="cscript /nologo $(filename.vbs)"/>
    <option name="XtkScript_sh" stringValue="bash $(filename)"/>
    <option name="XtkScript_perl" stringValue="perl $(filename.pl)"/>
    <option name="XtkScript_python" stringValue="python $(filename.py)"/>
    <option name="XtkScript_ruby" stringValue="ruby $(filename.rb)"/>
    <option name="Nms_DefaultRcpSchema" stringValue="nms:recipient"/>
    <option name="NmsServer_LogoPath" stringValue="/nl/img">
      <desc>Space to display logos</desc>
    </option>
    <option name="DmRendering_cuid" stringValue="VALUE_TO_CHANGE">
      <desc>Delivery reports identifier. Please contact support to obtain your identifier.</desc>
    </option>
    <option dataType="7" name="NmsUserAgentStats_LastConsolidation"/>
    <option name="TNT_TenantName">
      <desc>Tenant name for Adobe Target</desc>
    </option>
    <option name="TNT_EdgeServer" stringValue="tt.omtrdc.net/m2">
      <desc>Frontal server for Adobe Target</desc>
    </option>
    <option dataType="3" longValue="100" name="NmsBilling_MainActionThreshold">
      <desc>Minimum number of recipients in order for a delivery to be considered as the main one in the billing report.</desc>
    </option>
    <option dataType="3" longValue="1" name="NmsInteraction_UseDaemon">
      <desc>Enable/disable asynchronous proposition writing ("0" to disable, "1" to enable)</desc>
    </option>
    <option name="NmsServer_LastPostUpgrade" stringValue="8705"/>
    <option name="WdbcOptions_TableSpaceUser">
      <desc>Name of the tablespace intended to contain the data of the standard Adobe Campaign tables</desc>
    </option>
    <option name="WdbcOptions_TableSpaceWork">
      <desc>Name of the tablespace intended to contain the data of the Adobe Campaign work tables</desc>
    </option>
    <option name="WdbcOptions_TableSpaceWorkIndex">
      <desc>Name of the tablespace intended to contain the indexes of the Adobe Campaign work tables</desc>
    </option>
    <option name="WdbcOptions_TableSpaceIndex">
      <desc>Name of the tablespace intended to contain the indexes of the Adobe Campaign standard tables</desc>
    </option>
  </entities>
  <entities schema="xtk:queryFilter">
    <queryFilter default="1" hasForm="1" label="By name or label" name="byNameOrLabelEntity" schema="xtk:entity" sqlTable="XtkEntity">
      <where filteringSchema="xtk:entity">
        <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="Upper(@label) LIKE '%' + Upper($(/tmp/@text)) + '%'" internalId="1"/>
        <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="@name LIKE '%' + $(/tmp/@text) + '%'" internalId="2"/>
        <condition enabledIf="$(/tmp/@text) != ''" expr="@namespace LIKE '%' + $(/tmp/@text) + '%'" internalId="3"/>
      </where>
      <form>
        <input label="Name or label contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name" name="byOptValue" schema="xtk:option">
      <where filteringSchema="xtk:option">
        <condition enabledIf="$(@name) != ''" expr="Upper(@name) LIKE '%' + Upper($(@name)) + '%'" internalId="2"/>
      </where>
      <form>
        <input noTransaction="true" xpath="@name"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name" name="byEnumName" schema="xtk:enum">
      <where filteringSchema="xtk:enum">
        <condition enabledIf="$(@name) != ''" expr="Upper(@name) LIKE '%' + Upper($(@name)) + '%'" internalId="2"/>
      </where>
      <form>
        <input noTransaction="true" xpath="@name"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name" name="byCounterName" schema="xtk:counter">
      <where filteringSchema="xtk:counter">
        <condition enabledIf="$(@name) != ''" expr="@name LIKE '%' + $(@name) + '%'" internalId="2"/>
      </where>
      <form>
        <input noTransaction="true" xpath="@name"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter label="In progress" name="jobInProgress" schema="xtk:job">
      <where filteringSchema="xtk:job">
        <condition expr="@status = 2" internalId="1"/>
      </where>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter label="Text connector rejects" name="rejectTextCtor" schema="xtk:dataTransfer" startPath="/reject">
      <where filteringSchema="xtk:dataTransfer">
        <condition expr="@connectorType = 'textConnector'" internalId="37238760"/>
      </where>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter label="Rejects of doubles" name="rejectDouble" schema="xtk:dataTransfer" startPath="/reject">
      <where filteringSchema="xtk:dataTransfer">
        <condition boolOperator="AND" expr="@connectorType = 'writer'" internalId="38481992"/>
        <condition expr="@rejectLogType = 'double'" internalId="38483168"/>
      </where>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter label="Rejects of duplicates" name="rejectDuplicate" schema="xtk:dataTransfer" startPath="/reject">
      <where filteringSchema="xtk:dataTransfer">
        <condition boolOperator="AND" expr="@connectorType = 'writer'" internalId="38661120"/>
        <condition expr="@rejectLogType = 'duplicate'" internalId="45249000"/>
      </where>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name or label" name="byNameOrLabelFilter" schema="xtk:queryFilter">
      <where filteringSchema="xtk:queryFilter">
        <condition boolOperator="AND" enabledIf="$(/tmp/@schema) != ''" expr="@schema LIKE '%' + $(/tmp/@schema) + '%'" internalId="3"/>
        <condition boolOperator="AND" enabledIf="$(/tmp/@text) != ''" internalId="4">
          <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="Upper(@label) LIKE '%' + Upper($(/tmp/@text)) + '%'" internalId="1"/>
          <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="@name LIKE '%' + $(/tmp/@text) + '%'" internalId="2"/>
        </condition>
      </where>
      <form colcount="2">
        <input label="Name or label contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
        <input label="Document type" noTransaction="true" type="edit" xpath="/tmp/@schema"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name or label" name="byNameOrLabelWkf" schema="xtk:workflow">
      <where filteringSchema="xtk:workflow">
        <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="Upper(@label) LIKE '%' + Upper($(/tmp/@text)) + '%'" internalId="1"/>
        <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="@internalName LIKE '%' + $(/tmp/@text) + '%'" internalId="2"/>
      </where>
      <form>
        <input label="Name or label contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter label="Active accounts" name="activeOperator" schema="xtk:operator">
      <where filteringSchema="xtk:operator">
        <condition expr="@disable = 0" internalId="1"/>
      </where>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By group" name="operatorPerGroup" schema="xtk:operator">
      <where filteringSchema="xtk:operator">
        <condition enabledIf="$(/tmp/@groupId)!=''" expr="[operatorGroup/group/@id] = $long(/tmp/@groupId)" internalId="1"/>
      </where>
      <form>
        <input computeStringAlias="/tmp/@cs" label="Group" noTransaction="true" schema="xtk:group" type="linkEdit" xpath="/tmp/@groupId">
          <sysFilter>
            <condition expr="@type=1"/>
          </sysFilter>
        </input>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By login or label" name="byNameOrLoginOperator" schema="xtk:operator">
      <where filteringSchema="xtk:operator">
        <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="Upper(@label) LIKE '%' + Upper($(/tmp/@text)) + '%'" internalId="3"/>
        <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="Upper(@name) LIKE '%' + Upper($(/tmp/@text)) + '%'" internalId="2"/>
        <condition enabledIf="$(/tmp/@text) != ''" expr="desc LIKE '%' + $(/tmp/@text) + '%'" internalId="1"/>
      </where>
      <form>
        <input label="Login or label contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name or label" name="byNameOrDescOpGroup" schema="xtk:group">
      <where filteringSchema="xtk:group">
        <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="@label LIKE '%' + $(/tmp/@text) + '%'" internalId="3"/>
        <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="@name LIKE '%' + $(/tmp/@text) + '%'" internalId="2"/>
        <condition enabledIf="$(/tmp/@text) != ''" expr="desc LIKE '%' + $(/tmp/@text) + '%'" internalId="1"/>
      </where>
      <form maxLabelWidth="200">
        <input label="Name or label contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name or label" name="byNameOrLabelReport" schema="xtk:report">
      <where filteringSchema="xtk:report">
        <condition boolOperator="AND" enabledIf="$(/tmp/@schema) != ''" expr="@schema LIKE '%' + $(/tmp/@schema) + '%'" internalId="3"/>
        <condition boolOperator="AND" enabledIf="$(/tmp/@text) != ''" internalId="4">
          <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="@label LIKE '%' + $(/tmp/@text) + '%'" internalId="1"/>
          <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="@internalName LIKE '%' + $(/tmp/@text) + '%'" internalId="2"/>
        </condition>
      </where>
      <form colcount="2">
        <input label="Name or label contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
        <input label="Document type" noTransaction="true" type="edit" xpath="/tmp/@schema"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By label or original name" name="byNameOrLabelFileRes" schema="xtk:fileRes">
      <where filteringSchema="xtk:fileRes">
        <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="Upper(@label) LIKE '%' + Upper($(/tmp/@text)) + '%'" internalId="2"/>
        <condition enabledIf="$(/tmp/@text) != ''" expr="@originalName LIKE '%' + $(/tmp/@text) + '%'" internalId="1"/>
      </where>
      <form maxLabelWidth="200">
        <input label="Label of original name contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter label="Alias value not defined" name="byUndefinedAliasValue" schema="xtk:enumAlias">
      <where filteringSchema="xtk:enumAlias">
        <condition _internalKey="true" _schema="xtk:enumAlias" expr="[@enumValue-id] = internalKey('xtk:enumValue' , '0:' , '@id')" internalId="2"/>
      </where>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter label="Undefined aliases" name="withUndefinedAliasValue" schema="xtk:enum">
      <where filteringSchema="xtk:enum">
        <condition boolOperator="AND" expr="@aliases = 1" internalId="1"/>
        <condition boolOperator="AND" expr="aliases" internalId="2" setOperator="EXISTS">
          <condition _internalKey="true" _schema="xtk:enumAlias" expr="[@enumValue-id] = internalKey('xtk:enumValue' , '0:' , '@id')" internalId="3"/>
        </condition>
      </where>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By alias or value" name="byAliasOrValue" schema="xtk:enumAlias">
      <where filteringSchema="xtk:enumAlias">
        <condition boolOperator="AND" enabledIf="$(@label)!=''" expr="@label LIKE '%' + $(@label) + '%'" internalId="1"/>
        <condition enabledIf="$([enumValue/@label])!=''" expr="[enumValue/@label] LIKE '%' + $([enumValue/@label]) + '%'" internalId="2"/>
      </where>
      <form colcount="2">
        <input label="Alias" noTransaction="true" type="edit" xpath="@label"/>
        <input label="Value" noTransaction="true" type="edit" xpath="enumValue/@label"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" img="nl:sryimage.png" label="Images" name="imageFileRes" schema="xtk:fileRes">
      <where filteringSchema="xtk:fileRes">
        <condition boolOperator="AND" expr="@isImage = 1" internalId="1"/>
        <condition enabledIf="$(/tmp/@contentType) != '' and $(/tmp/@contentType) != 'all'" expr="@contentType = $(/tmp/@contentType)" internalId="2"/>
      </where>
      <form>
        <input enum="xtk:fileRes:imageTypeFilter" label="Image type" type="sysenum" xpath="/tmp/@contentType"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By language or status" name="dictionaryByLocaleOrStatus" schema="xtk:dictionaryString">
      <where filteringSchema="xtk:dictionaryString">
        <condition enabledIf="$(@locale) != ''" expr="@locale = $(@locale)" internalId="1587021382"/>
        <condition enabledIf="$(@status) != 99" expr="@status = $(@status)" internalId="1587021383"/>
      </where>
      <form colcount="2">
        <input noTransaction="true" xpath="@locale"/>
        <input addEmptyValue="99" noTransaction="true" xpath="@status"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name or ISO code" name="byLabelOrIsoCountry" schema="nms:country">
      <where filteringSchema="nms:country">
        <condition boolOperator="AND" enabledIf="$(@label) != ''" expr="upper(@label) LIKE '%' + upper($(@label)) + '%'" internalId="1"/>
        <condition enabledIf="$(/ignored/@code) != ''" expr="upper(@isoA2)  LIKE '%' + upper($(/ignored/@code)) + '%'" internalId="2"/>
      </where>
      <form colcount="2">
        <input xpath="@label"/>
        <input label="ISO code" type="edit" xpath="/ignored/@code"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By code or label" name="stateByCodeOrLabel" schema="nms:state">
      <where filteringSchema="nms:state">
        <condition boolOperator="AND" enabledIf="$(/tmp/@code)!=''" expr="Upper(@code) LIKE Upper($(/tmp/@code)) + '%'" internalId="1"/>
        <condition boolOperator="AND" enabledIf="$(@label)!=''" expr="Upper(@label) LIKE '%' + Upper($(@label)) + '%'" internalId="2"/>
        <condition enabledIf="$(@type)!='' and $(@type)!=0" expr="@type = $(@type)" internalId="3"/>
      </where>
      <form colcount="3">
        <input noTransaction="true" xpath="@label"/>
        <input label="Code" noTransaction="true" xpath="/tmp/@code"/>
        <input noTransaction="true" xpath="@type"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name or email" name="byNameOrEmail" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition boolOperator="AND" enabledIf="$(@lastName)!=''" expr="Upper(@lastName) LIKE upper($(@lastName)) + '%'" internalId="1"/>
        <condition enabledIf="$(@email)!=''" expr="@email LIKE lower($(@email)) + '%'" internalId="2"/>
      </where>
      <form colcount="2">
        <input noTransaction="true" xpath="@lastName"/>
        <input noTransaction="true" xpath="@email"/>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="Opened" name="havingOpened" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition boolOperator="AND" enabledIf="$(/tmp/@deliveryId) != ''" expr="trackingLog" internalId="1" setOperator="EXISTS">
          <condition expr="[@delivery-id] = $long(/tmp/@deliveryId)" internalId="3"/>
        </condition>
      </where>
      <form>
        <input computeStringAlias="/tmp/@cs" label="Delivery" noTransaction="true" schema="nms:delivery" type="linkEdit" xpath="/tmp/@deliveryId">
          <sysFilter>
            <condition expr="@isModel = 0"/>
          </sysFilter>
        </input>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By post delivery behavior" name="rcpTrBehaviour" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition boolOperator="AND" enabledIf="$(/tmp/@deliveryId) != ''" expr="trackingLog" internalId="1" setOperator="EXISTS">
          <condition boolOperator="AND" enabledIf="$(/tmp/@type) != 2" expr="[url/@type] = $short(/tmp/@type)" internalId="2"/>
          <condition expr="[@delivery-id] = $long(/tmp/@deliveryId)" internalId="3"/>
        </condition>
      </where>
      <form colcount="2">
        <enter>
          <set value="2" xpath="/tmp/@type"/>
        </enter>
        <input enum="nms:trackingUrlInfo:behaviourType" label="Behavior" noTransaction="true" type="sysenum" xpath="/tmp/@type"/>
        <input computeStringAlias="/tmp/@cs" label="Delivery" noTransaction="true" schema="nms:delivery" type="linkEdit" xpath="/tmp/@deliveryId"/>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By clicking on a specific link" name="rcpClickSpecificUrl" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition enabledIf="$(/tmp/@urlId)!='' or $(/tmp/@deliveryId)!=''" expr="trackingLog" internalId="1207588196" setOperator="EXISTS">
          <condition boolOperator="AND" enabledIf="$(/tmp/@deliveryId)!=''" expr="[@delivery-id] = $long(/tmp/@deliveryId)" internalId="1207588205"/>
          <condition enabledIf="$(/tmp/@urlId)!=''" expr="[url/@label] = $(/tmp/@csUrl)" internalId="1208795406"/>
        </condition>
      </where>
      <form colcount="2">
        <input computeStringAlias="/tmp/@cs" label="Delivery" noTransaction="true" schema="nms:delivery" type="linkEdit" xpath="/tmp/@deliveryId">
          <sysFilter>
            <condition expr="@state > 15"/>
            <condition expr="@isModel = false"/>
          </sysFilter>
        </input>
        <input computeStringAlias="/tmp/@csUrl" label="Tracked URL" noTransaction="true" schema="nms:trackingUrl" type="linkEdit" xpath="/tmp/@urlId">
          <sysFilter>
            <condition enabledIf="$(/tmp/@deliveryId)!=''" expr="[trackingLogRcp-url]" setOperator="EXISTS">
              <condition enabledIf="$(/tmp/@deliveryId)!=''" expr="[@delivery-id] = $long(/tmp/@deliveryId)"/>
            </condition>
          </sysFilter>
        </input>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter img="nms:quarantine.png" label="Quarantined email address" name="rcpInQuarantine" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition expr="[emailInfo/@status]=4" internalId="2"/>
      </where>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter label="Blacklisted email address" name="rcpInBlackList" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition boolOperator="OR" expr="@blackList = 1" internalId="1"/>
        <condition boolOperator="OR" expr="@blackListEmail = 1" internalId="2"/>
        <condition expr="[emailInfo/@status] = 3" internalId="3"/>
      </where>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter label="Emails duplicated in the folder" name="dupEmail" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition expr="@email" internalId="1" setOperator="IN">
          <subQuery schema="nms:recipient">
            <select>
              <node expr="@email"/>
            </select>
            <where>
              <condition expr="[@folder-id]=$(folderId)"/>
            </where>
            <groupBy>
              <node expr="@email"/>
            </groupBy>
            <having>
              <condition expr="count(@email)>1"/>
            </having>
          </subQuery>
        </condition>
      </where>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By list" name="rcpPerGroup" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition enabledIf="$(/tmp/@groupId) != '' and $(/tmp/@listType)=0" expr="[rcpGrpRel/@group-id]=$primarykey(/tmp/@groupId) and [rcpGrpRel/rcpGroup/@type]=0" internalId="1587218196"/>
        <condition enabledIf="$(/tmp/@groupId) != '' and $(/tmp/@listType)=1" expr="@id = [temp:group:$primarykey(/tmp/@groupId):@id]" internalId="1587218197"/>
      </where>
      <form>
        <input label="List" noTransaction="true" notifyPathList="@id|/tmp/@groupId,@type|/tmp/@listType" schema="nms:group" type="linkEdit" xpath="/tmp/group">
          <sysFilter>
            <condition expr="@schema='nms:recipient'"/>
          </sysFilter>
        </input>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By subscription" name="rcpPerSubscription" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition enabledIf="$(/tmp/@serviceId) != ''" expr="[subscription/@service-id] = $long(/tmp/@serviceId)" internalId="1587218198"/>
        <condition enabledIf="$(/tmp/@serviceId) != ''" expr="[subscription/@deleteStatus] = 0" internalId="1587218199"/>
      </where>
      <form>
        <input computeStringAlias="/tmp/@cs" label="Service" noTransaction="true" schema="nms:service" type="linkEdit" xpath="/tmp/@serviceId"/>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" img="nms:recipient.png" label="A recipient" main="1" name="rcpDeliveryPerRcp" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition expr="@id = $long(/tmp/list/recipient/@id)" internalId="1587218200"/>
      </where>
      <form>
        <container label="Recipient" type="frame">
          <input dblClickAction="wizFinish|wizNext" exprOutCS="'Recipient \''+[/tmp/@_cs]+'\''" folderFilterChoice="@model like 'nmsRecipient%'" monoSelection="true" newEntityFormChoice="true" schema="nms:recipient" type="linkListChoice" xpath="/tmp/list" xpathOut="/tmp/list" xpathOutCS="/tmp/@_cs">
            <input expr="@email"/>
            <input expr="@lastName"/>
            <input expr="@firstName"/>
            <input expr="@mobilePhone"/>
          </input>
        </container>
        <leave>
          <check expr="[/tmp/list/recipient/@id] != ''">
            <error>You must specify a recipient.</error>
          </check>
        </leave>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" img="nms:rcpgroup.png" label="A list of recipients" main="1" name="rcpDeliveryPerGrp" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition enabledIf="$(/tmp/list/group/@type)!=1" expr="[rcpGrpRel/@group-id] = $primarykey(/tmp/list/group/@id) and [rcpGrpRel/rcpGroup/@type]=0" internalId="1"/>
        <condition enabledIf="$(/tmp/list/group/@type)=1" expr="@id = [temp:group:$primarykey(/tmp/list/group/@id):@id]" internalId="2"/>
      </where>
      <form>
        <container label="List" type="frame">
          <input dblClickAction="wizFinish|wizNext" exprOutCS="'List \''+[/tmp/list/group/@_cs]+'\''" extraColumns="@type" folderFilterChoice="@model = 'nmsGroup'" monoSelection="true" newEntityFormChoice="true" schema="nms:group" type="linkListChoice" xpath="/tmp/list" xpathOut="/tmp/list" xpathOutCS="/tmp/@_cs">
            <input expr="@label"/>
            <sysFilter>
              <condition expr="@schema='nms:recipient'"/>
            </sysFilter>
          </input>
        </container>
        <leave>
          <check expr="[/tmp/list/group/@id] != ''">
            <error>You must specify a list.</error>
          </check>
        </leave>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" img="nms:setofservices.png" label="Subscribers of an information service" main="1" name="rcpDeliveryPerSvc" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition expr="[subscription/@service-id] = $long(/tmp/list/service/@id)" internalId="1587218201"/>
        <condition expr="[subscription/@deleteStatus] = 0" internalId="1587218202"/>
      </where>
      <form>
        <container label="Information Service" type="frame">
          <input dblClickAction="wizFinish|wizNext" exprOutCS="'Subscribers to service \''+[/tmp/@_cs]+'\''" folderFilterChoice="@model = 'nmsSetOfServices'" monoSelection="true" newEntityFormChoice="true" schema="nms:service" type="linkListChoice" xpath="/tmp/list" xpathOut="/tmp/list" xpathOutCS="/tmp/@_cs">
            <input expr="@label"/>
            <input expr="@name"/>
            <input expr="@type"/>
          </input>
        </container>
        <leave>
          <check expr="[/tmp/list/service/@id] != ''">
            <error>You must select an information service.</error>
          </check>
        </leave>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" img="nms:setofservices.png" label="Subscribers of an information service" main="1" name="subDeliveryPerSvc" schema="nms:subscription">
      <where filteringSchema="nms:subscription">
        <condition expr="[@service-id] = $long(/tmp/list/service/@id)" internalId="1587218203"/>
        <condition expr="@deleteStatus = 0" internalId="1587218204"/>
      </where>
      <form>
        <container label="Information Service" type="frame">
          <input dblClickAction="wizFinish|wizNext" exprOutCS="'Subscribers to service \''+[/tmp/@_cs]+'\''" folderFilterChoice="@model = 'nmsSetOfServices'" monoSelection="true" newEntityFormChoice="true" schema="nms:service" type="linkListChoice" xpath="/tmp/list" xpathOut="/tmp/list" xpathOutCS="/tmp/@_cs">
            <input expr="@label"/>
            <input expr="@name"/>
            <input expr="@type"/>
          </input>
        </container>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" img="nms:rcpFolder.png" label="Recipients included in a folder" main="1" name="rcpDeliveryPerPart" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition expr="[@folder-id] = $long(/tmp/list/folder/@id)" internalId="1117626252"/>
      </where>
      <form>
        <container label="Folder" type="frame">
          <input dblClickAction="wizFinish|wizNext" exprOutCS="'Folder \''+[/tmp/@_cs]+'\''" folderFilter="@model like 'nmsRecipient%'" mustHaveSelected="true" navTreeUnSelected="true" type="navTreeList" xpath="/tmp/list" xpathOutCS="/tmp/@_cs" xpathOutId="/tmp/list/folder/@id">
            <sysFilter>
              <condition expr="@model like 'nmsRecipient%'"/>
            </sysFilter>
          </input>
        </container>
        <leave>
          <check expr="[/tmp/list/folder/@id] != ''">
            <error>You must select a folder.</error>
          </check>
        </leave>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" img="nms:email.png" label="Recipients of a delivery" main="1" name="rcpPerDelivery" noStack="true" schema="nms:recipient">
      <where filteringSchema="nms:recipient"/>
      <form maxLabelWidth="60">
        <enter>
          <if expr="[/tmp/@behaviorType]==''">
            <set value="all" xpath="/tmp/@behaviorType"/>
          </if>
        </enter>
        <input enum="xtk:queryFilter:behaviorType" label="Behavior" type="sysEnum" xpath="/tmp/@behaviorType"/>
        <container colcount="1" type="visibleGroup" visibleIf="[/tmp/@segmentation]">
          <input checkedValue="false" label="Specify a delivery" type="radioButton" xpath="/tmp/@transition"/>
          <input checkedValue="true" label="Delivery specified by the transition" type="radioButton" xpath="/tmp/@transition"/>
        </container>
        <container enabledIf="[/tmp/@transition]==false" type="enabledGroup">
          <container label="Delivery" type="frame">
            <input dblClickAction="wizFinish|wizNext" exprOutCS="'Delivery \''+[/tmp/@_cs]+'\''" folderFilterChoice="@model = 'nmsDelivery'" monoSelection="true" schema="nms:delivery" type="linkListChoice" xpath="/tmp/list" xpathOut="/tmp/list" xpathOutCS="/tmp/@_cs">
              <input colSize="35" xpath="@label"/>
              <input colSize="15" xpath="@deliveryCode"/>
              <input colSize="18" xpath="@state"/>
              <input colSize="20" xpath="[scheduling/@contactDate]"/>
              <input colSize="8" xpath="[properties/@toDeliver]"/>
              <input colSize="8" xpath="[indicators/@processed]"/>
              <input colSize="8" xpath="[indicators/@success]"/>
              <sysFilter>
                <condition expr="@isModel = 0"/>
              </sysFilter>
              <orderBy>
                <node expr="@lastModified" sortDesc="true"/>
              </orderBy>
            </input>
          </container>
        </container>
        <container type="visibleGroup" visibleIf="[/tmp/@behaviorType]='open' or [/tmp/@behaviorType]='click'">
          <input label="Filter by URL label" type="edit" xpath="/tmp/@urlFilter"/>
          <static label="You can specify more than one labels by using '|' (pipe) as a separator." type="help"/>
        </container>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" img="nms:campaign.png" label="Recipients of deliveries belonging to a folder" main="1" name="rcpPerDlvFolder" noStack="true" schema="nms:recipient">
      <form>
        <enter>
          <if expr="[/tmp/@behaviorType]==''">
            <set value="all" xpath="/tmp/@behaviorType"/>
          </if>
        </enter>
        <container colcount="2">
          <input enum="xtk:queryFilter:behaviorType" label="Behavior" type="sysEnum" xpath="/tmp/@behaviorType"/>
          <input label="Include sub-folders" type="checkbox" xpath="/tmp/@children"/>
        </container>
        <container label="Folder" type="frame">
          <input dblClickAction="wizFinish|wizNext" exprOutCS="'Folder \''+[/tmp/@_cs]+'\''" folderFilter="@model = 'nmsDelivery'" mustHaveSelected="true" navTreeUnSelected="true" type="navTreeList" xpath="/tmp/list" xpathOutCS="/tmp/@_cs" xpathOutId="/tmp/list/delivery/@id">
            <sysFilter>
              <condition expr="@model = 'nmsDelivery'"/>
            </sysFilter>
          </input>
        </container>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
      <where filteringSchema="nms:recipient"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By message and reason" name="brLogByMsg" schema="nms:broadLogRcp">
      <where filteringSchema="nms:broadLogRcp">
        <condition enabledIf="$(/tmp/@message) != ''" expr="[msg/@text] LIKE '%' + $(/tmp/@message) + '%'" internalId="1"/>
        <condition boolOperator="AND" enabledIf="$(msg/@failureReason)!=99" expr="[msg/@failureReason] = $(msg/@failureReason)" internalId="2"/>
      </where>
      <form colcount="2">
        <input label="Message contains" noTransaction="true" xpath="/tmp/@message"/>
        <input addEmptyValue="99" noTransaction="true" xpath="msg/@failureReason"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By address" name="brLogByAddress" schema="nms:broadLogRcp">
      <where filteringSchema="nms:broadLogRcp">
        <condition enabledIf="$(@address) != ''" expr="@address LIKE '%' + $(@address) + '%'" internalId="1"/>
      </where>
      <form>
        <input label="Address contains" noTransaction="true" xpath="@address"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By Status" name="brLogByType" schema="nms:broadLogRcp">
      <where filteringSchema="nms:broadLogRcp">
        <condition expr="@status = $(@status)" internalId="1"/>
      </where>
      <form>
        <input noTransaction="true" xpath="@status"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter img="nms:quarantine.png" label="Address moved to quarantine" name="msgInQuarantine" schema="nms:broadLog">
      <where filteringSchema="nms:broadLog">
        <condition expr="@quarantine = 1" internalId="1"/>
      </where>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By URL type or label" name="trLogByType" schema="nms:trackingLog">
      <where filteringSchema="nms:trackingLog">
        <condition boolOperator="AND" enabledIf="$(url/@type) > 0" expr="[url/@type] = $(url/@type)" internalId="1"/>
        <condition enabledIf="$(url/@label) != ''" expr="[url/@label] LIKE '%' + $(url/@label) + '%'" internalId="1110895172"/>
      </where>
      <form colcount="2">
        <input noTransaction="true" xpath="url/@type"/>
        <input noTransaction="true" xpath="url/@label"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By address or status" name="byAddress" schema="nms:address">
      <where filteringSchema="nms:address">
        <condition boolOperator="AND" enabledIf="$(@address)!=''" expr="@address LIKE lower($(@address)) + '%'" internalId="1"/>
        <condition enabledIf="$(@status) > 0" expr="@status = $(@status)" internalId="2"/>
      </where>
      <form colcount="2">
        <input noTransaction="true" xpath="@address"/>
        <input noTransaction="true" xpath="@status"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By delivery channel" name="byTypeAddress" schema="nms:address">
      <where filteringSchema="nms:address">
        <condition expr="@type = $short(/tmp/@type)" internalId="1"/>
      </where>
      <form>
        <input enum="nms:delivery:messageType" label="Delivery channel" noTransaction="true" type="sysEnum" xpath="/tmp/@type"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name" name="byNameDomain" schema="nms:domain">
      <where filteringSchema="nms:domain">
        <condition enabledIf="$(/tmp/@text) != ''" expr="@domain LIKE '%' + $(/tmp/@text) + '%'" internalId="1"/>
      </where>
      <form>
        <input label="Domain name contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name or label" name="byNameOrLabelIncludeView" schema="nms:includeView">
      <where filteringSchema="nms:includeView">
        <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="Upper(@label) LIKE '%' + Upper($(/tmp/@text)) + '%'" internalId="1"/>
        <condition enabledIf="$(/tmp/@text) != ''" expr="Upper(@name) LIKE '%' + Upper($(/tmp/@text)) + '%'" internalId="2"/>
      </where>
      <form>
        <input label="Name or label contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name or label" name="byNameOrLabelService" schema="nms:service">
      <where filteringSchema="nms:service">
        <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="@label LIKE '%' + $(/tmp/@text) + '%'" internalId="1"/>
        <condition enabledIf="$(/tmp/@text) != ''" expr="@name LIKE '%' + $(/tmp/@text) + '%'" internalId="2"/>
      </where>
      <form>
        <input label="Name or label contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By identifier or label" name="byNameOrIdTag" schema="nms:trackingUrl">
      <where filteringSchema="nms:trackingUrl">
        <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="@label LIKE '%' + $(/tmp/@text) + '%'" internalId="1"/>
        <condition enabledIf="$(/tmp/@text) != ''" expr="@tagId LIKE '%' + $(/tmp/@text) + '%'" internalId="2"/>
      </where>
      <form maxLabelWidth="200">
        <input label="Identifier or label contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name or label" name="byNameOrLabelTypoRule" schema="nms:typologyRule">
      <where filteringSchema="nms:typologyRule">
        <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="@label LIKE '%' + $(/tmp/@text) + '%'" internalId="1"/>
        <condition enabledIf="$(/tmp/@text) != ''" expr="@name LIKE '%' + $(/tmp/@text) + '%'" internalId="2"/>
      </where>
      <form>
        <input label="Name or label contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By label" name="byLabelGroup" schema="nms:group">
      <where filteringSchema="nms:group">
        <condition enabledIf="$(/tmp/@text) != ''" expr="Upper(@label) LIKE '%' + Upper($(/tmp/@text)) + '%'" internalId="1"/>
      </where>
      <form>
        <input label="Label contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By label or type" name="byLabelOrTypeDelivery" schema="nms:delivery">
      <where filteringSchema="nms:delivery">
        <condition boolOperator="AND" enabledIf="$(/tmp/@text) != ''" expr="@label LIKE '%' + $(/tmp/@text) + '%'" internalId="1"/>
        <condition enabledIf="$(/tmp/@messageType) != 'none'" expr="@messageType = $short(/tmp/@messageType)" internalId="2"/>
      </where>
      <form colcount="2">
        <input label="Label contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
        <input addEmptyValue="none" enum="nms:delivery:messageType" label="Type" noTransaction="true" type="sysenum" xpath="/tmp/@messageType"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By status" name="byStateDelivery" schema="nms:delivery">
      <where filteringSchema="nms:delivery">
        <condition expr="@state = $short(/tmp/@state)" internalId="1"/>
      </where>
      <form>
        <input enum="nms:delivery:deliveryState" label="Status" noTransaction="true" type="sysenum" xpath="/tmp/@state"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter label="Being delivered by the platform" name="runningDeliveries" schema="nms:delivery">
      <where filteringSchema="nms:delivery">
        <condition boolOperator="AND" expr="@isModel = 0" internalId="1"/>
        <condition boolOperator="AND" expr="@deliveryMode = 1" internalId="2"/>
        <condition boolOperator="AND" internalId="3">
          <condition boolOperator="OR" expr="@state = 51" internalId="4"/>
          <condition boolOperator="OR" expr="@state = 55" internalId="5"/>
          <condition boolOperator="OR" expr="@state = 61" internalId="6"/>
          <condition expr="@state = 62" internalId="7"/>
        </condition>
      </where>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name or label" name="byNameOrLabelWebApp" schema="nms:webApp">
      <where filteringSchema="nms:webApp">
        <condition boolOperator="AND" enabledIf="$(@nature)!=''" expr="@nature = $(@nature)" internalId="1587218205"/>
        <condition boolOperator="AND" internalId="1587218206">
          <condition boolOperator="OR" enabledIf="$(/tmp/@text) != ''" expr="Upper(@label) LIKE '%' + Upper($(/tmp/@text)) + '%'" internalId="1"/>
          <condition enabledIf="$(/tmp/@text) != ''" expr="Upper(@internalName) LIKE '%' + Upper($(/tmp/@text)) + '%'" internalId="2"/>
        </condition>
      </where>
      <form colcount="2">
        <input label="Name or label contains" noTransaction="true" type="edit" xpath="/tmp/@text"/>
        <input noTransaction="true" xpath="@nature"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By label or address" name="byLabelOrAddress" schema="nms:seedMember">
      <where filteringSchema="nms:seedMember">
        <condition boolOperator="AND" enabledIf="$(@label)!=''" expr="Upper(@label) LIKE upper($(@label)) + '%'" internalId="1"/>
        <condition enabledIf="$(custom_nms_broadLog/@address)!=''" expr="Lower([custom_nms_broadLog/@address]) LIKE Lower($(custom_nms_broadLog/@address)) + '%'" internalId="2"/>
      </where>
      <form colcount="2">
        <input noTransaction="true" xpath="@label"/>
        <input noTransaction="true" type="edit" xpath="custom_nms_broadLog/@address"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By message and reason" name="brLogMsgByMsg" schema="nms:broadLogMsg">
      <where filteringSchema="nms:broadLogMsg">
        <condition enabledIf="$(/tmp/@message) != ''" expr="@text LIKE '%' + $(/tmp/@message) + '%'" internalId="1"/>
        <condition boolOperator="AND" enabledIf="$(@failureReason)!=99" expr="@failureReason = $(@failureReason)" internalId="2"/>
      </where>
      <form colcount="2">
        <input label="Message contains" noTransaction="true" xpath="/tmp/@message"/>
        <input addEmptyValue="99" noTransaction="true" xpath="@failureReason"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter default="1" hasForm="1" label="By name or origin" name="defaultVisitor" schema="nms:visitor">
      <where filteringSchema="nms:visitor">
        <condition boolOperator="OR" enabledIf="$(@lastName)!=''" expr="Upper(@lastName) LIKE '%' + Upper($(@lastName)) + '%'" internalId="1301862763"/>
        <condition enabledIf="$(/tmp/@origin)!=''" expr="@origin = $(/tmp/@origin)" internalId="1301862823"/>
      </where>
      <form colcount="2">
        <input noTransaction="true" xpath="@lastName"/>
        <input addEmptyValue="true" enum="nms:visitor:origin" label="State" noTransaction="true" type="sysenum" xpath="/tmp/@origin"/>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" label="Last activity by device type (Tracking)" name="trckLastActivity" schema="nms:trackingLogRcp">
      <where filteringSchema="nms:trackingLogRcp">
        <condition boolOperator="AND" enabledIf="$(/tmp/@device) != ''" expr="ToString([userAgent/@isMobile]) = $(/tmp/@device)" internalId="1398800648"/>
        <condition boolOperator="AND" enabledIf="$(/tmp/@days) != '' and $long(/tmp/@days) > 0" expr="@logDate >= DaysAgo($long(/tmp/@days))" internalId="1411645706"/>
        <condition boolOperator="AND" expr="[url/@type] IN (1 , 2)" internalId="1419444498"/>
        <condition enabledIf="$(/tmp/@deliveryId) != ''" expr="[delivery/@id] = $(/tmp/@deliveryId)" internalId="3285058116"/>
      </where>
      <form colcount="2" maxLabelWidth="300">
        <enter>
          <set value="30" xpath="/tmp/@days"/>
          <set value="" xpath="/tmp/deviceList/enum[1]/@name"/>
          <set value="(Aucune valeur)" xpath="/tmp/deviceList/enum[1]/@label"/>
          <set value="true" xpath="/tmp/deviceList/enum[2]/@name"/>
          <set value="Mobile" xpath="/tmp/deviceList/enum[2]/@label"/>
          <set value="false" xpath="/tmp/deviceList/enum[3]/@name"/>
          <set value="Fixes" xpath="/tmp/deviceList/enum[3]/@label"/>
          <set expr="[/tmp/deviceList]" xpath="/tmp/deviceList"/>
          <set value="" xpath="/tmp/@device"/>
        </enter>
        <input computeStringAlias="/tmp/@cs" createMode="none" label="Opened or clicked the delivery" noTransaction="true" schema="nms:delivery" type="linkEdit" xpath="/tmp/@deliveryId">
          <sysFilter>
            <condition expr="@isModel = 0"/>
            <condition expr="@messageType = 0"/>
          </sysFilter>
        </input>
        <input enumXPath="/tmp/deviceList" label="On the device type" noTransaction="true" type="DynEnumCombo" xpath="/tmp/@device"/>
        <input label="In the last (days)" minValue="0" noTransaction="true" type="number" xpath="/tmp/@days"/>
        <static img="xtk:logmsg.png" type="help">The value '0' disables the corresponding condition.</static>
      </form>
      <folder _operation="none" name="xtkQueryFilter"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By number of messages received" name="rcpByNbOfSent" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition boolOperator="AND" enabledIf="$(/tmp/@min) != '' and $long(/tmp/@min) > 0" expr="[broadLog/@id] >= $long(/tmp/@min)" internalId="1208549387" setOperator="COUNT">
          <condition boolOperator="AND" expr="@status = 1" internalId="1212219405"/>
          <condition boolOperator="AND" enabledIf="$(/tmp/@months) != '' and $long(/tmp/@months) > 0" expr="@eventDate >= MonthsAgo($long(/tmp/@months))" internalId="1214382095"/>
          <condition enabledIf="$(/tmp/@messageType) != '' and $(/tmp/@messageType) != 'none'" expr="[delivery/@messageType] = $(/tmp/@messageType)" internalId="1223753757"/>
        </condition>
        <condition boolOperator="AND" enabledIf="$(/tmp/@max) != '' and $long(/tmp/@max) > 0" expr="[broadLog/@id] &lt;= $long(/tmp/@max)" internalId="1233190946" setOperator="COUNT">
          <condition boolOperator="AND" expr="@status = 1" internalId="1235681319"/>
          <condition boolOperator="AND" enabledIf="$(/tmp/@months) != '' and $long(/tmp/@months) > 0" expr="@eventDate >= MonthsAgo($long(/tmp/@months))" internalId="1237188649"/>
          <condition enabledIf="$(/tmp/@messageType) != '' and $(/tmp/@messageType) != 'none'" expr="[delivery/@messageType] = $(/tmp/@messageType)" internalId="3165782361"/>
        </condition>
      </where>
      <form maxLabelWidth="300">
        <enter>
          <set value="0" xpath="/tmp/@min"/>
          <set value="0" xpath="/tmp/@max"/>
          <set value="6" xpath="/tmp/@months"/>
          <set value="0" xpath="/tmp/@messageType"/>
        </enter>
        <container colcount="2">
          <container colcount="3" colspan="2">
            <input label="Number of messages received between" minValue="0" noTransaction="true" type="number" xpath="/tmp/@min"/>
            <input label="And" minValue="0" noTransaction="true" type="number" xpath="/tmp/@max"/>
            <container type="visibleGroup" visibleIf="[/tmp/@max] &lt; [/tmp/@min]">
              <static type="warning">The maximum value is less than the minimum value.</static>
            </container>
          </container>
          <input label="In the last (months)" minValue="0" noTransaction="true" type="number" xpath="/tmp/@months"/>
          <input addEmptyValue="none" enum="nms:delivery:messageType" label="Via" noTransaction="true" type="sysEnum" xpath="/tmp/@messageType"/>
        </container>
        <static img="xtk:logmsg.png" type="help">The value '0' disables the corresponding condition.</static>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By age range" name="rcpByAgeRange" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition boolOperator="AND" enabledIf="$(/tmp/@min) != '' and $long(/tmp/@min) > 0" expr="@age >= $long(/tmp/@min)" internalId="1124204551"/>
        <condition enabledIf="$(/tmp/@max) != '' and $long(/tmp/@max) > 0" expr="@age &lt;= $long(/tmp/@max)" internalId="1126498313"/>
      </where>
      <form colcount="3">
        <enter>
          <set value="0" xpath="/tmp/@min"/>
          <set value="0" xpath="/tmp/@max"/>
        </enter>
        <container colcount="2">
          <input label="Minimum age" minValue="0" noTransaction="true" type="number" xpath="/tmp/@min"/>
          <input label="Maximum age" minValue="0" noTransaction="true" type="number" xpath="/tmp/@max"/>
        </container>
        <container type="visibleGroup" visibleIf="[/tmp/@max] &lt; [/tmp/@min]">
          <static type="warning">The maximum value is less than the minimum value.</static>
        </container>
        <static img="xtk:logmsg.png" type="help">The value '0' disables the corresponding condition.</static>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="Neither opened nor clicked" name="rcpNoReaction" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition boolOperator="AND" enabledIf="$(/tmp/@deliveryId) != ''" expr="broadLog" internalId="3580108516" setOperator="EXISTS">
          <condition boolOperator="AND" expr="[delivery/@id] = $(/tmp/@deliveryId)" internalId="3580108517"/>
          <condition expr="@status = 1" internalId="3585081631"/>
        </condition>
        <condition boolOperator="AND" enabledIf="$(/tmp/@deliveryId) != ''" expr="trackingLog" internalId="3580108518" setOperator="NOT EXISTS">
          <condition boolOperator="AND" expr="[delivery/@id] = $(/tmp/@deliveryId)" internalId="3580108519"/>
        </condition>
      </where>
      <form maxLabelWidth="300">
        <input computeStringAlias="/tmp/@cs" label="Neither opened nor clicked the delivery" noTransaction="true" schema="nms:delivery" type="linkEdit" xpath="/tmp/@deliveryId">
          <sysFilter>
            <condition expr="@isModel = 0"/>
            <condition expr="@messageType = 0"/>
          </sysFilter>
        </input>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="Last activity by device type" name="rcpLastActivity" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition expr="trackingLog" internalId="1398341894" setOperator="EXISTS">
          <condition boolOperator="AND" enabledIf="$(/tmp/@device) != ''" expr="ToString([userAgent/@isMobile]) = $(/tmp/@device)" internalId="1398800648"/>
          <condition boolOperator="AND" enabledIf="$(/tmp/@days) != '' and $long(/tmp/@days) > 0" expr="@logDate >= DaysAgo($long(/tmp/@days))" internalId="1411645706"/>
          <condition boolOperator="AND" expr="[url/@type] IN (1 , 2)" internalId="1419444498"/>
          <condition enabledIf="$(/tmp/@deliveryId) != ''" expr="[delivery/@id] = $(/tmp/@deliveryId)" internalId="3285058116"/>
        </condition>
      </where>
      <form colcount="2" maxLabelWidth="300">
        <enter>
          <set value="30" xpath="/tmp/@days"/>
          <set value="" xpath="/tmp/deviceList/enum[1]/@name"/>
          <set value="(Aucune valeur)" xpath="/tmp/deviceList/enum[1]/@label"/>
          <set value="true" xpath="/tmp/deviceList/enum[2]/@name"/>
          <set value="Mobile" xpath="/tmp/deviceList/enum[2]/@label"/>
          <set value="false" xpath="/tmp/deviceList/enum[3]/@name"/>
          <set value="Fixes" xpath="/tmp/deviceList/enum[3]/@label"/>
          <set expr="[/tmp/deviceList]" xpath="/tmp/deviceList"/>
          <set value="" xpath="/tmp/@device"/>
        </enter>
        <input computeStringAlias="/tmp/@cs" label="Opened or clicked the delivery" noTransaction="true" schema="nms:delivery" type="linkEdit" xpath="/tmp/@deliveryId">
          <sysFilter>
            <condition expr="@isModel = 0"/>
            <condition expr="@messageType = 0"/>
          </sysFilter>
        </input>
        <input enumXPath="/tmp/deviceList" label="On the device type" noTransaction="true" type="DynEnumCombo" xpath="/tmp/@device"/>
        <input label="In the last (days)" minValue="0" noTransaction="true" type="number" xpath="/tmp/@days"/>
        <static img="xtk:logmsg.png" type="help">The value '0' disables the corresponding condition.</static>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="New recipients (minutes)" name="rcpNewByMinute" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition enabledIf="$(/tmp/@minutes) != '' and $long(/tmp/@minutes) > 0" expr="MinutesDiff( GetDate() , @created) &lt; $long(/tmp/@minutes)" internalId="1348403369"/>
      </where>
      <form colcount="2" maxLabelWidth="300">
        <enter>
          <set value="120" xpath="/tmp/@minutes"/>
        </enter>
        <input label="Created in the last (minutes)" minValue="0" noTransaction="true" type="number" xpath="/tmp/@minutes"/>
        <static img="xtk:logmsg.png" type="help">The value '0' disables the corresponding condition.</static>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="New recipients (days)" name="rcpNewByDay" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition enabledIf="$(/tmp/@days) != '' and $long(/tmp/@days) > 0" expr="@created >= DaysAgo($long(/tmp/@days))" internalId="1335820449"/>
      </where>
      <form colcount="2" maxLabelWidth="300">
        <enter>
          <set value="30" xpath="/tmp/@days"/>
        </enter>
        <input label="Created in the last (days)" minValue="0" noTransaction="true" type="number" xpath="/tmp/@days"/>
        <static img="xtk:logmsg.png" type="help">The value '0' disables the corresponding condition.</static>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="New recipients (months)" name="rcpNewByMonth" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition enabledIf="$(/tmp/@months) != '' and $long(/tmp/@months) > 0" expr="@created >= MonthsAgo($long(/tmp/@months))" internalId="1330446493"/>
      </where>
      <form colcount="2" maxLabelWidth="300">
        <enter>
          <set value="6" xpath="/tmp/@months"/>
        </enter>
        <input label="Created in the last (months)" minValue="0" noTransaction="true" type="number" xpath="/tmp/@months"/>
        <static img="xtk:logmsg.png" type="help">The value '0' disables the corresponding condition.</static>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="Opened but not clicked" name="rcpOpenNoClick" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition boolOperator="AND" enabledIf="$(/tmp/@deliveryId) != ''" expr="broadLog" internalId="1309737184" setOperator="EXISTS">
          <condition boolOperator="AND" expr="[delivery/@id] = $(/tmp/@deliveryId)" internalId="1314717922"/>
          <condition expr="@status = 1" internalId="3585868075"/>
        </condition>
        <condition boolOperator="AND" enabledIf="$(/tmp/@deliveryId) != ''" expr="trackingLog" internalId="1320354027" setOperator="EXISTS">
          <condition boolOperator="AND" expr="[delivery/@id] = $(/tmp/@deliveryId)" internalId="3202875884"/>
          <condition expr="[url/@type] = 2" internalId="3575054602"/>
        </condition>
        <condition boolOperator="AND" enabledIf="$(/tmp/@deliveryId) != ''" expr="trackingLog" internalId="1320354026" setOperator="NOT EXISTS">
          <condition boolOperator="AND" expr="[delivery/@id] = $(/tmp/@deliveryId)" internalId="3202875883"/>
          <condition expr="[url/@type] = 1" internalId="3575054601"/>
        </condition>
      </where>
      <form maxLabelWidth="300">
        <input computeStringAlias="/tmp/@cs" label="Opened without clicking the delivery" noTransaction="true" schema="nms:delivery" type="linkEdit" xpath="/tmp/@deliveryId">
          <sysFilter>
            <condition expr="@isModel = 0"/>
            <condition expr="@messageType = 0"/>
          </sysFilter>
        </input>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By creation date" name="rcpByCreationRange" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition boolOperator="AND" enabledIf="$(/tmp/@max) != '' and $long(/tmp/@max) > 0" expr="@created >= MonthsAgo($long(/tmp/@max))" internalId="1307443341"/>
        <condition enabledIf="$(/tmp/@min) != '' and $long(/tmp/@min) > 0" expr="@created &lt;= MonthsAgo($long(/tmp/@min))" internalId="1310916751"/>
      </where>
      <form colcount="2">
        <enter>
          <set value="0" xpath="/tmp/@min"/>
          <set value="6" xpath="/tmp/@max"/>
        </enter>
        <container colcount="2">
          <input label="Created between (in months ago)" minValue="0" noTransaction="true" type="number" xpath="/tmp/@min"/>
          <input label="And" minValue="0" noTransaction="true" type="number" xpath="/tmp/@max"/>
        </container>
        <container type="visibleGroup" visibleIf="[/tmp/@max] &lt; [/tmp/@min]">
          <static type="warning">The maximum value is less than the minimum value.</static>
        </container>
        <static img="xtk:logmsg.png" type="help">The value '0' disables the corresponding condition.</static>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By number of clicks" name="rcpByNbOfClicks" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition boolOperator="AND" enabledIf="$(/tmp/@min) != '' and $long(/tmp/@min) > 0" expr="[trackingLog/@id] >= $long(/tmp/@min)" internalId="1264845595" setOperator="COUNTDISTINCT">
          <condition boolOperator="AND" enabledIf="$(/tmp/@months) != '' and $long(/tmp/@months) > 0" expr="@logDate >= MonthsAgo($long(/tmp/@months))" internalId="1264845596"/>
          <condition boolOperator="AND" expr="[url/@type] = 1" internalId="1264845597"/>
        </condition>
        <condition boolOperator="AND" enabledIf="$(/tmp/@max) != '' and $long(/tmp/@max) > 0" expr="[trackingLog/@id] &lt;= $long(/tmp/@max)" internalId="1264845599" setOperator="COUNTDISTINCT">
          <condition boolOperator="AND" enabledIf="$(/tmp/@months) != '' and $long(/tmp/@months) > 0" expr="@logDate >= MonthsAgo($long(/tmp/@months))" internalId="1264845600"/>
          <condition boolOperator="AND" expr="[url/@type] = 1" internalId="1264845601"/>
        </condition>
      </where>
      <form maxLabelWidth="300">
        <enter>
          <set value="0" xpath="/tmp/@min"/>
          <set value="0" xpath="/tmp/@max"/>
          <set value="6" xpath="/tmp/@months"/>
        </enter>
        <container colcount="3">
          <input label="Number of clicks between" minValue="0" noTransaction="true" type="number" xpath="/tmp/@min"/>
          <input label="And" minValue="0" noTransaction="true" type="number" xpath="/tmp/@max"/>
          <container type="visibleGroup" visibleIf="[/tmp/@max] &lt; [/tmp/@min]">
            <static type="warning">The maximum value is less than the minimum value.</static>
          </container>
          <input label="In the last (months)" minValue="0" noTransaction="true" type="number" xpath="/tmp/@months"/>
        </container>
        <static img="xtk:logmsg.png" type="help">The value '0' disables the corresponding condition.</static>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="By number of opens" name="rcpByNbOfOpen" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition boolOperator="AND" enabledIf="$(/tmp/@min) != '' and $long(/tmp/@min) > 0" expr="[trackingLog/@id] >= $long(/tmp/@min)" internalId="1211695153" setOperator="COUNTDISTINCT">
          <condition boolOperator="AND" enabledIf="$(/tmp/@months) != '' and $long(/tmp/@months) > 0" expr="@logDate >= MonthsAgo($long(/tmp/@months))" internalId="1227620409"/>
          <condition boolOperator="AND" expr="[url/@type] = 2" internalId="1238958145"/>
        </condition>
        <condition boolOperator="AND" enabledIf="$(/tmp/@max) != '' and $long(/tmp/@max) > 0" expr="[trackingLog/@id] &lt;= $long(/tmp/@max)" internalId="1221197877" setOperator="COUNTDISTINCT">
          <condition boolOperator="AND" enabledIf="$(/tmp/@months) != '' and $long(/tmp/@months) > 0" expr="@logDate >= MonthsAgo($long(/tmp/@months))" internalId="1221722167"/>
          <condition boolOperator="AND" expr="[url/@type] = 2" internalId="1239679043"/>
        </condition>
      </where>
      <form maxLabelWidth="300">
        <enter>
          <set value="0" xpath="/tmp/@min"/>
          <set value="0" xpath="/tmp/@max"/>
          <set value="6" xpath="/tmp/@months"/>
        </enter>
        <container colcount="3">
          <input label="Number of opens between" minValue="0" noTransaction="true" type="number" xpath="/tmp/@min"/>
          <input label="And" minValue="0" noTransaction="true" type="number" xpath="/tmp/@max"/>
          <container type="visibleGroup" visibleIf="[/tmp/@max] &lt; [/tmp/@min]">
            <static type="warning">The maximum value is less than the minimum value.</static>
          </container>
          <input label="In the last (months)" minValue="0" noTransaction="true" type="number" xpath="/tmp/@months"/>
        </container>
        <static img="xtk:logmsg.png" type="help">The value '0' disables the corresponding condition.</static>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="Inactive recipients" name="rcpInactive" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition boolOperator="AND" enabledIf="$(/tmp/@months) != '' and $long(/tmp/@months) > 0" expr="trackingLog" internalId="1127546895" setOperator="NOT EXISTS">
          <condition expr="@logDate >= MonthsAgo($long(/tmp/@months))" internalId="1139146771"/>
        </condition>
        <condition boolOperator="AND" enabledIf="$(/tmp/@months) != '' and $long(/tmp/@months) > 0" expr="broadLog" internalId="1142489111" setOperator="EXISTS">
          <condition boolOperator="AND" expr="@status = 1" internalId="1143013401"/>
          <condition expr="@eventDate >= MonthsAgo($long(/tmp/@months))" internalId="1147994139"/>
        </condition>
      </where>
      <form colcount="2" maxLabelWidth="300">
        <enter>
          <set value="6" xpath="/tmp/@months"/>
        </enter>
        <input label="No clicks or opens in the last (months)" minValue="0" noTransaction="true" type="number" xpath="/tmp/@months"/>
        <static img="xtk:logmsg.png" type="help">The value '0' disables the corresponding condition.</static>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="Very active recipients" name="rcpSuperActive" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition enabledIf="$(/tmp/@num) != '' and $long(/tmp/@num) > 0" expr="[trackingLog/@id] >= $long(/tmp/@num)" internalId="1263730761" setOperator="COUNT">
          <condition boolOperator="AND" enabledIf="$(/tmp/@months) != '' and $long(/tmp/@months) > 0" expr="@logDate >= MonthsAgo($long(/tmp/@months))" internalId="1266155595"/>
          <condition expr="[url/@type] = 1" internalId="3488546853"/>
        </condition>
      </where>
      <form colcount="3">
        <enter>
          <set value="3" xpath="/tmp/@num"/>
          <set value="6" xpath="/tmp/@months"/>
        </enter>
        <input label="Clicked more than" minValue="0" noTransaction="true" type="number" xpath="/tmp/@num"/>
        <input label="In the last (months)" minValue="0" noTransaction="true" type="number" xpath="/tmp/@months"/>
        <static img="xtk:logmsg.png" type="help">The value '0' disables the corresponding condition.</static>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
    <queryFilter hasForm="1" label="Untargeted recipients" name="rcpNeverTargetted" schema="nms:recipient">
      <where filteringSchema="nms:recipient">
        <condition enabledIf="$(/tmp/@months) != '' and $long(/tmp/@months) > 0" expr="broadLog" internalId="1158152281" setOperator="NOT EXISTS">
          <condition boolOperator="AND" expr="@eventDate >= MonthsAgo($long(/tmp/@months))" internalId="1158807643"/>
          <condition enabledIf="$(/tmp/@messageType) != '' and $(/tmp/@messageType) != 'none'" expr="[delivery/@messageType] = $(/tmp/@messageType)" internalId="3149594939"/>
        </condition>
      </where>
      <form maxLabelWidth="300">
        <enter>
          <set value="6" xpath="/tmp/@months"/>
          <set value="0" xpath="/tmp/@messageType"/>
        </enter>
        <container colcount="2">
          <input label="Not targeted in the last (months)" minValue="0" noTransaction="true" type="number" xpath="/tmp/@months"/>
          <input addEmptyValue="none" enum="nms:delivery:messageType" label="Via the channel" noTransaction="true" type="sysEnum" xpath="/tmp/@messageType"/>
        </container>
        <static img="xtk:logmsg.png" type="help">The value '0' disables the corresponding condition.</static>
      </form>
      <folder _operation="none" name="nmsSegment"/>
    </queryFilter>
  </entities>
  <entities schema="xtk:report">
    <report appState="5" builtIn="1" category="Feedback" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/table.png" internalName="statisticsPerDelivery" isGlobal="1" label="Broadcast statistics" modelName="fullReport" order="2" prefered="1" schema="nms:delivery">
      <properties renderingEngine="1" windowTitle="&lt;%== ctx.title %>"/>
      <variables>
        <variable label="Folder" xpath="folder"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&amp;lt;%= $(line1) %&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;%= $(line2) %&amp;gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:delivery"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:delivery">
        <condition enabledIf="$(@_context)='selection'" expr="@messageType = 0" internalId="1289817101"/>
      </visibleIf>
      <activities>
        <page disableNextButton="true" label="Broadcast statistics" name="page" x="1016" y="176">
          <transitions>
            <next label="Select folder" name="next" target="query"/>
          </transitions>
          <container colcount="2" id="12895586241" label="Header: select folder" style="folderContainer" type="container">
            <input action="transition" id="12895587513" label="Select folder" transition="next" type="folderSelector">
              <storage mode="var">
                <variable xpath="folder"/>
              </storage>
            </input>
            <visibleIf>
              <condition id="12895751203" leftExpr="@_context" operator="=" rightExpr="'global'"/>
            </visibleIf>
          </container>
          <table id="12894062404" label="Statistics per delivery" type="tabular">
            <data schema="temp:formContext" startPath="[query/cubeSchema_deliveryLogStats]">
              <group>
                <columns>
                  <column id="128940625111" width="9.636363636363642" widthMode="max"/>
                  <column id="128940632518" width="7.818181818181793" widthMode="max"/>
                  <column id="128940653130" width="7.272727272727272" widthMode="max"/>
                  <column id="128940639122" width="7.636363636363635" widthMode="max"/>
                  <column id="128940647826" width="7.545454545454544" widthMode="max"/>
                  <column id="128940654434" width="11.090909090909075" widthMode="max"/>
                  <column id="128940655838" width="4.909090909090908" widthMode="max"/>
                  <column id="128940657542" width="7.545454545454544" widthMode="max"/>
                </columns>
                <header id="128940625112">
                  <cell id="128940625113" label="Email domain">
                    <style>
                      <border>
                        <right style="dotted"/>
                      </border>
                    </style>
                  </cell>
                  <cell id="128940632519" label="Processed emails">
                    <style alignment="right"/>
                  </cell>
                  <cell id="128940653131" label="Delivered">
                    <style alignment="right"/>
                  </cell>
                  <cell id="128940639123" label="Hard bounces">
                    <style alignment="right"/>
                  </cell>
                  <cell id="128940647827" label="Soft bounces">
                    <style alignment="right"/>
                  </cell>
                  <cell id="128940654435" label="Opens">
                    <style alignment="right"/>
                  </cell>
                  <cell id="128940655839" label="Clicks">
                    <style alignment="right"/>
                  </cell>
                  <cell id="128940657543" label="Unsubscriptions">
                    <style alignment="right"/>
                  </cell>
                </header>
                <row id="128940625114">
                  <cell expr="@domain_domainLabel" id="128940625115">
                    <style>
                      <border>
                        <right style="dotted"/>
                      </border>
                    </style>
                  </cell>
                  <cell expr="@sent" id="128940632520">
                    <style alignment="right" decimalPlaces="0" format="number"/>
                  </cell>
                  <cell alias="expr1289572866" descImgPos="none" expr="percent(@success,@sent)" id="128940653132">
                    <style alignment="right" format="percentage"/>
                  </cell>
                  <cell alias="expr1289571966" expr="percent(@hardBounce,@sent)" id="128940639124">
                    <style alignment="right" format="percentage"/>
                  </cell>
                  <cell alias="expr1289572634" descImgPos="none" expr="percent(@softBounce,@sent)" id="12895720641">
                    <style alignment="right" format="percentage"/>
                  </cell>
                  <cell alias="expr1289572795" descImgPos="none" expr="percent(@opened,@successWithoutSeeds)" id="128940654436">
                    <style alignment="right" format="percentage"/>
                  </cell>
                  <cell alias="expr1289573024" descImgPos="none" expr="percent(@clicked,@successWithoutSeeds)" id="128940655840">
                    <style alignment="right" format="percentage"/>
                  </cell>
                  <cell alias="expr1289573116" descImgPos="none" expr="percent(@optOut,@successWithoutSeeds)" id="128940657544">
                    <style alignment="right" format="percentage"/>
                  </cell>
                </row>
                <footer id="128940625116">
                  <cell descImgPos="none" id="128940625117" label="Total">
                    <style alignment="right">
                      <font color="#707070" style="bold"/>
                      <border>
                        <right style="dotted"/>
                      </border>
                    </style>
                    <desc>&lt;STRONG&gt;&lt;/STRONG&gt;</desc>
                  </cell>
                  <cell descImgPos="none" expr="Sum(@sent)" id="128940632521">
                    <style alignment="right" decimalPlaces="0" format="number">
                      <font color="#707070" style="bold"/>
                    </style>
                  </cell>
                  <cell alias="expr1289572744" descImgPos="none" expr="percent(Sum(@success),Sum(@sent))" id="128940653133">
                    <style alignment="right" format="percentage">
                      <font color="#707070" style="bold"/>
                    </style>
                  </cell>
                  <cell alias="expr1289572125" descImgPos="none" expr="Percent(Sum(@hardBounce),Sum(@sent))" id="128940639125">
                    <style alignment="right" format="percentage">
                      <font color="#707070" style="bold"/>
                    </style>
                  </cell>
                  <cell alias="expr1289572678" descImgPos="none" expr="percent(Sum(@softBounce),Sum(@sent))" id="128940647829">
                    <style alignment="right" format="percentage">
                      <font color="#707070" style="bold"/>
                    </style>
                  </cell>
                  <cell alias="expr1289572820" descImgPos="none" expr="percent(Sum(@opened),Sum(@successWithoutSeeds))" id="128940654437">
                    <style alignment="right" format="percentage">
                      <font color="#707070" style="bold"/>
                    </style>
                  </cell>
                  <cell alias="expr1289573062" descImgPos="none" expr="percent(Sum(@clicked),Sum(@successWithoutSeeds))" id="128940655841">
                    <style alignment="right" format="percentage">
                      <font color="#707070" style="bold"/>
                    </style>
                  </cell>
                  <cell alias="expr1289573154" descImgPos="none" expr="percent(Sum(@optOut),Sum(@successWithoutSeeds))" id="128940657545">
                    <style alignment="right" format="percentage">
                      <font color="#707070" style="bold"/>
                    </style>
                  </cell>
                </footer>
              </group>
            </data>
            <rendering inlineStyleValue="width:100%"/>
          </table>
        </page>
        <test label="Display context" name="test" x="48" y="128">
          <transitions>
            <condition label="Global" name="transition1" target="script">
              <condition id="12103298890" leftExpr="@_context" operator="=" rightExpr="'global'"/>
            </condition>
            <default label="Delivery" name="default" target="test3"/>
          </transitions>
        </test>
        <test label="Entity type" name="test3" x="208" y="80">
          <transitions>
            <condition label="Campaign" name="transition1" target="query5">
              <condition id="12482839931" leftExpr="@_schema" operator="=" rightExpr="'nms:operation'"/>
            </condition>
            <default label="Delivery" name="default" target="query2"/>
          </transitions>
        </test>
        <script label="Sub-title" name="script" x="504" y="184">
          <transitions>
            <next name="next" target="query"/>
          </transitions>
          <code>if( ctx.label.@label != undefined )
{
if( ctx.@_schema == "nms:operation" )
ctx.title = $(operation) + ctx.label.@label
else
ctx.title = $(action) + ctx.label.@label
}
else if( ctx.@_context == "selection" )
ctx.title = ""
else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; (ctx.vars.folder.@isView == "1" || ctx.vars.folder.@isView == "true") )
ctx.title = $(folderView)  + ' (' + ctx.vars.folder.@label + ')'
else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; ctx.vars.folder.@id != 0 &amp;&amp; ctx.vars.folder.@fullName != "" &amp;&amp; ctx.vars.folder.@fullName != "/" )
ctx.title = $(folder)  + ' (' + ctx.vars.folder.@label + ')'
else
ctx.title = $(globalContextLabel)</code>
          <strings>
            <string id="globalContextLabel" value="Whole platform"/>
            <string id="action" value="Delivery: "/>
            <string id="folder" value="Deliveries in the folder"/>
            <string id="folderView" value="Deliveries in the view"/>
            <string id="operation" value="Campaign: "/>
          </strings>
        </script>
        <script label="Data modification" name="script2" x="848" y="176">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <code>var query = &lt;query/&gt;
var other = undefined
for each( var cubeSchema in ctx.query.cubeSchema_deliveryLogStats )
{
if( cubeSchema.@domain_domain == "0" )
{
other = cubeSchema
continue
}
query.appendChild(cubeSchema)
}
if( other != undefined )
query.appendChild(other)
ctx.query = query</code>
        </script>
        <query contextFilter="true" label="Delivery label" name="query2" x="352" y="128">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:delivery"/>
            <select>
              <node expr="@label" sort="true"/>
            </select>
            <orderBy displayOrder="Libellé"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/label"/>
        </query>
        <query label="Label of the campaign" name="query5" x="368" y="48">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:operation">
            <where filterName="backGroundFilterFrm">
              <condition expr="@id = $(@_selection)" internalId="1248283664"/>
            </where>
            <select>
              <node expr="@label" sort="true"/>
            </select>
            <orderBy displayOrder="Libellé"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/label"/>
        </query>
        <query contextFilter="false" contextLink="[delivery_delivery/@id]" cubeData-cs="Delivery and tracking statistics (deliveryLogStats)" folderFilter="true" folderVariable="folder" inputType="2" label="Data" name="query" x="672" y="176">
          <transitions>
            <next name="next" target="script2"/>
          </transitions>
          <source schema="temp:cubeSchema_deliveryLogStats">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" enabledIf="$(@_schema)='nms:delivery' AND $(@_context)!='global'" expr="[delivery_delivery/@id] IN ($noescaping([/@_selection]))" internalId="1289580622"/>
              <condition boolOperator="AND" enabledIf="$(@_schema)='nms:operation' AND $(@_context)!='global'" expr="[delivery_delivery/@operation-id] IN ($noescaping([/@_selection]))" internalId="1289580752"/>
              <condition enabledIf="$(@_schema)='nms:operation'" expr="[delivery_delivery/@FCP] = 0" internalId="1289580772"/>
              <condition expr="[delivery_delivery/@messageType] = 0" internalId="1289817101"/>
            </where>
            <select>
              <node analyze="1" expr="@domain_domain" sort="true"/>
              <node alias="@success" expr="@success" sort="true"/>
              <node alias="@optOut" expr="@optOut" sort="true"/>
              <node alias="@hardBounce" expr="@hardBounce" sort="true"/>
              <node alias="@softBounce" expr="@softBounce" sort="true"/>
              <node alias="@clicked" expr="@personClick" sort="true"/>
              <node alias="@opened" expr="@recipientOpen" sort="true"/>
              <node alias="@sent" expr="@processed" sort="true"/>
              <node alias="@successWithoutSeeds" expr="@successWithoutSeeds"/>
            </select>
            <orderBy displayOrder="nombre de messages traité (descendant)">
              <node expr="@processed" sort="1" sortDesc="1"/>
            </orderBy>
            <groupBy displayGroup="Domaine de l'email"/>
          </source>
          <output path="query"/>
          <cubeData _operation="none" name="deliveryLogStats"/>
        </query>
      </activities>
      <desc>Statistics (processed messages, delivered messages, hard bounces, soft bounces, clicks, unsubscriptions) per email domain.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Feedback" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/pie.png" internalName="trackingStatistics" isGlobal="0" label="Tracking statistics" multiselection="0" schema="nms:delivery">
      <properties renderingEngine="1" windowTitle="Delivery: &lt;%== ctx.data.delivery.@label %>"/>
      <variables>
        <variable default="604800" label="Period" type="long" xpath="/period"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:delivery"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:delivery">
        <condition expr="trackingStats" internalId="1215427197" setOperator="EXISTS"/>
        <condition boolOperator="AND" expr="@messageType = 0" internalId="1373286518"/>
      </visibleIf>
      <activities>
        <page label="Tracking statistics" name="page" x="176" y="16">
          <transitions>
            <next enabled="false" name="next"/>
          </transitions>
          <javascript id="12115386641" label="Script 1">
            <code>/** Find several percentiles at once. */
function findPercentiles(
  aPercentiles,  /* pre-sorted percentiles (each value is 0&lt;value&lt;1) */
  xmlElements,   /* pre-sorted xml element or collection */
  valAttrName,
  total,         /* Total must be given */
  indexAttrName)
{
  var aResults = []
  if( total &gt; 0 )
  {
    var sum = 0.0
    var iPercentIndex = 0
    var curValue = aPercentiles[iPercentIndex] * total
    for each( elem in xmlElements.children() )
    {
      sum += parseInt(elem.@[valAttrName])
      while( sum &gt; curValue )
      {
        // found value for current percentile
        aResults.push(elem.@[indexAttrName])
        iPercentIndex++
        if( iPercentIndex &gt;= aPercentiles.length )
          // All results were gathered
          return aResults
        curValue = aPercentiles[iPercentIndex] * total
      }
    }
  }
  // Fill result array with nulls for percentiles not found
  while( aResults.length &lt; aPercentiles.length )
    aResults.push('')
  return aResults
}

// If context is history, there's nothing to do
if( ctx.@_historyId.toString().length == 0 )
{
  // Compute sum of indicators regardless of selected period
  // This is needed to compute paretos
  var xmlQueryTotals = &lt;queryDef operation="get" schema="nms:trackingStats"&gt;
    &lt;select&gt;
      &lt;node alias="@beginDate3600"  expr={"TruncDate(min(@startDate), 3600)"}/&gt;
      &lt;node alias="@beginDate600" expr={"TruncDate(min(@startDate), 600)"}/&gt;
      &lt;node alias="@period"       expr={"SecondsDiff(max(@startDate), min(@startDate))"}/&gt;
      &lt;node alias="@opens"        expr="sum(Iif([@url-id]   = 1, @totalClicks, 0))"/&gt;
      &lt;node alias="@transactions" expr="sum(Iif([url/@type] = 5, @totalClicks, 0))"/&gt;
      &lt;node alias="@clicks"       expr="sum(Iif([url/@type] = 1, @totalClicks, 0))"/&gt;
    &lt;/select&gt;
    &lt;where&gt;
      &lt;condition expr={'[@delivery-id] in (' + ctx.@_selection + ')'}/&gt;
    &lt;/where&gt;
  &lt;/queryDef&gt;

  var xmlTotals = xtk.queryDef.create(xmlQueryTotals).ExecuteQuery()

  // step defaults to 1 hour
  var step = 3600
  var period = parseFloat(ctx.period)
  if( period &gt; parseFloat(xmlTotals.@period) )
    period = parseFloat(xmlTotals.@period)
  if( period &lt; 172800 )
    // but make it 10 minutes if period is short enough
    step = 600

  var beginDate = step == 600 ? xmlTotals.@beginDate600 : xmlTotals.@beginDate3600

  // Retrieve filtered/aggregated data
  var xmlQuery = &lt;queryDef schema="nms:trackingStats" operation="select"&gt;
    &lt;select&gt;
      &lt;node alias="@startDate"    expr={"TruncDate(@startDate, " + step + ")"} groupBy="true" noSqlBind="true"/&gt;
      &lt;node alias="@span"         expr={'Trunc(0.5 + SecondsDiff(TruncDate(@startDate, ' + step + '), #' + beginDate + '#), 0)'} groupBy="true" noSqlBind="true"/&gt;
      &lt;node alias="@opens"        expr="sum(Iif([@url-id]   = 1, @totalClicks, 0))"/&gt;
      &lt;node alias="@transactions" expr="sum(Iif([url/@type] = 5, @totalClicks, 0))"/&gt;
      &lt;node alias="@clicks"       expr="sum(Iif([url/@type] = 1, @totalClicks, 0))"/&gt;
    &lt;/select&gt;
    &lt;where&gt;
      &lt;condition expr={'@startDate &lt; AddSeconds(#' + beginDate + '#, ' + period + ')'}/&gt;
      &lt;condition expr={'[@delivery-id] in (' + ctx.@_selection + ')'}/&gt;
    &lt;/where&gt;
    &lt;orderBy&gt;
      &lt;node expr={"TruncDate(@startDate, " + step + ")"} noSqlBind="true"/&gt;
    &lt;/orderBy&gt;
  &lt;/queryDef&gt;

  var xmlResult = xtk.queryDef.create(xmlQuery).ExecuteQuery()

  // Make it available to the chart component
  delete ctx['trackingStats-collection']
  ctx.appendChild(xmlResult)

  if( ctx.pareto.length() == 0 )
  {
    // Find pareto for each event types
    var aPercent = [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9]
    var aParetoOpens = findPercentiles(
      aPercent,
      xmlResult,
      'opens',
      parseInt(xmlTotals.@opens),
      'span')
    var aParetoClicks = findPercentiles(
      aPercent,
      xmlResult,
      'clicks',
      parseInt(xmlTotals.@clicks),
      'span')
    var aParetoTransactions = findPercentiles(
      aPercent,
      xmlResult,
      'transactions',
      parseInt(xmlTotals.@transactions),
      'span')

    // Build XML data for the list
    var xmlPareto = &lt;pareto/&gt;
    for( var i = 1; i &lt;= 9; i++ )
    {
      xmlPareto.appendChild(
        &lt;item percent={ i / 10 }
              opens={ aParetoOpens[i - 1] }
              transactions={ aParetoTransactions[i - 1] }
              clics={ aParetoClicks[i - 1] } /&gt;)
    }
    ctx.appendChild(xmlPareto)
  }
}</code>
          </javascript>
          <container colcount="2" id="12115604025" label="Container 2" type="container">
            <input id="12115604136" label="Period:" type="select">
              <storage mode="var" type="">
                <options>
                  <option id="12115604137" label="3 hour view" value="10800"/>
                  <option id="12115604138" label="6 hour view" value="21600"/>
                  <option id="12115604139" label="12 hour view" value="43200"/>
                  <option id="121156041310" label="24 hour view" value="86400"/>
                  <option id="121156041311" label="48 hour view" value="172800"/>
                  <option id="121156041312" label="1 week view" value="604800"/>
                  <option id="121156041313" label="2 week view" value="1296000"/>
                  <option id="121156041314" label="View for one month" selected="1" value="2592000"/>
                </options>
                <variable xpath="/period"/>
              </storage>
            </input>
            <link action="refresh" href="javascript:document.controller.submit('refresh');" id="121156041615" img="/xtk/img/refresh.png" label="Refresh" target="_self" tooltip="Update"/>
          </container>
          <container colcount="2" id="12100709903" label="Container 1" type="container">
            <chart accumulate="true" displayEmptySamples="true" displayLabels="false" height="320" id="12115580302" innerPieRadius="0.6" label="Chart 1" legendPosition="bottom" perspective="false" type="filled" width="500" zoomOnWheel="false">
              <data dataSource="context" schema="temp:formContext">
                <variables>
                  <row>
                    <var dateStepType="60" expr="[trackingStats-collection/trackingStats/@startDate]" label="Date" minClassDuration="300"/>
                  </row>
                </variables>
                <statistic aggExpr="[trackingStats-collection/trackingStats/@transactions]" alias="Transactions" format="number" label="Transactions" operator="sum"/>
                <statistic aggExpr="[trackingStats-collection/trackingStats/@clicks]" alias="Clics" format="number" label="Clicks" operator="sum"/>
                <statistic aggExpr="[trackingStats-collection/trackingStats/@opens]" alias="Ouvertures" label="Opens" operator="sum"/>
                <where>
                  <condition expr="@startDate > SubSeconds( GetDate() , $([period]))" internalId="1211292274"/>
                </where>
              </data>
            </chart>
            <table id="12115580324" label="Pareto" labelPosition="hidden" type="tabular">
              <data schema="temp:formContext" startPath="[pareto/item]">
                <group>
                  <columns>
                    <column id="121155803618"/>
                    <column id="121155970637"/>
                    <column id="121155971840" widthMode="manual"/>
                    <column id="121156049383"/>
                  </columns>
                  <header id="121155969535">
                    <cell alias="expr1211559730" id="121155969536" label="Pareto">
                      <style alignment="center" verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1211559726" id="121155970638" label="Opens">
                      <style alignment="center" verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1211559723" id="121155971841" label="Clicks">
                      <style alignment="center" verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1211560501" id="121156049384" label="Transactions">
                      <style alignment="center" verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                  </header>
                  <group hasFooter="false" hasHeader="false" limit="false" limitValue="1" name="80%">
                    <groupBy>
                      <node expr="@group"/>
                    </groupBy>
                    <row id="121155976447">
                      <cell expr="@percent" id="121155976448">
                        <style decimalPlaces="0" format="percentage" verticalAlignment="top"/>
                      </cell>
                      <cell expr="@opens" id="121155976449">
                        <style alignment="right" format="timespan" useSec="false" useTime="true" verticalAlignment="top"/>
                      </cell>
                      <cell expr="@clics" id="121155976450">
                        <style alignment="right" format="timespan" verticalAlignment="top"/>
                      </cell>
                      <cell expr="@transactions" id="121156049385">
                        <style alignment="right" format="timespan" verticalAlignment="top"/>
                      </cell>
                    </row>
                  </group>
                </group>
              </data>
            </table>
          </container>
        </page>
        <query contextFilter="true" label="Deliveries selected" name="query2" x="16" y="16">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:delivery"/>
            <select>
              <node expr="@label" sort="true"/>
            </select>
            <orderBy displayOrder="Libellé"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/data/delivery"/>
        </query>
      </activities>
      <desc>Open, click and transaction rates report.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Feedback" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/default.png" internalName="hoturls" isGlobal="0" label="Hot clicks" multiselection="0" schema="nms:delivery">
      <properties renderingEngine="1" windowTitle="Delivery: &lt;%== ctx.data['delivery-collection'].delivery.@label %>"/>
      <variables>
        <variable default="0" label="Percentage of clicks on offers" type="float" xpath="offerClickPercentage"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:delivery"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:delivery">
        <condition boolOperator="AND" expr="@messageType = 0" internalId="1215427148"/>
        <condition boolOperator="AND" expr="trackingStats" internalId="1215427160" setOperator="EXISTS"/>
        <condition boolOperator="AND" expr="[folder/parent/@name] &lt;> 'nmsMcTriggerMessagesHisto'" internalId="1"/>
      </visibleIf>
      <activities>
        <page exportable="false" label="Hot clicks" name="page" x="368" y="16">
          <transitions>
            <next enabled="false" name="next"/>
          </transitions>
          <html id="html8" label="Clicks on offers">
            <source>&lt;div class="nlui-message"&gt;&lt;div class="ui-widget ui-corner-all nlui-message-normal nlui-message-wrapper"&gt;&lt;div class="nlui-message-content"&gt;
&lt;img src="/xtk/img/loginfo.png" style="margin-right:4px;vertical-align: top"&gt;&lt;%= $(totalClicksOffers) %&gt; &lt;b&gt;&lt;%= NL.Locale.formatPercent(ctx.vars.offerClickPercentage, 0) %&gt;&lt;b/&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</source>
            <strings>
              <string id="totalClicksOffers" value="Clicks on offers are not displayed below but represent"/>
            </strings>
            <visibleIf>
              <condition id="13624737202" leftExpr="[vars/offerClickPercentage]" operator=">" rightExpr="0"/>
            </visibleIf>
          </html>
          <html id="12070727216" label="Email">
            <source>&lt;iframe scrolling='no' name='emailContent' src="/xtk/jsp/preload.htm"
    width="100%" frameBorder="0" height="600"&gt;&lt;/iframe&gt;
    &lt;script type="text/javascript" charset="ISO-8859-1" src="/nl/hoturls.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
      var deliveryFrame = window.frames['emailContent']
      deliveryFrame.document.open()
      deliveryFrame.document.write("&lt;span id='NeolaneDocumentContent'&gt;")
      deliveryFrame.document.write("&lt;%== deliveryContent %&gt;")
      deliveryFrame.document.write("&lt;/span&gt;")
      deliveryFrame.document.close();

      var page = document.getElementById('tablebody-page')
      if( typeof page != "undefined" )
      {
        page.style.width = "100%"
        page.style.height = "100%"
      }

      var astrLink = [&lt;%==strLinkArray%&gt;];
      var aiOccurence = [&lt;%==strOccurrenceArray%&gt;];
      var afClick = [&lt;%
      bPutComma = false;
      for each( var fPercent in afPercent) {
      %&gt;&lt;%=(bPutComma ? "," : "") + fPercent %&gt;&lt;%
      bPutComma = true;
      }
      %&gt;];

      function hc_updateProgressBars() {
        ShowProgressBars(&lt;%=fMaxClicks%&gt;, &lt;%=fTotalClicks%&gt;, 'emailContent');
      }      
    &lt;/script&gt;</source>
          </html>
          <onPageLoadScript>
            <code>&lt;%
// Remove offer tracking urls from list.
// Shift remaining urls occurrences accordingly
for each( var delivery in ctx.data['delivery-collection'].delivery )
{
  var dicOccurences = {};
  for each( var url in delivery.content.html.urlConfig.url )
  {
    if( !String(url.@offerId) )
    {
      if( !dicOccurences[String(url.@source)] )
        dicOccurences[String(url.@source)] = 0;
      dicOccurences[String(url.@source)]++;
      url.@occurrence = String(dicOccurences[String(url.@source)]);
    }
  }
}
    var elemUrlConfig = ctx.data['delivery-collection'].delivery.content.html.urlConfig
var elemStatsCollection = ctx.data['trackingStats-collection']

var strLinkArray = ""
var strOccurrenceArray = ""
var fTotalClicks = 0.0
var fMaxClicks = 0.0
var fTotalOfferClicks = 0.0
var bPutComma = false
var afPercent = new Array()

for each( var trackingStats in elemStatsCollection.trackingStats )
{
  var strTotalClicks = trackingStats.@totalClicks.toString()
  var strId = trackingStats.url.@tagId.toString()

  var url = elemUrlConfig.url.(function::attribute("tagId") == strId)
      if( url.length() &gt; 0 )
  {
    url = url[0]
    var fClicks = parseFloat(strTotalClicks);

    // Calculate sum and maximum of all clicks
    fTotalClicks += fClicks;
    if( fClicks &gt; fMaxClicks )
      fMaxClicks = fClicks;

    if( !String(url.@offerId) )
    {
      // For each link, find URL, occurence, and number of clicks
      strLinkArray += (bPutComma ? ",\n" : "") + "  \"" + url.@source.toString().replace(/\/$/,"") + "\""
      strOccurrenceArray += (bPutComma ? ",\n" : "") + "  \"" + url.@occurrence + "\"";
      afPercent.push(fClicks);
      bPutComma = true;
    }
    else
    {
      fTotalOfferClicks += fClicks;
    }
  }
}
if( fTotalClicks &gt; 0 )
  ctx.vars.offerClickPercentage = fTotalOfferClicks / fTotalClicks;

var deliveryContent = ctx.data['delivery-collection'].delivery.content.html.source.toString().replace(/\n/g, "\\n")
    deliveryContent = deliveryContent.replace(/"/g, '\\"')
    %&gt;
document.nl_waitBeforeRender = true;

setTimeout("ShowProgressBars(&lt;%=fMaxClicks%&gt;, &lt;%=fTotalClicks%&gt;, 'emailContent')", 1000);
setTimeout("hc_resizeContent(document.nl_renderToPdf)", 4000);

jQuery( window  ).resize(function(){
  ShowProgressBars(&lt;%=fMaxClicks%&gt;, &lt;%=fTotalClicks%&gt;, 'emailContent');
});</code>
          </onPageLoadScript>
        </page>
        <query contextFilter="true" label="Delivery content and URL" name="query" selectAll="false" x="64" y="16">
          <transitions>
            <next name="next" target="query2"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:delivery"/>
            <select>
              <node expr="[content/html/source]"/>
              <node expr="[content/html/urlConfig/url/@source]"/>
              <node expr="[content/html/urlConfig/url/@occurrence]"/>
              <node expr="[content/html/urlConfig/url/@tagId]"/>
              <node expr="@label"/>
              <node expr="[content/html/urlConfig/url/@offerId]"/>
            </select>
          </source>
          <output path="/data/delivery-collection"/>
        </query>
        <query label="Tracking information" name="query2" x="208" y="16">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <source schema="nms:trackingStats">
            <where filterName="backGroundFilterFrm">
              <condition expr="[@delivery-id] = $noescaping(@_selection)" internalId="1207053128"/>
              <condition expr="[@url-id] != 1" internalId="1207053129"/>
            </where>
            <select>
              <node expr="[url/@tagId]" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@totalClicks" expr="sum(@totalClicks)" sort="true"/>
            </select>
            <orderBy displayOrder="Identifiant (Url), sum(clics)"/>
            <groupBy>
              <node expr="[url/@tagId]" noSqlBind="true"/>
            </groupBy>
          </source>
          <output path="/data/trackingStats-collection"/>
        </query>
      </activities>
      <desc>Displays the message and the click rates superimposed.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Feedback" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/table.png" internalName="deliveryFeedback" isGlobal="1" label="Tracking indicators" multiselection="0" order="1" prefered="1" schema="nms:delivery">
      <properties renderingEngine="1" windowTitle="&lt;%== ctx.title %>"/>
      <variables>
        <variable label="Folder" xpath="folder"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
    &lt;tr&gt;
    &lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
    &lt;td style="vertical-align: middle; padding: 1em;"&gt;
    &lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
    &lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
    &lt;/td&gt;
    &lt;/tr&gt;
    &lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:delivery"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:delivery">
        <condition boolOperator="AND" expr="@messageType &lt;> 41" internalId="1"/>
        <condition boolOperator="AND" expr="@messageType &lt;> 42" internalId="2"/>
        <condition boolOperator="AND" expr="@messageType &lt;> 20" internalId="3"/>
        <condition expr="@messageType &lt;> 25" internalId="4"/>
      </visibleIf>
      <activities>
        <start label="Start" name="start" x="24" y="40">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
        </start>
        <page disableNextButton="true" label="Tracking indicators" name="page" x="752" y="32">
          <transitions>
            <next label="Change folder" name="next" target="script"/>
          </transitions>
          <container colcount="2" id="12356673191" label="Container 1" style="folderContainer" type="container">
            <visibleIf>
              <condition id="12356673793" leftExpr="@_context" operator="=" rightExpr="'global'"/>
            </visibleIf>
            <input action="transition" id="12356673262" label="Choose a folder" transition="next" type="folderSelector">
              <storage mode="var">
                <variable xpath="folder"/>
              </storage>
            </input>
          </container>
          <container id="12357516551" label="Delivery statistics" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="12357516552" label="Delivery statistics" labelPosition="hidden" type="tabular">
              <data schema="temp:formContext" startPath="[data/query/delivery]">
                <group>
                  <columns>
                    <column id="12357516553" width="30" widthMode="manual"/>
                    <column id="12357516554"/>
                  </columns>
                  <header id="12357516557">
                    <cell alias="expr1211281551" id="12357516558" label="Message to deliver:">
                      <style>
                        <font color="#888888"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@toDeliver" id="12357516559">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="123575165512">
                    <cell alias="expr1211306610" id="123575165513" label="Success:">
                      <style>
                        <font color="#888888"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@successWithoutSeeds" id="123575165514">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                </group>
              </data>
            </table>
          </container>
          <container id="12356673192" label="Reception statistics" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="121136800595" label="Reception statistics" labelPosition="hidden" type="tabular">
              <data schema="temp:formContext" startPath="[data/query/delivery]">
                <group>
                  <columns>
                    <column id="121136800596" width="30" widthMode="manual"/>
                    <column id="121136800597"/>
                    <column id="121136800598"/>
                    <column id="121136800599"/>
                  </columns>
                  <header id="1211368005102">
                    <cell alias="expr1211281551" id="1211368005103" label="Distinct opens for the population reached:">
                      <style>
                        <font color="#888888"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@estimatedRecipientOpen" id="1211368005104">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211298435" expr="div(@estimatedRecipientOpen, @successWithoutSeeds)" id="1211368005105">
                      <style>
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211310906" expr="percent(@estimatedRecipientOpen, @successWithoutSeeds)" id="1211368005106">
                      <style format="percentage">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="1211368005109">
                    <cell alias="expr1211306610" id="1211368005110" label="Sum of opens for the population reached:">
                      <style>
                        <font color="#888888"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@estimatedTotalRecipientOpen" id="1211368005111">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211298572" expr="div(@estimatedTotalRecipientOpen, @successWithoutSeeds)" id="1211368005112">
                      <style>
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211298898" expr="percent(@estimatedTotalRecipientOpen, @successWithoutSeeds)" id="1211368005113">
                      <style format="percentage">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="1211368005116">
                    <cell alias="expr1211307187" id="1211368005117" label="Clicks on the opt-out link:">
                      <style>
                        <font color="#888888"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@optOut" id="1211368005118">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211307205" expr="div(@optOut, @successWithoutSeeds)" id="1211368005119">
                      <style>
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211307212" expr="percent(@optOut, @successWithoutSeeds)" id="1211368005120">
                      <style format="percentage">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="1211368005123">
                    <cell alias="expr1211307929" id="1211368005124" label="Clicks on the mirror page link:">
                      <style>
                        <font color="#888888"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@mirrorPage" id="1211368005125">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211307952" expr="div(@mirrorPage, @successWithoutSeeds)" id="1211368005126">
                      <style>
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211307967" expr="percent(@mirrorPage, @successWithoutSeeds)" id="1211368005127">
                      <style format="percentage">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="121136835032">
                    <cell alias="expr1211368382" id="121136835033" label="Estimation of forwards:">
                      <style>
                        <font color="#888888"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@forward" id="121136835034">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211368365" expr="div(@forward, @successWithoutSeeds)" id="121136835035">
                      <style>
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211368359" expr="Percent(@forward, @successWithoutSeeds)" id="121136835036">
                      <style format="percentage">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                </group>
              </data>
            </table>
          </container>
          <container id="12883453764" label="Open and click-through rate" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="12883454075" label="Opens and clicks" labelPosition="hidden" type="tabular">
              <rendering align="left" inlineStyleValue="width:100%"/>
              <data schema="temp:formContext" startPath="[query/cubeSchema_deliveryLogStats]">
                <group>
                  <columns>
                    <column id="128834549411" width="11" widthMode="manual"/>
                    <column id="128834551918" width="4" widthMode="manual"/>
                    <column id="column26" width="3" widthMode="manual"/>
                    <column id="column31" width="8" widthMode="manual"/>
                    <column id="128835957643" width="3" widthMode="manual"/>
                    <column id="128835982851" width="8" widthMode="manual"/>
                    <column id="128836007455" width="3" widthMode="manual"/>
                    <column id="128836007659" width="8" widthMode="manual"/>
                    <column id="12889748645" width="10" widthMode="manual"/>
                  </columns>
                  <header id="128834549412">
                    <cell id="128834549413" label="Domain"/>
                    <cell id="128834551919" label="Sent">
                      <style alignment="center">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                          <right style="solid"/>
                        </border>
                      </style>
                    </cell>
                    <cell colspan="2" id="cell27" label="Complaints">
                      <style alignment="center">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                    <cell colspan="2" id="128835957644" label="Opens">
                      <style alignment="center">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                          <top style="none"/>
                          <right style="solid"/>
                        </border>
                      </style>
                    </cell>
                    <cell colspan="2" id="128836007456" label="Clicks">
                      <style alignment="center">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="12911977570" label="Raw reactivity">
                      <style alignment="right" wrapText="false">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <row id="128834549414">
                    <cell expr="@domain_domainLabel" id="128834549415">
                      <style alignment="left">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell expr="@successWithoutSeeds" id="128834551920">
                      <style alignment="right" decimalPlaces="0" format="number" wrapText="false">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@screamers" id="cell29">
                      <style alignment="right" decimalPlaces="0" format="number">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1333095224" expr="Percent(@screamers, @successWithoutSeeds)" id="cell34">
                      <style decimalPlaces="3" format="percentage"/>
                    </cell>
                    <cell expr="@recipientOpen" id="128835957645">
                      <style alignment="right" decimalPlaces="0" format="number">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1288359862" expr="percent(@recipientOpen, @successWithoutSeeds)" id="128835982853">
                      <style format="percentage"/>
                    </cell>
                    <cell expr="@recipientClick" id="128836007457">
                      <style alignment="right" decimalPlaces="0" format="number">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1288360116" expr="percent(@recipientClick, @successWithoutSeeds)" id="128836007661">
                      <style format="percentage"/>
                    </cell>
                    <cell alias="expr1288974900" expr="percent(@recipientClick,@recipientOpen)" id="12889748648">
                      <style format="percentage">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                  </row>
                  <footer id="128834549416">
                    <cell id="128834549417" label="Total">
                      <style alignment="right">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell expr="Sum(@successWithoutSeeds)" id="128834551921">
                      <style alignment="right" decimalPlaces="0" format="number" wrapText="false">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1333095234" expr="Sum(@screamers)" id="cell30">
                      <style alignment="right">
                        <font color="#707070" style="bold"/>
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1333095254" expr="Percent(Sum(@screamers), Sum(@successWithoutSeeds))" id="cell35">
                      <style decimalPlaces="3" format="percentage">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1288971957" expr="Sum(@recipientOpen)" id="128835957646">
                      <style alignment="right" decimalPlaces="0" format="number">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1291197789" expr="percent(Sum(@recipientOpen), Sum(@successWithoutSeeds))" id="128835982854">
                      <style alignment="right" format="percentage">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1288971920" expr="Sum(@recipientClick)" id="128836007458">
                      <style alignment="right" decimalPlaces="0" format="number">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1291197816" expr="percent(Sum(@recipientClick), Sum(@successWithoutSeeds))" id="128836007662">
                      <style alignment="right" format="percentage">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1288974912" expr="percent(Sum(@recipientClick),Sum(@recipientOpen))" id="12889748659">
                      <style format="percentage">
                        <font color="#707070" style="bold"/>
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                  </footer>
                </group>
              </data>
            </table>
            <rendering inlineStyle="width:100%"/>
          </container>
          <container id="12356673193" label="Generated click streams" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="1211368618135" label="Generated click streams" labelPosition="hidden" type="tabular">
              <data schema="temp:formContext" startPath="[data/query/delivery]">
                <group>
                  <columns>
                    <column id="1211368618136" width="30" widthMode="manual"/>
                    <column id="1211368618137"/>
                    <column id="1211368618138"/>
                    <column id="1211368618139"/>
                  </columns>
                  <header id="1211368618142">
                    <cell alias="expr1211281551" id="1211368618143" label="Distinct clicks for the population reached:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@personClick" id="1211368618144">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211298435" expr="div(@personClick, @successWithoutSeeds)" id="1211368618145">
                      <style>
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211310906" expr="percent(@personClick, @successWithoutSeeds)" id="1211368618146">
                      <style format="percentage">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="1211368618149">
                    <cell alias="expr1211306610" id="1211368618150" label="Cumulated clicks:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@totalRecipientClick" id="1211368618151">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211298572" expr="div(@totalRecipientClick, @successWithoutSeeds)" id="1211368618152">
                      <style>
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211298898" expr="percent(@totalRecipientClick, @successWithoutSeeds)" id="1211368618153">
                      <style format="percentage">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="header0">
                    <cell id="cell1" label="Recipient clicks:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@recipientClick" id="cell2">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1332239514" expr="div(@recipientClick, @successWithoutSeeds)" id="cell3">
                      <style>
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1332239522" expr="percent(@recipientClick, @successWithoutSeeds)" id="cell4">
                      <style format="percentage">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="1211368618156">
                    <cell alias="expr1211307187" id="1211368618157" label="Estimated recipient reactivity:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="1211368618158">
                      <style decimalPlaces="0" verticalAlignment="top">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211307205" expr="div(@recipientClick, @estimatedRecipientOpen)" id="1211368618159">
                      <style>
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211307212" expr="percent(@recipientClick, @estimatedRecipientOpen)" id="1211368618160">
                      <style format="percentage">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                </group>
              </data>
            </table>
          </container>
          <container id="12356673198" label="Web tracking" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="12113833881" label="Web tracking" labelPosition="hidden" type="tabular">
              <data schema="temp:formContext" startPath="[data/query/delivery]">
                <group>
                  <columns>
                    <column id="12113833882" width="30" widthMode="manual"/>
                    <column id="12113833883"/>
                  </columns>
                  <header id="12113833888">
                    <cell alias="expr1211281551" id="12113833889" label="Visited pages:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@totalWebPage" id="121138338810">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="121138338815">
                    <cell alias="expr1211306610" id="121138338816" label="Transactions:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@transaction" id="121138338817">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="121138338822">
                    <cell alias="expr1211307187" id="121138338823" label="Total amount:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@amount" id="121138338824">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="121138338829">
                    <cell alias="expr1211307929" id="121138338830" label="Average transaction amount:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211383656" expr="div(@amount, @transaction)" id="121138338831">
                      <style format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="121138338836">
                    <cell alias="expr1211368382" id="121138338837" label="Articles:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@article" id="121138338838">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="12113835566">
                    <cell alias="expr1211383569" id="12113835567" label="Average count of articles per transaction:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211383856" expr="div(@article, @transaction)" id="12113835568">
                      <style format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="121138355913">
                    <cell alias="expr1211383578" id="121138355914" label="Average amount per message:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211383865" expr="div(@amount, @toDeliver)" id="121138355915">
                      <style format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                </group>
              </data>
            </table>
          </container>
          <container id="12658943696" label="Sharing activities to email and social networks" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="126589482913" label="Email" labelPosition="hidden" type="tabular">
              <data schema="temp:formContext" startPath="[data/query2/trackingStats]">
                <group>
                  <columns>
                    <column id="126589500017" width="30" widthMode="manual"/>
                    <column id="126589506724"/>
                  </columns>
                  <header id="126589500018">
                    <cell id="126589500019" label="Email:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="email" id="126589506725">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="12674378259">
                    <cell id="126743782510" label="Facebook:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="facebook" id="126743782511">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="126743782912">
                    <cell id="126743782913" label="Twitter:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="twitter" id="126743782914">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="126743784021">
                    <cell id="126743784022" label="Google:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="google" id="126743784023">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="126743784224">
                    <cell id="126743784225" label="Linkedin:">
                      <style>
                        <font color="#666666"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="linkedin" id="126743784226">
                      <style decimalPlaces="0" format="number">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                </group>
              </data>
            </table>
          </container>
        </page>
        <script label="Delivery + title indicators" name="script" x="168" y="32">
          <transitions>
            <next name="next" target="query2"/>
          </transitions>
          <code>if( ctx.@_historyId.toString().length == 0 )
{
  var queryDefXML =  &lt;queryDef schema="nms:delivery" operation="select"&gt;
                       &lt;select&gt;
                         &lt;node alias="@toDeliver" analyze="false" expr="sum([properties/@toDeliver])" noSqlBind="true" sort="true"/&gt;
                         &lt;node alias="@successWithoutSeeds" analyze="false" expr="sum([indicators/@success])" sort="true"/&gt;
                         &lt;node alias="@error" analyze="false" expr="sum([indicators/@error])" sort="true"/&gt;
                         &lt;node alias="@newQuarantine" analyze="false" expr="sum([indicators/@newQuarantine])" sort="true"/&gt;
                         &lt;node alias="@estimatedRecipientOpen" analyze="false" expr="sum([indicators/@estimatedRecipientOpen])" noSqlBind="true" sort="true"/&gt;
                         &lt;node alias="@estimatedTotalRecipientOpen" analyze="false" expr="sum([indicators/@estimatedTotalRecipientOpen])" noSqlBind="true" sort="true"/&gt;
                         &lt;node alias="@optOut" analyze="false" expr="sum([indicators/@optOut])" sort="true"/&gt;
                         &lt;node alias="@mirrorPage" analyze="false" expr="sum([indicators/@mirrorPage])" sort="true"/&gt;
                         &lt;node alias="@forward" analyze="false" expr="sum([indicators/@forward])" sort="true"/&gt;
                         &lt;node alias="@personClick" analyze="false" expr="sum([indicators/@personClick])" sort="true"/&gt;
                         &lt;node alias="@totalRecipientClick" analyze="false" expr="sum([indicators/@totalRecipientClick])" sort="true"/&gt;
                         &lt;node alias="@recipientClick" analyze="false" expr="sum([indicators/@recipientClick])" sort="true"/&gt;
                         &lt;node alias="@totalWebPage" analyze="false" expr="sum([indicators/@totalWebPage])" sort="true"/&gt;
                         &lt;node alias="@transaction" analyze="false" expr="sum([indicators/@transaction])" sort="true"/&gt;
                         &lt;node alias="@amount" analyze="false" expr="sum([indicators/@amount])" sort="true"/&gt;
                         &lt;node alias="@article" analyze="false" expr="sum([indicators/@article])" sort="true"/&gt;
                       &lt;/select&gt;
                       &lt;where/&gt;
                     &lt;/queryDef&gt;

  if( ctx.@_schema == "nms:operation" )
    queryDefXML.select.appendChild(&lt;node alias="@labelOperation" analyze="false" expr="min([operation/@label])" sort="true"/&gt;)
  else if( ctx.@_schema == "nms:delivery" &amp;&amp; ctx.@_context != 'global' )
  {
    queryDefXML.select.appendChild(&lt;node alias="@id" expr="min(@id)" groupBy="false" noSqlBind="true" sort="true"/&gt;)
    queryDefXML.select.appendChild(&lt;node alias="@label" expr="min(@label)" groupBy="false" noSqlBind="true" sort="true"/&gt;)
    queryDefXML.select.appendChild(&lt;node alias="@contactDate" expr="min([scheduling/@contactDate])" groupBy="false" noSqlBind="true" sort="true"/&gt;)
  }

  if( ctx.@_schema == "nms:operation" || ctx.@_context == 'global' )
    queryDefXML.where.appendChild(&lt;condition expr="@FCP = 0"/&gt;)

  queryDefXML.where.appendChild(ctx._contextFilter.where.*)

  var ndFolderInfo = ctx.vars.folder
  var ndFolderCondition
  if( ndFolderInfo.@isView == "true" || ndFolderInfo.@isView == "1" )
    ndFolderCondition = ndFolderInfo.where
  else if( ndFolderInfo.length() != "0" &amp;&amp; ndFolderInfo.@id != "" &amp;&amp; ndFolderInfo.@id != "0" )
  {
    if( ndFolderInfo.@subTree == "1" ||  ndFolderInfo.@subTree == "true" )
      ndFolderCondition = &lt;where&gt;
                            &lt;condition expr={"[" + ctx.@_folderLink + "/@fullName] LIKE '" + NL.XTK.likeCond(ndFolderInfo.@fullName, "%") + "'"}/&gt;
                          &lt;/where&gt;
    else
      ndFolderCondition = &lt;where&gt;
                            &lt;condition expr={"[" + ctx.@_folderLinkId + "] = " + ndFolderInfo.@id}/&gt;
                          &lt;/where&gt;
  }
  else
    ndFolderCondition = &lt;where/&gt;
  if( ndFolderCondition.condition.length() &gt; 0 )
    queryDefXML.where.appendChild(ndFolderCondition.*)
  var query = xtk.queryDef.create(expandAbstractFormQuery(queryDefXML.toXMLString(), ctx.toXMLString()))
  var res = query.ExecuteQuery()
  res.setName("/data/query".substring("/data/query".lastIndexOf("/")+1))
  ctx.data.query  = res
}

if( ctx.@_context == "selection" &amp;&amp; ctx.@_schema == "nms:delivery" )
  ctx.title = $(action) + ctx.data.query.delivery.@label
    else if( ctx.@_context == "selection" &amp;&amp; ctx.@_schema == "nms:operation" )
      ctx.title = $(operation) + ctx.data.query.delivery.@labelOperation
else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; (ctx.vars.folder.@isView == "1" || ctx.vars.folder.@isView == "true") )
  ctx.title = $(folderView)  + ' (' + ctx.vars.folder.@label + ')'
else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; ctx.vars.folder.@id != 0 &amp;&amp; ctx.vars.folder.@fullName != "" &amp;&amp; ctx.vars.folder.@fullName != "/" )
  ctx.title = $(folder)  + ' (' + ctx.vars.folder.@label + ')'
else
  ctx.title = $(globalContextLabel)</code>
          <strings>
            <string id="operation" value="Campaign: "/>
            <string id="folderView" value="Deliveries in the view"/>
            <string id="globalContextLabel" value="Whole platform"/>
            <string id="folder" value="Deliveries in the folder"/>
            <string id="action" value="Delivery: "/>
          </strings>
        </script>
        <script label="Move the 'others' to the end" name="script2" x="600" y="32">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <code>var query = &lt;query/&gt;

var other = undefined
for each( var output in ctx.query.cubeSchema_deliveryLogStats )
{
  if( output.@domain_domain == "0" )
  {
    other = output
    continue
  }
  query.appendChild(output)
}
if( other != undefined )
  query.appendChild(other)
ctx.query = query</code>
        </script>
        <query contextLink="[@delivery-id]" folderFilter="true" folderVariable="folder" label="Sharing" name="query2" x="304" y="32">
          <transitions>
            <next name="next" target="query"/>
          </transitions>
          <source schema="nms:trackingStats">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:trackingStats">
              <condition boolOperator="AND" enabledIf="$(@_context)!='global' and $(@_schema)='nms:delivery'" expr="[@delivery-id] IN ($noescaping([/@_selection]))" internalId="1272300884"/>
              <condition boolOperator="AND" enabledIf="$(@_context)!='global' and $(@_schema)='nms:operation'" expr="[delivery/@operation-id] IN ($noescaping([/@_selection]))" internalId="1294134272"/>
              <condition enabledIf="$(@_context)='global' or $(@_schema)='nms:operation'" expr="[delivery/@FCP] = 0" internalId="1294134475"/>
            </where>
            <select>
              <node alias="email" expr="Sum(iIf([url/@category]='email',@totalClicks,0))" sort="true"/>
              <node alias="facebook" expr="Sum(iIf([url/@category]='facebook',@totalClicks,0))" sort="true"/>
              <node alias="twitter" expr="Sum(iIf([url/@category]='twitter',@totalClicks,0))" sort="true"/>
              <node alias="google" expr="Sum(iIf([url/@category]='google',@totalClicks,0))" sort="true"/>
              <node alias="linkedin" expr="Sum(iIf([url/@category]='linkedin',@totalClicks,0))" sort="true"/>
            </select>
            <orderBy displayOrder="Sum(iIf(catégorie de url égal à 'email', clics, 0)), Sum(iIf(catégorie de url égal à 'facebook', clics, 0)), Sum(iIf(catégorie de url égal à 'twitter', clics, 0)), Sum(iIf(catégorie de url égal à 'google', clics, 0)), Sum(iIf(catégorie de url égal à 'linkedin', clics, 0))"/>
          </source>
          <output path="/data/query2"/>
        </query>
        <query contextFilter="false" contextLink="[delivery_delivery/@id]" cubeData-cs="Delivery and tracking statistics (deliveryLogStats)" folderFilter="true" folderVariable="folder" inputType="2" label="Opens, clicks and complaints" name="query" x="448" y="32">
          <transitions>
            <next name="next" target="script2"/>
          </transitions>
          <source distinct="false" schema="temp:cubeSchema_deliveryLogStats">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" enabledIf="$(@_context)!='global' and $(@_schema)='nms:delivery'" expr="[delivery_delivery/@id] IN ($noescaping([/@_selection]))" internalId="1288702293"/>
              <condition boolOperator="AND" enabledIf="$(@_context)!='global' and $(@_schema)='nms:operation'" expr="[delivery_delivery/@operation-id] = $noescaping([/@_selection])" internalId="1288702294"/>
              <condition expr="[delivery_delivery/@FCP] = 0" internalId="1288702295"/>
            </where>
            <select>
              <node analyze="1" expr="@domain_domain" groupBy="1" sort="true"/>
              <node alias="@recipientOpen" expr="Sum(@recipientOpen)" sort="true"/>
              <node alias="@personClick" expr="Sum(@personClick)" sort="true"/>
              <node alias="@success" expr="Sum(@success)" sort="true"/>
              <node alias="@recipientClick" expr="Sum(@recipientClick)" sort="true"/>
              <node alias="@successWithoutSeeds" expr="Sum(@successWithoutSeeds)" sort="true"/>
              <node alias="@screamers" expr="Sum(@screamers)"/>
            </select>
            <orderBy displayOrder="Sum(envois) (descendant)">
              <node expr="Sum(@success)" sort="true" sortDesc="1"/>
            </orderBy>
            <groupBy displayGroup="Domaine de l'email - Domaine de l'email"/>
          </source>
          <limiter enabled="false"/>
          <output path="query"/>
          <cubeData _operation="none" name="deliveryLogStats"/>
        </query>
      </activities>
      <desc>Summary of key indicators for tracking recipient behavior.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Feedback" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/pie.png" internalName="osStatistics" isGlobal="1" label="Operating Systems" monoselection="0" multiselection="0" schema="xtk:none">
      <properties renderingEngine="1" windowTitle="Operating system usage statistics"/>
      <variables>
        <variable default="182" label="Period" xpath="period"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="xtk:none"/>
      </linkFilter>
      <visibleIf filteringSchema="xtk:none"/>
      <activities>
        <start label="Start" name="start" x="16" y="40">
          <transitions>
            <next name="next" target="query"/>
          </transitions>
        </start>
        <page colcount="2" disableNextButton="true" disablePreviousButton="true" label="&lt;%== ctx.@os %>" name="page2" x="400" y="144">
          <transitions>
            <next enabled="false" label="Next" name="next"/>
          </transitions>
          <link action="previous" colspan="2" id="12520851112" label="Return to the global statistics" target="_self"/>
          <chart displayLegend="false" height="200" id="12520851559" innerPieRadius="0.6" label="Chart 1" labelPosition="top" legend="History" perspective="false" type="line" width="700">
            <data dataSource="context" schema="temp:formContext" startPath="data/query2/userAgentStats">
              <variables>
                <row>
                  <var expr="[data/query2/userAgentStats/@date]" type="date"/>
                </row>
              </variables>
              <statistic aggExpr="[data/query2/userAgentStats/@visitors]" alias="@visitors" format="percentage" label="Usage rate" operator="sum" useDefaultFormat="false"/>
            </data>
          </chart>
          <chart displayLegend="false" height="200" id="12100694041" innerPieRadius="0.6" label="Chart 2" labelPosition="top" legend="Breakdown by versions" type="pie" width="300">
            <data dataSource="context" schema="temp:formContext" startPath="data/query3/userAgentStats">
              <variables>
                <row>
                  <var expr="[data/query3/userAgentStats/@version]" label="@version" type="string"/>
                </row>
              </variables>
              <statistic aggExpr="[data/query3/userAgentStats/@totalVisitors]" alias="[data/query3/userAgentStats/@totalVisitors]" format="number" label="Visitors" operator="sum"/>
            </data>
          </chart>
          <table colspan="2" id="12097298112" label="Table 1" type="tabular">
            <rendering tableClass="simple"/>
            <data dataSource="context" schema="temp:formContext" startPath="[data/query3/userAgentStats]">
              <group hasFooter="false">
                <columns>
                  <column id="120958712233"/>
                  <column id="12095859106" widthMode="max"/>
                  <column id="120958593424"/>
                  <column id="120958593219"/>
                  <column id="120958592914"/>
                  <column id="120958703429"/>
                </columns>
                <header id="120972981110">
                  <cell id="120972981111">
                    <style verticalAlignment="top"/>
                  </cell>
                  <cell alias="expr1209585952" id="120972981112" label="Version">
                    <style verticalAlignment="top"/>
                  </cell>
                  <cell alias="expr1209737967" id="120973795821" label="Global rate">
                    <style verticalAlignment="top"/>
                  </cell>
                  <cell alias="expr1209587948" colspan="3" id="120972981115" label="Relative rate">
                    <style verticalAlignment="top"/>
                  </cell>
                </header>
                <row id="120972981118">
                  <cell alias="expr1209587137" expr="rowNum() + '.'" id="120972981119">
                    <style alignment="right" decimalPlaces="0" verticalAlignment="top">
                      <font style="bold"/>
                    </style>
                  </cell>
                  <cell alias="expr1209586251" expr="coalesce(@version, 'Inconnu')" id="120972981120">
                    <style verticalAlignment="top"/>
                    <onclick target="_self">
                      <context>
                        <set expr="coalesce(@browser, 'Inconnu')" id="120972981121" xpath="/@browser"/>
                      </context>
                    </onclick>
                  </cell>
                  <cell alias="expr1209737984" expr="percent(@totalVisitors, @globalVisitors)" id="120973795822">
                    <style format="percentage" verticalAlignment="top"/>
                  </cell>
                  <cell alias="expr1209586160" expr="percent(@totalVisitors, sum(@totalVisitors))" id="120972981124">
                    <style format="percentage" verticalAlignment="top">
                      <extra hideValue="true" visual="bargraph"/>
                    </style>
                  </cell>
                  <cell alias="expr1209587048" expr="percent(@totalVisitors, sum(@totalVisitors))" id="120972981125">
                    <style format="percentage" verticalAlignment="top">
                      <extra hideValue="false"/>
                    </style>
                  </cell>
                  <cell alias="expr1209587510" expr="rownum()-1" id="120972981126">
                    <style verticalAlignment="top">
                      <extra visual="color"/>
                    </style>
                  </cell>
                </row>
              </group>
            </data>
          </table>
        </page>
        <page disableNextButton="true" label="Operating Systems" name="page" x="456" y="32">
          <transitions>
            <next label="Next" name="next" target="query2"/>
            <next label="Refresh" name="actualiser" target="query"/>
          </transitions>
          <javascript id="120973930328" label="Optimizing context">
            <code>delete ctx.data.query2
delete ctx.data.query3</code>
          </javascript>
          <container colcount="2" id="12520843901" label="Filter" type="container">
            <input id="12520843902" label="Period:" type="select">
              <storage mode="var">
                <variable xpath="period"/>
                <options>
                  <option id="12520843903" label="Yesterday" value="1"/>
                  <option id="12520843904" label="During the last 2 days" value="2"/>
                  <option id="12520843905" label="During the last 7 days" value="7"/>
                  <option id="12520843906" label="During the last 2 weeks" value="14"/>
                  <option id="12520843907" label="During the last 30 days" value="30"/>
                  <option id="12520843908" label="During the last 6 months" value="182"/>
                </options>
              </storage>
            </input>
            <link action="transition" id="125208439010" img="/xtk/img/refresh.png" label="Refresh" target="_self" transition="actualiser"/>
            <rendering inlineStyle="margin-top:4px;margin-bottom-4px"/>
          </container>
          <container colcount="2" id="124274248328" label="Breakdown by operating system" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="125208440111" label="Table 1" labelPosition="hidden" type="tabular">
              <rendering tableClass="simple"/>
              <data dataSource="context" schema="temp:formContext" startPath="[/data/query/userAgentStats]">
                <group hasFooter="false">
                  <columns>
                    <column id="125208440112"/>
                    <column id="125208440113" widthMode="max"/>
                    <column id="125208440114"/>
                    <column id="125208440115"/>
                    <column id="125208440116"/>
                    <column id="125208440117"/>
                    <column id="125208440118"/>
                  </columns>
                  <header id="125208440119">
                    <cell id="125208440120">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1209585952" id="125208440121" label="System">
                      <style verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1209585996" id="125208440122" label="Visitors">
                      <style verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1209586019" id="125208440123" label="Pages viewed">
                      <style verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1209587948" colspan="3" id="125208440124" label="Usage rate">
                      <style verticalAlignment="top">
                        <font color="#666666" style="normal"/>
                      </style>
                    </cell>
                  </header>
                  <row id="125208440125">
                    <cell alias="expr1209587137" expr="rowNum() + '.'" id="125208440126">
                      <style alignment="right" decimalPlaces="0" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1209586251" expr="coalesce(@os, [/@unknown])" id="125208440127">
                      <style verticalAlignment="top"/>
                      <onclick action="next" target="_self">
                        <context>
                          <set expr="coalesce(@os, [/@unknown])" id="125208440128" xpath="/@os"/>
                          <set expr="@totalVisitors" id="12520846600" xpath="/@osVistitors"/>
                        </context>
                      </onclick>
                    </cell>
                    <cell alias="expr1210083081" expr="@totalVisitors / @days" id="125208440129">
                      <style format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210083088" expr="@totalPages / @days" id="125208440130">
                      <style format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1209586160" expr="percent(@totalVisitors, sum(@totalVisitors))" id="125208440131">
                      <style format="percentage" verticalAlignment="top">
                        <extra hideValue="true" visual="bargraph"/>
                      </style>
                    </cell>
                    <cell alias="expr1209587048" expr="percent(@totalVisitors, sum(@totalVisitors))" id="125208440132">
                      <style format="percentage" verticalAlignment="top">
                        <extra hideValue="false"/>
                      </style>
                    </cell>
                    <cell alias="expr1209587510" expr="rownum()-1" id="125208440133">
                      <style verticalAlignment="top">
                        <extra visual="color"/>
                      </style>
                    </cell>
                  </row>
                </group>
              </data>
            </table>
            <chart displayLegend="false" height="200" id="12100713922" innerPieRadius="0.6" label="Chart" labelPosition="hidden" legend="Breakdown by operating system" type="pie" width="300">
              <data dataSource="context" schema="temp:formContext" startPath="data/query/userAgentStats">
                <variables>
                  <row>
                    <var expr="@os" label="Operating system family" type="string"/>
                  </row>
                </variables>
                <statistic aggExpr="@totalVisitors" alias="@visitors" format="number" label="Visitors" operator="sum"/>
              </data>
            </chart>
          </container>
        </page>
        <script label="Filter result" name="script" x="256" y="32">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <code>var top   = 10, globalVisitors = 0, days = 1
var nodes = ctx.data.query.child("*")
var size  = nodes.length()
if ( size &gt; 0 )
{
  var node, other = nodes[0].copy()
  var totalVisitors = 0, totalPages = 0
  var n = nodes.length()
  for (var i=n-1; i &gt;= 0; i--)
  {
    node = nodes[i]
    if ( i &gt;= top )
    {
      totalVisitors += parseInt(node.@totalVisitors)
      totalPages += parseInt(node.@totalPages)
      delete nodes[i]
    }
    else
      globalVisitors += parseInt(node.@totalVisitors)

    days = Math.max(days, parseInt(node.@days))
  }

  if ( n &gt; top )
  {
    other.@browser = $(OTHER)
    other.@totalVisitors = totalVisitors
    other.@totalPages    = totalPages
    ctx.data.query.appendChild(other)
  }
  globalVisitors += totalVisitors
}

// second pass to update the days attribute with the max value found
nodes = ctx.data.query.child("*")
size  = nodes.length()
for (var i=nodes.length()-1; i &gt;= 0; i--)
  nodes[i].@days = days

ctx.@globalVisitors = globalVisitors
ctx.@unknown = $(unknown)</code>
          <strings>
            <string id="OTHER" value="Others"/>
            <string id="unknown" value="Unknown"/>
          </strings>
        </script>
        <query label="Query" name="query" x="160" y="32">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:userAgentStats">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:userAgentStats">
              <condition expr="@date >= SubDays( GetDate() , $([vars/period]))" internalId="1252084739"/>
            </where>
            <select>
              <node alias="@os" expr="[userAgent/@OSFamilly]" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@totalPages" expr="Sum(@pages)" sort="true"/>
              <node alias="@totalVisitors" expr="Sum(@visitors)" sort="true"/>
              <node alias="@days" expr="Max(DaysOld(@date))" sort="true"/>
            </select>
            <orderBy displayOrder="Sum(visiteurs) (descendant)">
              <node expr="Sum(@visitors)" sort="true" sortDesc="1"/>
            </orderBy>
            <groupBy displayGroup="Famille du système d'exploitation (Navigateur Internet)">
              <node expr="[userAgent/@OSFamilly]" noSqlBind="true"/>
            </groupBy>
          </source>
          <output path="/data/query"/>
        </query>
        <query label="History" name="query2" x="160" y="144">
          <transitions>
            <next name="next" target="query3"/>
          </transitions>
          <source schema="nms:userAgentStats">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" expr="[userAgent/@OSFamilly] = $([/@os])" internalId="1209588114"/>
              <condition expr="@date >= SubDays( GetDate() , iif($([vars/period]) &lt; 15 , 14 , $([vars/period])))" internalId="1252084947"/>
            </where>
            <select>
              <node expr="@date" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@visitors" expr="percent(sum(@visitors), max(@visitorsOfTheDay))" sort="true"/>
            </select>
            <orderBy displayOrder="Date">
              <node expr="@date" sort="true"/>
            </orderBy>
            <groupBy displayGroup="Date">
              <node expr="@date" noSqlBind="true"/>
            </groupBy>
          </source>
          <output path="/data/query2"/>
        </query>
        <query label="Breakdown by versions" name="query3" x="264" y="144">
          <transitions>
            <next name="next" target="page2"/>
          </transitions>
          <source schema="nms:userAgentStats">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" expr="[userAgent/@OSFamilly] = $([/@os])" internalId="1209729451"/>
              <condition expr="@date >= SubDays( GetDate() , $([vars/period]))" internalId="1252085048"/>
            </where>
            <select>
              <node alias="@version" expr="[userAgent/@OSName]" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@totalVisitors" expr="sum(@visitors)" sort="true"/>
              <node alias="@globalVisitors" expr="$([/@globalVisitors])" sort="true"/>
            </select>
            <orderBy displayOrder="sum(visiteurs) (descendant)">
              <node expr="sum(@visitors)" sort="true" sortDesc="1"/>
            </orderBy>
            <groupBy displayGroup="Système d'exploitation (Navigateur Internet)">
              <node expr="[userAgent/@OSName]" noSqlBind="true"/>
            </groupBy>
          </source>
          <output path="/data/query3"/>
        </query>
      </activities>
      <desc>Statistics on the operating systems used by recipients who clicked in a message.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Feedback" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/kpi.png" internalName="topUrlDelivery" isGlobal="1" label="URLs and click streams" modelName="emptyReport" schema="nms:delivery">
      <properties renderingEngine="1" windowTitle="&lt;%== ctx.@desc %>"/>
      <variables>
        <variable default="10" label="Top" type="byte" xpath="/filter/@top"/>
        <variable default="0" label="Period" type="long" xpath="/filter/@period"/>
        <variable default="label" label="Grouping" xpath="/filter/@groupBy"/>
        <variable default="0" label="URL type" type="byte" xpath="/filter/@urlType"/>
        <variable label="Number of URLs" type="long" xpath="/@urlCount"/>
        <variable label="Folder" xpath="folder"/>
      </variables>
      <library>
        <script ref-cs="core/graph.js (xtk)" ref-name="core/graph.js" ref-namespace="nl" runat="client"/>
        <script ref-cs="chart.js (xtk)" ref-name="chart.js" ref-namespace="xtk">
          <ref img="xtk:javascript.png" name="chart.js" namespace="xtk"/>
        </script>
      </library>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:delivery"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:delivery">
        <condition enabledIf="$(@_context)='selection'" expr="@messageType = 0" internalId="1215427241"/>
      </visibleIf>
      <activities>
        <page disableNextButton="true" label="URLs and click streams" name="page" x="920" y="176">
          <transitions>
            <next label="Change folder" name="next" target="query3"/>
          </transitions>
          <javascript id="12064450782" label="Queries">
            <code>if ( ctx.@_historyId == undefined )
{
    ctx.listData  = &lt;listData/&gt;
    ctx.graphData = &lt;graphData/&gt;

  // merge result of the 2 first queries done previously
  ctx.data.query.@distinctClicksHistory = ctx.data.query2.@distinctClicks
  ctx.data.query.@reactivityHistory = ctx.data.query2.@reactivity
  ctx.data.query.@totalClicksHistory = ctx.data.query2.@totalClicks

  // QUERY #1: get the top
  var grouping = ""
  var queryDef =
    &lt;queryDef operation="select" schema="nms:trackingStats"&gt;
      &lt;select&gt;
    &lt;node alias="@_click" expr="sum(@totalClicks)"/&gt;
      &lt;/select&gt;
      &lt;where&gt;
    &lt;condition expr="[@url-id] != 1"/&gt;
      &lt;/where&gt;
      &lt;orderBy&gt;
    &lt;node expr="sum(@totalClicks)" sortDesc="true"/&gt;
      &lt;/orderBy&gt;
    &lt;/queryDef&gt;

  var ndFolderInfo = ctx.vars.folder
    if( ctx.@_selection.toString() != '' &amp;&amp; ctx.@_schema == "nms:delivery" )
    // we are in selection mode
    queryDef.where.appendChild(&lt;condition expr={"[@delivery-id] IN (" + ctx.@_selection + ")" }/&gt;)
    else if( ctx.@_selection.toString() != '' &amp;&amp; ctx.@_schema == "nms:operation" )
    { // we are in selection mode
    queryDef.where.appendChild(&lt;condition expr={"[delivery/@operation-id] = " + ctx.@_selection }/&gt;)
    queryDef.where.appendChild(&lt;condition expr="[delivery/@FCP] = 0"/&gt;)
    }
  else if( ndFolderInfo.@isView == "true" || ndFolderInfo.@isView == "1" )
  { // selected folder is a view
    queryDef.where.appendChild(
      &lt;condition setOperator="IN" expr="[@delivery-id]"&gt;
        &lt;subQuery schema="nms:delivery"&gt;
          &lt;select&gt;
            &lt;node expr="@id" /&gt;
          &lt;/select&gt;
          {ndFolderInfo.where}
        &lt;/subQuery&gt;
      &lt;/condition&gt;
    );
  }
  else if( ndFolderInfo.@subTree == "1" ||  ndFolderInfo.@subTree == "true" )
    queryDef.where.appendChild(&lt;condition expr={"[delivery/folder/@fullName] LIKE '" + NL.XTK.likeCond(ndFolderInfo.@fullName, "%") + "'"}/&gt;)
      else if( ndFolderInfo.length() != "0" &amp;&amp; ndFolderInfo.@id != "" &amp;&amp; ndFolderInfo.@id != "0" )
    queryDef.where.appendChild(&lt;condition expr={"[delivery/@folder-id] = " + ndFolderInfo.@id}/&gt;)

  var period = parseInt(ctx.filter.@period)
  if( period != 0 &amp;&amp; ctx.data.query.@contactDate.toString() != '' )
  { // add a filter on logs to display
    var tmLimit = NL.XTK.parseDateTime(ctx.data.query.@contactDate, null)
    tmLimit.setTime(tmLimit.getTime() + period * 1000)
    queryDef.where.appendChild(&lt;condition expr={"[@startDate] &lt; " + NL.XTK.toXTKString(tmLimit)}/&gt;)
  }
  else if( period != 0 )
    queryDef.where.appendChild(&lt;condition expr={"[@startDate] &lt; AddSeconds([delivery/scheduling/@validityDate], "+period+" )"}/&gt;)

  if ( ctx.filter.@groupBy == 'label' )
    grouping = "[url/@label]"
  else if ( ctx.filter.@groupBy == 'url' )
    grouping = "[url/@source]"
  else if ( ctx.filter.@groupBy == 'category' )
    grouping = "[url/@category]"

    queryDef.select.appendChild(&lt;node alias="@_label" expr={grouping} groupBy="true"/&gt;)

  var query = xtk.queryDef.create(queryDef)
  var res = query.ExecuteQuery()
  var total = 0, i, stat, data = res.child("*")
  ctx.@urlCount = data.length()

    if ( data.length() &gt; 0 )
  {
    // do a first pass on the first query to get the total count of clicks
    for (i=0; i &lt; data.length(); i++)
      total += parseInt(data[i].@_click)

    var filter = new Array()
    var top = parseInt(ctx.filter.@top)
    for (var i=0; i &lt; data.length() &amp;&amp; i &lt; top; i++)
    {
      stat = data[i]
      stat.@_total = total
      ctx.listData.appendChild(stat)
      filter.push(stat.@_label.toString().replace(/\'/g, "\\'").replace(/\%/g, "\\%"))
    }

    // QUERY #2: get the detail per period
    // compute the X scale to use
    if ( period == 0 )
      // automatic =&gt; get the duration between now and the start of the delivery
      period = parseInt(ctx.data.query.@duration) * 3600

    var truncSec = 86400
    ctx.@dateStepType = "hour"
    if ( period &lt;= 43200 )
      // less than 12 hour =&gt; display period is 30 min
      truncSec = 1800
    else if ( period &lt;= 172800 )
      // less than 48 hour =&gt; display period is the hour
      truncSec = 3600
    else if( period &lt;= 5184000 )
    {
      // less than 2 month =&gt; display period is the day
      truncSec = 86400
      ctx.@dateStepType = "day"
    }
    else if( period &lt;= 31536000 )
    {
      // less than 1 year =&gt; display period is the week
      truncSec = 604800
      ctx.@dateStepType = "week"
    }
    else
    {
      // else month
      truncSec = 2592000
      ctx.@dateStepType = "month"
    }

    if ( ctx.@dateStepType == "week" )
      queryDef.select.appendChild(&lt;node alias="@_date" expr={"TruncWeek(@startDate)"} groupBy="true"/&gt;)
    else
      queryDef.select.appendChild(&lt;node alias="@_date" expr={"TruncDate(@startDate, " + truncSec + ")"} groupBy="true"/&gt;)

    queryDef.where.appendChild(&lt;condition expr="@startDate is not null"/&gt;)
    query = xtk.queryDef.create(queryDef)
    res = query.ExecuteQuery()
    // add  data to chart (ordered same as list)
    for each( var trackingStats in ctx.listData.trackingStats )
      ctx.graphData.appendChild(res.trackingStats.(@_label == trackingStats.@_label))
  }
    }</code>
          </javascript>
          <container colcount="2" id="12356480231" label="Container 2" style="folderContainer" type="container">
            <visibleIf>
              <condition id="12356480432" leftExpr="@_context" operator="=" rightExpr="'global'"/>
            </visibleIf>
            <input action="transition" id="12356480302" label="Choose a folder" transition="next" type="folderSelector">
              <storage mode="var">
                <variable xpath="folder"/>
              </storage>
            </input>
          </container>
          <table id="12083849641" label="Dashboard" labelPosition="bottom" type="tabular">
            <data dataSource="context" schema="temp:formContext" startPath="/data/query">
              <group>
                <columns>
                  <column id="12083849703" width="82"/>
                  <column id="12084409306" width="93"/>
                  <column id="120838505211" width="90"/>
                  <column id="120844093311" width="77"/>
                  <column id="120838506716" width="75"/>
                  <column id="120844093716" width="93"/>
                </columns>
                <header id="12083849704">
                  <cell alias="expr1208385044" id="12083849705" label="Reactivity">
                    <style alignment="left">
                      <font color="#666666"/>
                    </style>
                  </cell>
                  <cell id="12084409307"/>
                  <cell alias="expr1208385075" id="120838505212" label="Distinct clicks">
                    <style>
                      <font color="#666666"/>
                    </style>
                  </cell>
                  <cell id="120844093312">
                    <style verticalAlignment="top"/>
                  </cell>
                  <cell alias="expr1208385090" id="120838506717" label="Cumulated clicks">
                    <style>
                      <font color="#666666"/>
                    </style>
                  </cell>
                  <cell id="120844093717">
                    <style>
                      <font style="normal"/>
                    </style>
                  </cell>
                </header>
                <row id="12083849706">
                  <cell expr="@reactivity" id="12083849707">
                    <style alignment="left" format="percentage" verticalAlignment="top">
                      <font color="#707070" size="20" style="bold"/>
                    </style>
                  </cell>
                  <cell id="12084409308">
                    <style verticalAlignment="top"/>
                  </cell>
                  <cell expr="@distinctClicks" id="120838505213">
                    <style alignment="left" format="percentage" verticalAlignment="top">
                      <font color="#707070" size="20" style="bold"/>
                    </style>
                  </cell>
                  <cell id="120844093313">
                    <style verticalAlignment="top">
                      <border>
                        <left style="none"/>
                        <top style="none"/>
                        <right style="none"/>
                        <bottom style="none"/>
                      </border>
                    </style>
                  </cell>
                  <cell expr="@totalClicks" id="120838506718">
                    <style alignment="left" format="percentage" verticalAlignment="top">
                      <font color="#707070" size="20" style="bold"/>
                    </style>
                  </cell>
                  <cell id="120844093718">
                    <style verticalAlignment="top"/>
                  </cell>
                </row>
                <footer id="12083849708">
                  <cell alias="expr1208386536" id="12083849709" label="Platform average:">
                    <style verticalAlignment="top">
                      <font color="#666666" size="10" style="normal"/>
                    </style>
                  </cell>
                  <cell expr="@reactivityHistory" id="12084409309">
                    <style alignment="left" format="percentage" verticalAlignment="top">
                      <font size="10" style="normal"/>
                    </style>
                  </cell>
                  <cell alias="expr1208390222" id="120838505214" label="Platform average:">
                    <style verticalAlignment="top">
                      <font color="#666666" size="10" style="normal"/>
                    </style>
                  </cell>
                  <cell expr="@distinctClicksHistory" id="120844093314">
                    <style alignment="left" format="percentage" verticalAlignment="top">
                      <font size="10" style="normal"/>
                    </style>
                  </cell>
                  <cell alias="expr1208390225" id="120838506719" label="Platform average:">
                    <style verticalAlignment="top">
                      <font color="#666666" size="10" style="normal"/>
                    </style>
                  </cell>
                  <cell expr="@totalClicksHistory" id="120844093719">
                    <style alignment="left" format="percentage" verticalAlignment="top">
                      <font size="10" style="normal"/>
                    </style>
                  </cell>
                </footer>
              </group>
            </data>
            <rendering align="left"/>
          </table>
          <container colcount="4" id="12064460015" label="Action filter" type="container">
            <input id="12064460246" label="Top" labelPosition="hidden" type="select">
              <storage mode="var" type="">
                <variable xpath="/filter/@top"/>
                <options>
                  <option id="12064460247" label="Top 5" value="5"/>
                  <option id="12064460248" label="Top 10" value="10"/>
                  <option id="12064460249" label="Top 15" value="15"/>
                  <option id="120644602410" label="All" value="1000"/>
                </options>
              </storage>
            </input>
            <input id="120644602711" label="Period" labelPosition="hidden" type="select">
              <storage mode="var" type="byte">
                <variable xpath="/filter/@period"/>
                <options>
                  <option id="120644602712" label="From launching the action" value="0"/>
                  <option id="120644602713" label="On the first 6 hours following the launch" value="21600"/>
                  <option id="120644602714" label="On the first 12 hours following the launch" value="43200"/>
                  <option id="120644602715" label="On the first 24 hours following the launch" value="86400"/>
                  <option id="120644602716" label="On the first 48 hours following the launch" value="172800"/>
                  <option id="120644602717" label="On the first week following the launch" value="604800"/>
                  <option id="120644602718" label="On the first 15 days following the launch" value="1296000"/>
                  <option id="120644602719" label="On the first month following the launch" value="2592000"/>
                  <option id="120644602720" label="On the first 6 months following the launch" value="15724800"/>
                </options>
              </storage>
            </input>
            <input id="12082808891" label="Grouping" labelPosition="hidden" type="select">
              <storage mode="var" type="long">
                <options>
                  <option id="12082809175" label="View by labels" value="label"/>
                  <option id="12082809436" label="View by URLs" value="url"/>
                  <option id="12082809527" label="View by categories" value="category"/>
                </options>
                <variable xpath="/filter/@groupBy"/>
              </storage>
            </input>
            <link action="refresh" href="javascript:document.controller.submit('refresh');" id="12069710191" img="/xtk/img/refresh.png" label="Refresh" target="_self" tooltip="Update"/>
            <rendering inlineStyle="margin-top:8px"/>
          </container>
          <container id="123599105630" label="&lt;%== ctx.filter.@top &lt; 1000 ? &quot;Top &quot; + ctx.filter.@top + &quot; most visited links&quot;: &quot;Visited links&quot; %>" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="123599106531" label="Top links" labelPosition="bottom" type="tabular">
              <rendering tableClass="simple"/>
              <data dataSource="context" schema="temp:formContext" startPath="[listData/trackingStats]">
                <group limit="false" limitValue="10" pageBreakAtEnd="false" pageBreakAtStart="false">
                  <columns>
                    <column id="123599106532"/>
                    <column id="123599106533" widthMode="max"/>
                    <column id="123599106534"/>
                    <column id="123599106535"/>
                    <column id="123599106536"/>
                    <column id="123599106537"/>
                  </columns>
                  <header id="123599106538">
                    <cell alias="expr1207153363" id="123599106539" label="Position">
                      <style verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1206444435" id="123599106540" label="Link">
                      <style verticalAlignment="top">
                        <font color="#666666" strikethrough="false" underline="false"/>
                      </style>
                    </cell>
                    <cell alias="expr1206444510" id="123599106541" label="Clicks">
                      <style alignment="center" verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell id="123599106542">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1207087772" id="123599106543" label="Clicks (as %)">
                      <style alignment="center" verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell id="123599106544">
                      <style verticalAlignment="top"/>
                    </cell>
                  </header>
                  <row id="123599106545">
                    <cell alias="expr1207153405" expr="rownum() + '.'" id="123599106546">
                      <style alignment="right" decimalPlaces="0" use1000Sep="false" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@_label" id="123599106547">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell expr="@_click" id="123599106548">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1208279113" expr="percent(@_click, @_total)" id="123599106549">
                      <style verticalAlignment="top">
                        <extra hideValue="true" visual="bargraph"/>
                      </style>
                    </cell>
                    <cell alias="expr1207087901" expr="percent(@_click, @_total)" id="123599106550">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1208349000" expr="rowNum()-1" id="123599106551">
                      <style verticalAlignment="top">
                        <extra visual="color"/>
                      </style>
                    </cell>
                  </row>
                  <footer id="123599106552">
                    <cell id="123599106553">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1208343485" id="123599106554" label="Others:">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666" style="italic"/>
                      </style>
                    </cell>
                    <cell alias="expr1208343521" expr="@_total-sum(@_click)" id="123599106555">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1208343583" expr="percent(@_total-sum(@_click), @_total)" id="123599106556">
                      <style verticalAlignment="top">
                        <extra hideValue="true" visual="bargraph"/>
                      </style>
                    </cell>
                    <cell alias="expr1208343599" expr="percent(@_total-sum(@_click), @_total)" id="123599106557">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1208349050" expr="count(@_label) " id="123599106558">
                      <style>
                        <extra visual="color"/>
                      </style>
                    </cell>
                  </footer>
                  <footer id="123599106559">
                    <cell id="123599106560">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1208281787" id="123599106561" label="Total:">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666" style="italic"/>
                      </style>
                    </cell>
                    <cell expr="@_total" id="123599106562">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1208343377" expr="1" id="123599106563">
                      <style format="percentage" verticalAlignment="top">
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1208343407" expr="1" id="123599106564">
                      <style format="percentage" verticalAlignment="top">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="123599106565">
                      <style verticalAlignment="top">
                        <font style="normal"/>
                        <border>
                          <left style="none"/>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </footer>
                </group>
              </data>
            </table>
            <visibleIf>
              <condition id="12359920335" leftExpr="@urlCount" operator=">" rightExpr="0"/>
            </visibleIf>
          </container>
          <html id="12084540311" label="No data">
            <source>&lt;FONT color=#ff0000&gt;&lt;STRONG&gt;&lt;EM&gt;&lt;%= $(noData) %&gt;&lt;/EM&gt;&lt;/STRONG&gt;&lt;/FONT&gt;</source>
            <visibleIf>
              <condition id="120845410225" leftExpr="@urlCount" operator="=" rightExpr="0"/>
            </visibleIf>
            <strings>
              <string id="noData" value="No data available for the requested period."/>
            </strings>
          </html>
          <container id="123599249867" label="Breakdown of clicks over time" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <visibleIf>
              <condition id="12359926158" leftExpr="@urlCount" operator=">" rightExpr="0"/>
            </visibleIf>
            <chart displayLabels="false" displayLegend="false" height="300" id="chart0" label="Hour chart" stacked="true" width="700">
              <data dataSource="context" schema="temp:formContext" startPath="[graphData/trackingStats]" variableCount="2">
                <variables>
                  <row>
                    <var dateStepType="3600" expr="@_date" label="Date" type="date"/>
                  </row>
                  <column>
                    <var expr="@_label" label="Label"/>
                  </column>
                </variables>
                <statistic aggExpr="@_click" alias="click" label="Clicks" operator="sum"/>
              </data>
              <visibleIf>
                <condition id="13690408231" leftExpr="@dateStepType" operator="=" rightExpr="'hour'"/>
              </visibleIf>
            </chart>
            <chart displayLabels="false" displayLegend="false" height="300" id="chart1" label="Day chart" stacked="true" width="700">
              <data dataSource="context" schema="temp:formContext" startPath="[graphData/trackingStats]" variableCount="2">
                <variables>
                  <row>
                    <var expr="@_date" label="Date" type="date"/>
                  </row>
                  <column>
                    <var expr="@_label" label="Label"/>
                  </column>
                </variables>
                <statistic aggExpr="@_click" alias="click" label="Clicks" operator="sum"/>
              </data>
              <visibleIf>
                <condition id="13690408492" leftExpr="@dateStepType" operator="=" rightExpr="'day'"/>
              </visibleIf>
            </chart>
            <chart displayLabels="false" displayLegend="false" height="300" id="chart2" label="Week chart" stacked="true" width="700">
              <data dataSource="context" schema="temp:formContext" startPath="[graphData/trackingStats]" variableCount="2">
                <variables>
                  <row>
                    <var dateStepType="604800" expr="@_date" label="Date" type="date"/>
                  </row>
                  <column>
                    <var expr="@_label" label="Label"/>
                  </column>
                </variables>
                <statistic aggExpr="@_click" alias="click" label="Clicks" operator="sum"/>
              </data>
              <visibleIf>
                <condition id="13690408623" leftExpr="@dateStepType" operator="=" rightExpr="'week'"/>
              </visibleIf>
            </chart>
            <chart displayLabels="false" displayLegend="false" height="300" id="chart3" label="Month chart" stacked="true" width="700">
              <data dataSource="context" schema="temp:formContext" startPath="[graphData/trackingStats]" variableCount="2">
                <variables>
                  <row>
                    <var dateStepType="-1" expr="@_date" label="Date" type="date"/>
                  </row>
                  <column>
                    <var expr="@_label" label="Label"/>
                  </column>
                </variables>
                <statistic aggExpr="@_click" alias="click" label="Clicks" operator="sum"/>
              </data>
              <visibleIf>
                <condition id="13690408714" leftExpr="@dateStepType" operator="=" rightExpr="'month'"/>
              </visibleIf>
            </chart>
          </container>
        </page>
        <test label="Test" name="test" x="16" y="96">
          <transitions>
            <condition label="Delivery" name="transition1" target="test22">
              <condition id="12354282485" leftExpr="@_context" operator="=" rightExpr="'selection'"/>
              <condition boolOperator="and" id="12483678450" leftExpr="@_schema" operator="=" rightExpr="'nms:delivery'"/>
            </condition>
            <default label="Global or campaign" name="default" target="query22"/>
          </transitions>
        </test>
        <test label="Test" name="test2" x="440" y="304">
          <transitions>
            <condition label="Campaign" name="condition" target="script2">
              <condition id="12483739820" leftExpr="@_context" operator="=" rightExpr="'selection'"/>
              <condition boolOperator="and" id="12483739941" leftExpr="@_schema" operator="=" rightExpr="'nms:operation'"/>
            </condition>
            <default label="Global" name="default" target="query3"/>
          </transitions>
        </test>
        <test label="Multiple selection?" name="test22" x="163" y="74">
          <transitions>
            <condition label="Multiple selection" name="transition1" target="query32">
              <condition id="13261075670" leftExpr="@_selectionCount" operator=">" rightExpr="1"/>
            </condition>
            <default label="Single selection" name="default" target="query"/>
          </transitions>
        </test>
        <script label="Script" name="script" x="792" y="176">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <code>if( ctx.@_selection.toString() != "" &amp;&amp; ctx.@_schema == "nms:delivery" )
{
  if( ctx.@_selectionCount == 1 )
  ctx.@desc = $(action) + ctx.data.query.@label
  else
    ctx.@desc = $(multi)
}
    else if( ctx.@_selection.toString() != "" &amp;&amp; ctx.@_schema == "nms:operation" )
      ctx.@desc = $(operation) + ctx.data.query.@label
else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; (ctx.vars.folder.@isView == "1" || ctx.vars.folder.@isView == "true") )
  ctx.title = $(folderView)  + ' (' + ctx.vars.folder.@label + ')'
else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; ctx.vars.folder.@id != 0 &amp;&amp; ctx.vars.folder.@fullName != "" &amp;&amp; ctx.vars.folder.@fullName != "/" )
  ctx.@desc = $(folder)  + ' (' + ctx.vars.folder.@label + ')'
else
  ctx.@desc = $(globalContextLabel)</code>
          <strings>
            <string id="action" value="Delivery: "/>
            <string id="operation" value="Campaign: "/>
            <string id="folder" value="Deliveries in the folder"/>
            <string id="globalContextLabel" value="Whole platform"/>
            <string id="folderView" value="Deliveries in the view"/>
            <string id="multi" value="Multiple selection"/>
          </strings>
        </script>
        <script label="Load campaign's actions" name="script2" x="592" y="232">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <code>if( ctx.@_historyId.toString().length == 0 )
{
  var queryDefXML = &lt;queryDef schema="nms:delivery" operation="getIfExists"&gt;
                      &lt;select&gt;
                        &lt;node alias="@reactivity" analyze="false" expr="percent(sum([indicators/@recipientClick]), sum([indicators/@estimatedRecipientOpen]))" sort="true"/&gt;
                        &lt;node alias="@distinctClicks" analyze="false" expr="percent(sum([indicators/@personClick]), sum([indicators/@success]))" sort="true"/&gt;
                        &lt;node alias="@totalClicks" analyze="false" expr="percent(sum([indicators/@totalRecipientClick]), sum([indicators/@success]))" sort="true"/&gt;
                        &lt;node alias="@duration" analyze="false" expr="Abs(HoursDiff(GetDate(), min([scheduling/@contactDate])))" sort="true"/&gt;
                        &lt;node alias="@label" analyze="false" enabledIf="HasPackage('nms:campaign')" expr="[operation/@label]" groupBy="true" noSqlBind="true" sort="true"/&gt;
                      &lt;/select&gt;
                      &lt;where&gt;
                        &lt;condition expr="@FCP = 0"/&gt;
                     &lt;/where&gt;
                   &lt;/queryDef&gt;
   queryDefXML.where.appendChild(ctx._contextFilter.where.*)
   var query = xtk.queryDef.create(expandAbstractFormQuery(queryDefXML.toXMLString(), ctx.toXMLString()))
   var res = query.ExecuteQuery()
   res.setName("/data/query".substring("/data/query".lastIndexOf("/")+1))
   ctx.data.query  = res
}</code>
        </script>
        <query contextFilter="true" folderFilter="false" folderVariable="folder" label="Load the action" name="query" x="384" y="16">
          <transitions>
            <next name="next" target="query2"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:delivery"/>
            <select>
              <node expr="@label" sort="true"/>
              <node alias="@reactivity" expr="percent([indicators/@recipientClick], [indicators/@estimatedRecipientOpen])" sort="true"/>
              <node alias="@distinctClicks" expr="percent([indicators/@personClick], [indicators/@success])" sort="true"/>
              <node alias="@totalClicks" expr="percent([indicators/@totalRecipientClick], [indicators/@success])" sort="true"/>
              <node expr="[@typology-id]" sort="true"/>
              <node expr="@messageType" sort="true"/>
              <node alias="@contactDate" expr="[scheduling/@contactDate]"/>
              <node alias="@duration" expr="Abs(HoursDiff([scheduling/@webValidityDate], [scheduling/@contactDate]))"/>
            </select>
            <orderBy displayOrder="Libellé, percent(destinataires ayant cliqué, estimation des destinataires ayant ouvert), percent(personnes ayant cliqué, succès), percent(nombre total de destinataires ayant cliqué, succès), Clé étrangère du lien 'Typologie' (champ 'id'), Type"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/data/query"/>
        </query>
        <query folderFilter="false" folderVariable="folder" label="Platform average" name="query2" x="528" y="88">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" expr="[scheduling/@contactDate] >= MonthsAgo(6)" internalId="1208439731"/>
              <condition boolOperator="AND" expr="@FCP = 0" internalId="1208513824"/>
              <condition boolOperator="AND" enabledIf="$(@_selectionCount) == 1" expr="@messageType = $([/data/query/@messageType])" internalId="1208440689"/>
              <condition boolOperator="AND" enabledIf="$(@_selectionCount) == 1" expr="[@typology-id] = $([/data/query/@typology-id])" internalId="1208440866"/>
            </where>
            <select>
              <node alias="@reactivity" expr="percent(sum([indicators/@recipientClick]), sum([indicators/@estimatedRecipientOpen]))" sort="true"/>
              <node alias="@distinctClicks" expr="percent(sum([indicators/@personClick]), sum([indicators/@success]))" sort="true"/>
              <node alias="@totalClicks" expr="percent(sum([indicators/@totalRecipientClick]), sum([indicators/@success]))" sort="true"/>
              <node alias="@count" expr="count(@id)" sort="true"/>
            </select>
            <orderBy displayOrder="percent(sum(destinataires ayant cliqué), sum(estimation des destinataires ayant ouvert)), percent(sum(personnes ayant cliqué), sum(succès)), percent(sum(nombre total de destinataires ayant cliqué), sum(succès)), count(clé primaire)"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/data/query2"/>
        </query>
        <query contextFilter="true" folderFilter="true" folderVariable="folder" label="Load folder actions" name="query3" x="640" y="368">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm">
              <condition expr="@FCP = 0" internalId="1248378634"/>
            </where>
            <select>
              <node alias="@reactivity" expr="percent(sum([indicators/@recipientClick]), sum([indicators/@estimatedRecipientOpen]))" sort="true"/>
              <node alias="@distinctClicks" expr="percent(sum([indicators/@personClick]), sum([indicators/@success]))" sort="true"/>
              <node alias="@totalClicks" expr="percent(sum([indicators/@totalRecipientClick]), sum([indicators/@success]))" sort="true"/>
              <node alias="@duration" expr="Abs(HoursDiff(GetDate(), min([scheduling/@contactDate])))" sort="true"/>
            </select>
            <orderBy displayOrder="percent(sum(destinataires ayant cliqué), sum(estimation des destinataires ayant ouvert)), percent(sum(personnes ayant cliqué), sum(succès)), percent(sum(nombre total de destinataires ayant cliqué), sum(succès)), Abs(HoursDiff(GetDate(), min(date de contact)))"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/data/query"/>
        </query>
        <query folderFilter="false" folderVariable="folder" label="Platform average" name="query22" x="160" y="224">
          <transitions>
            <next name="next" target="test2"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" expr="[scheduling/@contactDate] >= MonthsAgo(6)" internalId="1208439731"/>
              <condition expr="@FCP = 0" internalId="1208513824"/>
            </where>
            <select>
              <node alias="@reactivity" expr="percent(sum([indicators/@recipientClick]), sum([indicators/@estimatedRecipientOpen]))" sort="true"/>
              <node alias="@distinctClicks" expr="percent(sum([indicators/@personClick]), sum([indicators/@success]))" sort="true"/>
              <node alias="@totalClicks" expr="percent(sum([indicators/@totalRecipientClick]), sum([indicators/@success]))" sort="true"/>
              <node alias="@count" expr="count(@id)" sort="true"/>
            </select>
            <orderBy displayOrder="percent(sum(destinataires ayant cliqué), sum(estimation des destinataires ayant ouvert)), percent(sum(personnes ayant cliqué), sum(succès)), percent(sum(nombre total de destinataires ayant cliqué), sum(succès)), count(clé primaire)"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/data/query2"/>
        </query>
        <query contextFilter="true" folderFilter="false" folderVariable="folder" label="Load folder actions" name="query32" x="347" y="130">
          <transitions>
            <next name="next" target="query2"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm"/>
            <select>
              <node alias="@reactivity" expr="percent(sum([indicators/@recipientClick]), sum([indicators/@estimatedRecipientOpen]))" sort="true"/>
              <node alias="@distinctClicks" expr="percent(sum([indicators/@personClick]), sum([indicators/@success]))" sort="true"/>
              <node alias="@totalClicks" expr="percent(sum([indicators/@totalRecipientClick]), sum([indicators/@success]))" sort="true"/>
              <node alias="@duration" expr="Abs(HoursDiff(GetDate(), min([scheduling/@contactDate])))" sort="true"/>
            </select>
            <orderBy displayOrder="percent(sum(destinataires ayant cliqué), sum(estimation des destinataires ayant ouvert)), percent(sum(personnes ayant cliqué), sum(succès)), percent(sum(nombre total de destinataires ayant cliqué), sum(succès)), Abs(HoursDiff(GetDate(), min(date de contact)))"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/data/query"/>
        </query>
      </activities>
      <desc>Most reactive URLs and associated clickstreams.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Feedback" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/bar.png" internalName="recipientActivity" isGlobal="1" label="User activities" multiselection="0" order="3" prefered="1" schema="nms:delivery">
      <properties renderingEngine="1" windowTitle="&lt;%== ctx.title %>"/>
      <variables>
        <variable default="1" label="Clicks" type="boolean" xpath="clicked"/>
        <variable default="1" label="Opens" type="boolean" xpath="opened"/>
        <variable default="1" label="Transactions" type="boolean" xpath="transaction"/>
        <variable default="WeekDay(@startDate)" label="Period" xpath="period"/>
        <variable label="Current date" type="datetime" xpath="currentDate"/>
        <variable label="Folder" xpath="folder"/>
        <variable label="Incorrect configuration" type="boolean" xpath="graphConfigError"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred..."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:delivery"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:delivery">
        <condition enabledIf="$(@_context)='selection'" expr="trackingStats" internalId="1215426778" setOperator="EXISTS"/>
        <condition boolOperator="AND" expr="@messageType = 0" internalId="1373286189"/>
      </visibleIf>
      <activities>
        <page disableNextButton="true" disablePreviousButton="false" label="User activities" name="page" x="720" y="160">
          <transitions>
            <next label="Refresh" name="next" target="script"/>
          </transitions>
          <javascript id="12060263913" label="Script 1">
            <code>// Compute report's label and date
ctx.delivery.@label = ctx.data.delivery.@label
ctx.vars.currentDate = NL.XTK.formatDateTime(new Date(), "")

var periodType = 0
if( ctx.vars.period == "WeekDay(@startDate)" )
  periodType = 1
else if( ctx.vars.period == "subString(toString(TruncTime(@startDate, 1800)), 12, 20)" )
  periodType = 2
else if( ctx.vars.period == "subString(toString(TruncTime(@startDate, 3600)), 12, 20)" )
  periodType = 3

// Copy data set in /tmp
var data
if( periodType == 1 )
  data = ctx.data.day.copy()
else if( periodType == 2 )
  data = ctx.data.halfDay.copy()
else if( periodType == 3 )
  data = ctx.data.hour.copy()

data.setName("data")
ctx.tmp.data = data

// Build chart config
var chartId = "chart_page_12034444291"
if( ctx[chartId] == null )
  ctx.appendChild(&lt;{chartId}/&gt;)

// ### use string groups
var strLabelMapping = ""
var strScaleXLabel= $(PERIOD)
var strScaleYLabel= $(EVENT_COUNT)
if( periodType == 1 )
{
  strLabelMapping = $(DAY_LABEL_ENUM)
  strScaleXLabel = $(DAY)
}
else if( periodType == 2 )
{
  strScaleXLabel = $(HALF_DAY)
}
else if( periodType == 3 )
{
  strScaleXLabel = $(HOUR)
}

ctx[chartId].graphConfig = &lt;graphConfig accumulate="false" autoScale="true" autoStretch="true" computePercent="false" innerPieRadius="0.6" lang="fra" perspective="true" renderType="column" scaleXLabel={strScaleXLabel} scaleYLabel={strScaleYLabel}&gt;
  &lt;legend layout="right" visible="true"&gt;&lt;/legend&gt;
&lt;/graphConfig&gt;


  ctx[chartId].graphConfig.appendChild(&lt;series ignore={ctx.vars.transaction != 1} color="3B87A2" aggregate="sum" labelMapping={strLabelMapping} label={$(NUMBER_OF_TRANSACTIONS)} renderGroup="layered" xpath="/data/cubeSchema_trackingStats" xpathIndex="@index" xpathValue="@transactions"&gt;&lt;/series&gt;)

  ctx[chartId].graphConfig.appendChild(&lt;series ignore={ctx.vars.clicked != 1} color="FF8012" aggregate="sum" labelMapping={strLabelMapping} label={$(NUMBER_OF_CLICKS)} renderGroup="layered" xpath="/data/cubeSchema_trackingStats" xpathIndex="@index" xpathValue="@clics"&gt;&lt;/series&gt;)

  ctx[chartId].graphConfig.appendChild(&lt;series ignore={ctx.vars.opened != 1} color="8CA23B" aggregate="sum" labelMapping={strLabelMapping} label={$(NUMBER_OF_OPENS)} renderGroup="layered" xpath="/data/cubeSchema_trackingStats" xpathIndex="@index" xpathValue="@opens"&gt;&lt;/series&gt;)

ctx.vars.graphConfigError = typeof ctx[chartId].graphConfig.series[0] == "undefined"

if( periodType &gt; 1 )
{
  ctx[chartId].graphConfig.@indexType = "hour"
  ctx[chartId].graphConfig.@removeDate = "true"
  delete ctx[chartId].graphConfig.series.@labelMapping
}</code>
            <strings>
              <string id="PERIOD" value="Period"/>
              <string id="EVENT_COUNT" value="Number of events"/>
              <string id="DAY_LABEL_ENUM" value="daysLabelFra"/>
              <string id="DAY" value="Day"/>
              <string id="HALF_DAY" value="Half-hour"/>
              <string id="HOUR" value="Time"/>
              <string id="NUMBER_OF_TRANSACTIONS" value="Number of transactions"/>
              <string id="NUMBER_OF_OPENS" value="Number of opens"/>
              <string id="NUMBER_OF_CLICKS" value="Number of clicks"/>
            </strings>
          </javascript>
          <container colcount="2" id="12356441431" label="Container 2" style="folderContainer" type="container">
            <visibleIf>
              <condition id="12356441535" leftExpr="@_context" operator="!=" rightExpr="'selection'"/>
            </visibleIf>
            <input action="transition" colspan="5" id="12356441472" label="Choose a folder" transition="next" type="folderSelector">
              <storage mode="var">
                <variable xpath="folder"/>
              </storage>
              <visibleIf>
                <condition id="12356441473" leftExpr="@_context" operator="=" rightExpr="global"/>
              </visibleIf>
            </input>
          </container>
          <container colcount="5" id="12034275795" label="Container 1" type="container">
            <input id="12076801481" label="Parameters:" required="true" type="select">
              <storage mode="var" type="boolean" useLabelAsValue="false">
                <options>
                  <option id="12076801482" label="One day intervals" selected="1" value="WeekDay(@startDate)"/>
                  <option id="12076801483" label="One hour intervals" value="subString(toString(TruncTime(@startDate, 3600)), 12, 20)"/>
                  <option id="12076801484" label="30 minutes intervals" value="subString(toString(TruncTime(@startDate, 1800)), 12, 20)"/>
                </options>
                <variable xpath="period"/>
              </storage>
              <rendering verticalAlign="middle"/>
            </input>
            <input id="12034276417" label="Opens" required="false" type="checkbox">
              <storage mode="var" selected="true" type="boolean">
                <variable xpath="opened"/>
                <checkedValue>1</checkedValue>
              </storage>
              <rendering verticalAlign="middle" whiteSpace="nowrap"/>
            </input>
            <input id="12034276438" label="Clicks" type="checkbox">
              <storage mode="var" selected="true" type="boolean">
                <variable xpath="clicked"/>
                <checkedValue>1</checkedValue>
              </storage>
              <rendering verticalAlign="middle" whiteSpace="nowrap"/>
            </input>
            <input id="12034276386" label="Transactions" type="checkbox">
              <storage mode="var" selected="true" type="boolean">
                <variable xpath="transaction"/>
                <checkedValue>1</checkedValue>
              </storage>
              <rendering verticalAlign="middle" whiteSpace="nowrap"/>
            </input>
            <link action="next" href="javascript:document.controller.submit('refresh');" id="120343604318" img="/xtk/img/refresh.png" label="Refresh" staticAlignment="label" target="_self" tooltip="Refresh chart" transition="next"/>
          </container>
          <chart id="12034444291" innerPieRadius="0.6" label="Chart 1" labelPosition="hidden" width="800">
            <data dataSource="context" schema="temp:formContext" startPath="[tmp/data]">
              <variables>
                <row>
                  <var classingType="0" expr="[tmp/data/cubeSchema_trackingStats/@index]" label="@index"/>
                </row>
              </variables>
              <statistic aggExpr="[tmp/data/cubeSchema_trackingStats/@transactions]" alias="a" label="Number of transactions" operator="sum"/>
              <statistic aggExpr="[tmp/data/cubeSchema_trackingStats/@clics]" alias="b" label="Number of clicks" operator="sum"/>
              <statistic aggExpr="[tmp/data/cubeSchema_trackingStats/@opens]" alias="c" label="Number of opens" operator="sum"/>
            </data>
            <visibleIf>
              <condition id="12861856384" leftExpr="[vars/graphConfigError]" operator="=" rightExpr="false"/>
            </visibleIf>
          </chart>
          <html id="12861856555" label="HTML 1">
            <source>&lt;P&gt;&lt;FONT color=#ff0000&gt;&lt;STRONG&gt;&amp;lt;%= $(graphConfigError) %&amp;gt;&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/P&gt;</source>
            <strings>
              <string id="graphConfigError" value="Please check at least one of the three options."/>
            </strings>
            <visibleIf>
              <condition id="12861857476" leftExpr="[vars/graphConfigError]" operator="=" rightExpr="true"/>
            </visibleIf>
          </html>
        </page>
        <test label="Test" name="test" x="432" y="160">
          <transitions>
            <condition label="Day" name="transition1" target="query">
              <condition id="12130917070" leftExpr="[vars/period]" operator="=" rightExpr="'WeekDay(@startDate)'"/>
            </condition>
            <condition label="Half-hour" name="condition" target="query3">
              <condition id="12130917451" leftExpr="[vars/period]" operator="=" rightExpr="'subString(toString(TruncTime(@startDate, 1800)), 12, 20)'"/>
            </condition>
            <condition label="Time" name="condition2" target="query32">
              <condition id="12130917632" leftExpr="[vars/period]" operator="=" rightExpr="'subString(toString(TruncTime(@startDate, 3600)), 12, 20)'"/>
            </condition>
            <default enabled="false" name="default"/>
          </transitions>
        </test>
        <test label="Display context" name="test2" x="40" y="168">
          <transitions>
            <condition label="Delivery" name="transition1" target="query2">
              <condition id="12151938082" leftExpr="@_context" operator="=" rightExpr="'selection'"/>
              <condition boolOperator="and" id="12483514051" leftExpr="@_schema" operator="=" rightExpr="'nms:delivery'"/>
            </condition>
            <condition label="Campaign" name="condition" target="query4">
              <condition id="12483514272" leftExpr="@_context" operator="=" rightExpr="'selection'"/>
              <condition boolOperator="and" id="12483514393" leftExpr="@_schema" operator="=" rightExpr="'nms:operation'"/>
            </condition>
            <default label="Global" name="default" target="script"/>
          </transitions>
        </test>
        <script label="Script" name="script" x="336" y="160">
          <transitions>
            <next name="next" target="test"/>
          </transitions>
          <code>if( ctx.title.length() == 0 )
{
      if( ctx.label.@label != undefined &amp;&amp; ctx.@_schema == "nms:operation" )
        ctx.title = $(operation) + ctx.label.@label
      else if( ctx.data.delivery.@label != undefined )
    ctx.title = $(action) + ctx.data.delivery.@label
  else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; (ctx.vars.folder.@isView == "1" || ctx.vars.folder.@isView == "true") )
    ctx.title = $(folderView)  + ' (' + ctx.vars.folder.@label + ')'
  else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; ctx.vars.folder.@id != 0 &amp;&amp; ctx.vars.folder.@fullName != "" &amp;&amp; ctx.vars.folder.@fullName != "/" )
    ctx.title = $(folder)  + ' (' + ctx.vars.folder.@label + ')'
  else
    ctx.title = $(globalContextLabel)
}</code>
          <strings>
            <string id="globalContextLabel" value="Whole platform"/>
            <string id="action" value="Delivery:"/>
            <string id="folder" value="Deliveries in the folder"/>
            <string id="folderView" value="Deliveries in the view"/>
            <string id="operation" value="Campaign: "/>
          </strings>
        </script>
        <query contextFilter="false" contextLink="[delivery_delivery/@id]" cubeData-cs="Consolidated tracking (trackingStats)" folderFilter="true" folderVariable="folder" inputType="2" label="Tracking by day" name="query" selectAll="false" useAggregates="false" x="560" y="240">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <source schema="temp:cubeSchema_trackingStats">
            <where filterName="backGroundFilterFrm" filteringSchema="temp:cubeSchema_trackingStats">
              <condition boolOperator="AND" enabledIf="$(@_context)='selection' and $(@_schema)='nms:delivery'" expr="[delivery_delivery/@id] = $(@_selection)" internalId="1203335681"/>
              <condition boolOperator="AND" enabledIf="$(@_context)='selection' and $(@_schema)='nms:operation'" expr="[delivery_delivery/@operation-id] = $(@_selection)" internalId="1248352888"/>
              <condition enabledIf="$(@_context)='selection' and $(@_schema)='nms:operation'" expr="[delivery_delivery/@FCP] = 0" internalId="1248360560"/>
            </where>
            <select>
              <node alias="@index" expr="@date_day" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@clics" expr="@clics" sort="true"/>
              <node alias="@opens" expr="@opens" sort="true"/>
              <node alias="@transactions" expr="@transactions" sort="true"/>
            </select>
            <orderBy displayOrder="Jour">
              <node expr="@date_day" sort="true"/>
            </orderBy>
            <groupBy displayGroup="Jour">
              <node expr="@date_day" noSqlBind="true"/>
            </groupBy>
          </source>
          <output path="/data/day"/>
          <cubeData _operation="none" name="trackingStats"/>
        </query>
        <query contextFilter="true" label="Delivery label" name="query2" x="192" y="112">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm"/>
            <select>
              <node expr="@label" sort="true"/>
            </select>
            <orderBy displayOrder="Libellé"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/label"/>
        </query>
        <query contextFilter="false" contextLink="[delivery_delivery/@id]" cubeData-cs="Consolidated tracking (trackingStats)" folderFilter="true" folderVariable="folder" inputType="2" label="Tracking by half-hour" name="query3" selectAll="false" useAggregates="false" x="560" y="160">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <source schema="temp:cubeSchema_trackingStats">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" enabledIf="$(@_context)='selection' and $(@_schema)='nms:delivery'" expr="[delivery_delivery/@id] = $(@_selection)" internalId="1203335681"/>
              <condition boolOperator="AND" enabledIf="$(@_context)='selection' and $(@_schema)='nms:operation'" expr="[delivery_delivery/@operation-id] = $(@_selection)" internalId="1248352888"/>
              <condition enabledIf="$(@_context)='selection' and $(@_schema)='nms:operation'" expr="[delivery_delivery/@FCP] = 0" internalId="1248360560"/>
            </where>
            <select>
              <node alias="@index" expr="@date_halfhour" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@clics" expr="@clics" sort="true"/>
              <node alias="@opens" expr="@opens" sort="true"/>
              <node alias="@transactions" expr="@transactions" sort="true"/>
            </select>
            <orderBy displayOrder="Demi-heure">
              <node alias="expr1252438409" expr="@date_halfhour" noSqlBind="true" sort="1"/>
            </orderBy>
            <groupBy displayGroup="Demi-heure">
              <node alias="expr1252438453" expr="@date_halfhour" noSqlBind="true"/>
            </groupBy>
          </source>
          <limiter enabled="false"/>
          <output path="/data/halfDay"/>
          <cubeData _operation="none" name="trackingStats"/>
        </query>
        <query contextFilter="false" contextLink="[delivery_delivery/@id]" cubeData-cs="Consolidated tracking (trackingStats)" folderFilter="true" folderVariable="folder" inputType="2" label="Tracking by hour" name="query32" selectAll="false" useAggregates="false" x="560" y="72">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <source schema="temp:cubeSchema_trackingStats">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" enabledIf="$(@_context)='selection' and $(@_schema)='nms:delivery'" expr="[delivery_delivery/@id] = $(@_selection)" internalId="1203335681"/>
              <condition boolOperator="AND" enabledIf="$(@_context)='selection' and $(@_schema)='nms:operation'" expr="[delivery_delivery/@operation-id] = $(@_selection)" internalId="1248352888"/>
              <condition enabledIf="$(@_context)='selection' and $(@_schema)='nms:operation'" expr="[delivery_delivery/@FCP] = 0" internalId="1248360560"/>
            </where>
            <select>
              <node alias="@index" expr="@date_hour" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@clics" expr="@clics" sort="true"/>
              <node alias="@opens" expr="@opens" sort="true"/>
              <node alias="@transactions" expr="@transactions" sort="true"/>
            </select>
            <orderBy displayOrder="Heure">
              <node alias="expr1252438263" expr="@date_hour" noSqlBind="true" sort="true"/>
            </orderBy>
            <groupBy displayGroup="Heure">
              <node alias="expr1252438307" expr="@date_hour" noSqlBind="true"/>
            </groupBy>
          </source>
          <limiter enabled="false"/>
          <output path="/data/hour"/>
          <cubeData _operation="none" name="trackingStats"/>
        </query>
        <query contextFilter="false" label="Label of the campaign" name="query4" x="192" y="224">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:operation">
            <where filterName="backGroundFilterFrm">
              <condition expr="@id = $(@_selection)" internalId="1248351834"/>
            </where>
            <select>
              <node expr="@label" sort="true"/>
            </select>
            <orderBy displayOrder="Libellé"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/label"/>
        </query>
      </activities>
      <desc>Breakdown of opens, click and transactions by time period.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Technical data" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/area.png" internalName="throughput" isGlobal="1" label="Delivery throughput" multiselection="0" schema="nms:delivery">
      <properties renderingEngine="1" windowTitle="&lt;%== ctx.title %>"/>
      <variables>
        <variable default="21600" label="Period" type="long" xpath="period"/>
        <variable default="0" label="Number of statistical samples" type="long" xpath="/@statsCount"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:delivery"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:delivery">
        <condition expr="@deliveryMode &lt;> 2" internalId="1"/>
      </visibleIf>
      <activities>
        <page label="Delivery throughput" name="page" x="448" y="56">
          <transitions>
            <next enabled="false" label="Refresh" name="next" x="597" y="170"/>
          </transitions>
          <javascript id="12060263913" label="Script 1">
            <code>var bSelection = ctx.@_context == 'selection';

if( ctx.vars.period &lt;= 172800 )
{
  ctx.vars.trunc = 600
  ctx.vars.valueScaleFactor = 6
  ctx.vars.dateStepType = 'minute'
  ctx.vars.dateStepFactor = '10'
}
else if( ctx.vars.period &lt;= 2592000 )
{
  ctx.vars.trunc = 3600
  ctx.vars.valueScaleFactor = 1
  ctx.vars.dateStepType = 'hour'
  ctx.vars.dateStepFactor = '1'
}
else
{
  ctx.vars.trunc = 3600 * 6
  ctx.vars.valueScaleFactor = 1 / 6
  ctx.vars.dateStepType = 'hour'
  ctx.vars.dateStepFactor = 6
}

// If context is history, there's nothing to do
if( ctx.@_historyId.toString().length == 0 )
{
  var cond
      if( bSelection &amp;&amp; ctx.@_schema == "nms:delivery" )
    cond = &lt;condition expr={ "[@delivery-id] in (" + ctx.@_selection + ") AND @date &lt;= addSeconds(#" + ctx.delivery.scheduling.@contactDate + "#, " + ctx.vars.period + ")" }/&gt;
      else if( bSelection &amp;&amp; ctx.@_schema == "nms:operation" )
        cond = &lt;condition expr={ "[delivery/@operation-id] in (" + ctx.@_selection + ") and @date &gt;= subSeconds(getDate(), " + ctx.vars.period + ")"}/&gt;
  else
    cond = &lt;condition expr={ "@date &gt;= subSeconds(getDate(), " + ctx.vars.period + ")" }/&gt;

  var query = xtk.queryDef.create(
    &lt;queryDef operation="select" schema="nms:deliveryStat"&gt;
      &lt;select&gt;
        &lt;node alias="@date_"    expr={"TruncDate(@date, " + ctx.vars.trunc + ")"} groupBy="true" orderBy="1"/&gt;
        &lt;node alias="@msgCount" expr={ctx.vars.valueScaleFactor + " * sum(@firstSuccess + @retriesSuccess)"}/&gt;
        &lt;node alias="@errCount" expr={ctx.vars.valueScaleFactor + " * sum(@firstError   + @retriesError)"}/&gt;
        &lt;node alias="@size"     expr={ctx.vars.valueScaleFactor + " * sum(@volume) * 8 / 3600"}/&gt;
      &lt;/select&gt;
      &lt;where&gt;
        { cond }
        &lt;condition expr="[@delivery-id] != 0"/&gt;
      &lt;/where&gt;
    &lt;/queryDef&gt;)
  var res = query.ExecuteQuery()

  var data = &lt;deliveryStat/&gt;
  var dataBw = &lt;bandwidth/&gt;
      ctx.@statsCount = res.deliveryStat.length()

  for( var l in res.deliveryStat)
  {
    var stat = res.deliveryStat[l]
    data.appendChild(&lt;deliveryStat date={stat.@date_} count={stat.@msgCount} series={$(success)}/&gt;)
    data.appendChild(&lt;deliveryStat date={stat.@date_} count={stat.@errCount} series={$(errors)}/&gt;)
    dataBw.appendChild(&lt;deliveryStat date={stat.@date_} size={stat.@size}/&gt;)
  }
  ctx.data.deliveryStat = data;
  ctx.data.bandwidth = dataBw;
}</code>
            <strings>
              <string id="errors" value="Errors"/>
              <string id="success" value="Success"/>
            </strings>
          </javascript>
          <container colcount="3" id="12089650371" label="Container 1" type="container">
            <input id="12089650452" label="Parameters:" required="true" type="select">
              <storage mode="var" type="" useLabelAsValue="false">
                <options>
                  <option id="12089650453" label="1 hour view" value="3600"/>
                  <option id="12089650454" label="3 hour view" value="10800"/>
                  <option id="12089650455" label="6 hour view" selected="1" value="21600"/>
                  <option id="12089650456" label="12 hour view" value="43200"/>
                  <option id="12089650457" label="24 hour view" value="86400"/>
                  <option id="12089650458" label="48 hour view" value="172800"/>
                  <option id="12089650459" label="1 week view" value="604800"/>
                </options>
                <variable xpath="period"/>
              </storage>
              <rendering verticalAlign="middle"/>
              <visibleIf>
                <condition id="120896504510" leftExpr="[@_context]" operator="=" rightExpr="'selection'"/>
              </visibleIf>
            </input>
            <input id="120896504711" label="Parameters:" required="true" type="select">
              <storage mode="var" type="" useLabelAsValue="false">
                <options>
                  <option id="120896504712" label="Last 6 hours" selected="1" value="21600"/>
                  <option id="120896504713" label="Last 12 hours" value="43200"/>
                  <option id="120896504714" label="Last 24 hours" value="86400"/>
                  <option id="120896504715" label="Last 48 hours" value="172800"/>
                  <option id="120896504716" label="Last 7 days" value="604800"/>
                  <option id="120896504717" label="Last 15 days" value="1296000"/>
                  <option id="120896504718" label="Last 30 days" value="2592000"/>
                  <option id="120896504719" label="Last 6 months" value="15724800"/>
                </options>
                <variable xpath="period"/>
              </storage>
              <rendering verticalAlign="middle"/>
              <visibleIf>
                <condition id="120896504720" leftExpr="@_context" operator="!=" rightExpr="'selection'"/>
              </visibleIf>
            </input>
            <link action="refresh" href="javascript:document.controller.submit('refresh');" id="120896505121" img="/xtk/img/refresh.png" label="Refresh" staticAlignment="label" target="_self" tooltip="Refresh chart"/>
          </container>
          <chart height="170" id="12034444291" innerPieRadius="0.6" label="Speed" labelPosition="bottom" legend="Output in number of messages per hour" perspective="false" stacked="true" type="filled" width="650">
            <data dataSource="context" schema="temp:formContext" variableCount="2">
              <variables>
                <row>
                  <var classingType="0" dateStepType="60" expr="[data/deliveryStat/deliveryStat/@date]" label="Messages / hour" minClassDuration="600" stepFactor="10"/>
                </row>
                <column>
                  <var expr="[data/deliveryStat/deliveryStat/@series]" label="@series"/>
                </column>
              </variables>
              <statistic aggExpr="[data/deliveryStat/deliveryStat/@count]" alias="count" label="" operator="sum"/>
            </data>
            <visibleIf>
              <condition id="12097303061" leftExpr="@statsCount" operator=">" rightExpr="0"/>
            </visibleIf>
          </chart>
          <chart displayLegend="false" height="170" id="12095666171" innerPieRadius="0.6" label="Bandwidth" labelPosition="bottom" legend="Transferred output in bits per second" perspective="false" stacked="true" type="filled" width="650">
            <data dataSource="context" schema="temp:formContext">
              <variables>
                <row>
                  <var classingType="0" dateStepType="60" expr="[data/bandwidth/deliveryStat/@date]" label="bits /second" minClassDuration="600" stepFactor="10"/>
                </row>
                <column>
                  <var expr="[data/deliveryStat-collection/deliveryStat/@series]" label="@series"/>
                </column>
              </variables>
              <statistic aggExpr="[data/bandwidth/deliveryStat/@size]" alias="volume" label="" operator="sum"/>
            </data>
            <visibleIf>
              <condition id="12097302940" leftExpr="@statsCount" operator=">" rightExpr="0"/>
            </visibleIf>
          </chart>
          <html id="12097286041" label="No data">
            <source>&lt;FONT color=#ff0000&gt;&lt;STRONG&gt;&lt;EM&gt;&lt;%= $(noData) %&gt;&lt;/EM&gt;&lt;/STRONG&gt;&lt;/FONT&gt;</source>
            <visibleIf>
              <condition id="12097286042" leftExpr="@statsCount" operator="=" rightExpr="0"/>
            </visibleIf>
            <strings>
              <string id="noData" value="No data available for the requested period."/>
            </strings>
          </html>
        </page>
        <test label="Display context" name="test" x="40" y="56">
          <transitions>
            <condition label="Delivery" name="transition1" target="query2">
              <condition id="12151995933" leftExpr="@_context" operator="=" rightExpr="'selection'"/>
              <condition boolOperator="and" id="12483801010" leftExpr="@_schema" operator="=" rightExpr="'nms:delivery'"/>
            </condition>
            <condition label="Campaign" name="condition" target="query22">
              <condition id="12483801171" leftExpr="@_context" operator="=" rightExpr="'selection'"/>
              <condition boolOperator="and" id="12483801282" leftExpr="@_schema" operator="=" rightExpr="'nms:operation'"/>
            </condition>
            <default label="Global" name="default" target="script"/>
          </transitions>
        </test>
        <script label="Script" name="script" x="344" y="56">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <code>if( ctx.delivery.@label != undefined &amp;&amp; ctx.@_schema == 'nms:delivery' )
  ctx.title = $(action) + ctx.delivery.@label
    else if( ctx.operation.@label != undefined &amp;&amp; ctx.@_schema == 'nms:operation' )
      ctx.title = $(operation) + ctx.operation.@label
else
  ctx.title = $(globalContextLabel)</code>
          <strings>
            <string id="globalContextLabel" value="Whole platform"/>
            <string id="action" value="Delivery: "/>
            <string id="operation" value="Campaign: "/>
          </strings>
        </script>
        <query contextFilter="true" label="Delivery label" name="query2" x="200" y="128">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:delivery"/>
            <select>
              <node expr="@label" sort="true"/>
              <node expr="[scheduling/@contactDate]" sort="true"/>
            </select>
            <orderBy displayOrder="Libellé, Date de contact"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/delivery"/>
        </query>
        <query contextFilter="false" label="Primary key equals the value of the parameter '@_selection'" name="query22" x="208" y="224">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:operation">
            <where filterName="backGroundFilterFrm">
              <condition expr="@id = $(@_selection)" internalId="1248432106"/>
            </where>
            <select>
              <node expr="@label" sort="true"/>
            </select>
            <orderBy displayOrder="Libellé"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/operation"/>
        </query>
      </activities>
      <desc>Delivery throughput charts, in mails/hour and Mbits/s.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Summaries" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/table.png" internalName="deliveryStatistics" isGlobal="0" label="Delivery summary" monoselection="0" schema="nms:delivery">
      <properties renderingEngine="1" windowTitle="&lt;%== ctx.title %>"/>
      <variables>
        <variable label="Number of deliveries selected" xpath="deliveryCount"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:delivery"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:delivery"/>
      <activities>
        <page label="&lt;%== ctx.@_reportLabel %>" name="page" paperOrientation="landscape" x="600" y="64">
          <transitions>
            <next enabled="false" label="Next" name="next"/>
          </transitions>
          <container id="12811055031" label="Initial target population" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="12101565781" label="Initial target population" labelPosition="hidden" type="tabular">
              <rendering tableClass="simple" width="100%"/>
              <data dataSource="context" schema="temp:formContext" startPath="[data/query/delivery]">
                <group>
                  <columns>
                    <column id="12101724020"/>
                    <column id="12101566193" widthMode="max"/>
                    <column id="121015669810"/>
                    <column id="121015677714"/>
                    <column id="121015698618"/>
                    <column id="121015703921"/>
                  </columns>
                  <header id="12101566194">
                    <cell alias="expr1210172407" id="12101724021" label="Date">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210156718" id="12101566195" label="Action">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210156731" colspan="2" id="121015669811" label="Initial population">
                      <style alignment="center" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210157013" colspan="2" id="121015698619" label="Rejected by rules">
                      <style alignment="center" verticalAlignment="top"/>
                    </cell>
                  </header>
                  <row id="12101566196">
                    <cell expr="@contactDate" id="12101724022">
                      <style format="date" useSec="false" useTime="true" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@label" id="12101566197">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell expr="@totalTarget" id="121015669812">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210156815" expr="percent(@totalTarget, sum(@totalTarget))" id="121015677716">
                      <style decimalPlaces="0" format="percentage" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@reject" id="121015698620">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210157066" expr="percent(@reject, @totalTarget)" id="121015703923">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                  </row>
                  <footer id="121015734024">
                    <cell id="12101724023">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210157368" id="121015734025" label="Totals:">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666" style="italic"/>
                      </style>
                    </cell>
                    <cell alias="expr1210157414" expr="sum(@totalTarget)" id="121015734026">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210157448" expr="1" id="121015734027">
                      <style decimalPlaces="0" format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210157479" expr="sum(@reject)" id="121015734028">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210157502" expr="percent(sum(@reject), sum(@totalTarget))" id="121015734029">
                      <style format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                  </footer>
                  <footer id="121015956330">
                    <cell id="12101724024">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210159571" id="121015956331" label="Averages:">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666" style="italic"/>
                      </style>
                    </cell>
                    <cell alias="expr1210159604" expr="avg(@totalTarget)" id="121015956332">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210159716" id="121015956333">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell id="12101724025">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell id="12101724026">
                      <style verticalAlignment="top"/>
                    </cell>
                  </footer>
                </group>
              </data>
              <visibleIf>
                <condition id="12107009120" leftExpr="count([data/query/delivery])" operator=">" rightExpr="0"/>
              </visibleIf>
            </table>
            <visibleIf>
              <condition id="12849824750" leftExpr="[vars/deliveryCount]" operator=">" rightExpr="'0'"/>
            </visibleIf>
          </container>
          <container id="12811055122" label="Execution statistics" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="12101632273" label="Execution statistics" labelPosition="hidden" type="tabular">
              <rendering tableClass="simple" width="100%"/>
              <data dataSource="context" schema="temp:formContext" startPath="[data/query/delivery]">
                <group>
                  <columns>
                    <column id="12101737055"/>
                    <column id="121016324382" widthMode="max"/>
                    <column id="121016330192"/>
                    <column id="121016329889"/>
                    <column id="1210163341103"/>
                    <column id="1210163353111"/>
                    <column id="1210163351107"/>
                    <column id="1210163366119"/>
                    <column id="1210163364115"/>
                    <column id="121016333999"/>
                  </columns>
                  <header id="121016331195">
                    <cell alias="expr1210173710" id="12101737056" label="Date">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210163317" id="121016331196" label="Action">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210163331" colspan="2" id="121016331197" label="Messages to deliver">
                      <style alignment="center" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210163348" colspan="2" id="1210163341104" label="Success">
                      <style alignment="center" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210163359" colspan="2" id="1210163351108" label="Errors">
                      <style alignment="center" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210163378" colspan="2" id="1210163364116" label="New quarantines">
                      <style alignment="center" verticalAlignment="top"/>
                    </cell>
                  </header>
                  <row id="121016324385">
                    <cell expr="@contactDate" id="12101737057">
                      <style format="date" useTime="true" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@label" id="121016324386">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell expr="@toDeliver" id="121016330193">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210163912" expr="1" id="121016329890">
                      <style decimalPlaces="0" format="percentage" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@success" id="1210163341105">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210167222" expr="percent(@success, @toDeliver)" id="1210163353113">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@error" id="1210163351109">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210167301" expr="percent(@error, @toDeliver)" id="1210163366121">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@newQuarantine" id="1210163364117">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210167372" expr="percent(@newQuarantine, @toDeliver)" id="1210163339101">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                  </row>
                  <footer id="121016324387">
                    <cell id="12101737058">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210163401" id="121016324388" label="Totals:">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666" style="italic"/>
                      </style>
                    </cell>
                    <cell alias="expr1210163866" expr="sum(@toDeliver)" id="121016330194">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210163929" expr="1" id="121016329891">
                      <style decimalPlaces="0" format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210167187" expr="sum(@success)" id="1210163341106">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210167242" expr="percent(sum(@success), sum(@toDeliver))" id="1210163353114">
                      <style format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210167282" expr="sum(@error)" id="1210163351110">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210167325" expr="percent(sum(@error), sum(@toDeliver))" id="1210163366122">
                      <style format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210167353" expr="sum(@newQuarantine)" id="1210163364118">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210167387" expr="percent(sum(@newQuarantine), sum(@toDeliver))" id="1210163339102">
                      <style format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                  </footer>
                  <footer id="1210163405123">
                    <cell id="12101737059">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210163413" id="1210163405124" label="Averages:">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666" style="italic"/>
                      </style>
                    </cell>
                    <cell alias="expr1210163884" expr="avg(@toDeliver)" id="1210163405125">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210163935" id="1210163405126">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210167193" expr="avg(@success)" id="1210163405127">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210167253" id="1210163405128">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210167288" expr="avg(@error)" id="1210163405129">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210167330" id="1210163405130">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210167361" expr="avg(@newQuarantine)" id="1210163405131">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210167392" id="1210163405132">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                  </footer>
                </group>
              </data>
              <visibleIf>
                <condition id="12107009301" leftExpr="count([data/query/delivery])" operator=">" rightExpr="0"/>
              </visibleIf>
            </table>
            <visibleIf>
              <condition id="12849825542" leftExpr="[vars/deliveryCount]" operator=">" rightExpr="'0'"/>
            </visibleIf>
          </container>
          <container id="12811055153" label="Reception statistics" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="12101758041" label="Reception statistics" labelPosition="hidden" type="tabular">
              <rendering tableClass="simple" width="100%"/>
              <data dataSource="context" schema="temp:formContext" startPath="[data/query/delivery]">
                <group>
                  <columns>
                    <column id="121017615158"/>
                    <column id="121017614854" widthMode="max"/>
                    <column id="121017581811"/>
                    <column id="121017598750"/>
                    <column id="121017598646"/>
                    <column id="121017598442"/>
                    <column id="121017598238"/>
                    <column id="121017597834"/>
                    <column id="121017597730"/>
                    <column id="121017597426"/>
                    <column id="121017597122"/>
                    <column id="121017596318"/>
                  </columns>
                  <header id="12512848760">
                    <cell id="12512848761">
                      <style>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="12512848762">
                      <style>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell colspan="4" id="12512848763" label="Opens">
                      <style alignment="center">
                        <border>
                          <left color="#999999"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="12512848767">
                      <style>
                        <border>
                          <left color="#CCCCCC"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="12512848768">
                      <style>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="12512848769">
                      <style>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="125128487610">
                      <style>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="125128487611">
                      <style>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="125128487612">
                      <style>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="121017581812">
                    <cell alias="expr1210176156" id="121017615159" label="Date">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210176160" id="121017614855" label="Action">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210175957" colspan="2" id="121017581813" label="Distinct">
                      <style alignment="center" verticalAlignment="top">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                        <font size="8"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176010" colspan="2" id="121017598647" label="Sum">
                      <style alignment="center" verticalAlignment="top">
                        <font size="8"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176049" colspan="2" id="121017598239" label="Unsubscriptions">
                      <style alignment="center" verticalAlignment="top">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                        <font size="8"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176067" colspan="2" id="121017597731" label="Mirror page">
                      <style alignment="center" verticalAlignment="top">
                        <font size="8"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176083" colspan="2" id="121017597123" label="Forwards">
                      <style alignment="center" verticalAlignment="top">
                        <font size="8"/>
                      </style>
                    </cell>
                  </header>
                  <row id="121017581814">
                    <cell expr="@contactDate" id="121017615160">
                      <style format="date" useTime="true" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@label" id="121017614856">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell expr="@estimatedRecipientOpen" id="121017581815">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210176739" expr="percent(@estimatedRecipientOpen, @success)" id="121017598752">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@estimatedTotalRecipientOpen" id="121017598648">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210176794" expr="percent(@estimatedTotalRecipientOpen, @success)" id="121017598544">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@optOut" id="121017598240">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210176858" expr="percent(@optOut, @success)" id="121017597836">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@mirrorPage" id="121017597732">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210176905" expr="percent(@mirrorPage, @success)" id="121017597428">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@forward" id="121017597124">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210176958" expr="percent(@forward, @success)" id="121017596320">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                  </row>
                  <footer id="121017581816">
                    <cell id="121017615161">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210176213" id="121017614857" label="Totals:">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666" style="italic"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176753" expr="sum(@estimatedRecipientOpen)" id="121017581817">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176769" expr="percent(sum(@estimatedRecipientOpen), sum(@success))" id="121017598753">
                      <style format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176803" expr="sum(@estimatedTotalRecipientOpen)" id="121017598649">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176819" expr="percent(sum(@estimatedTotalRecipientOpen), sum(@success))" id="121017598545">
                      <style format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176863" expr="sum(@optOut)" id="121017598241">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176882" expr="percent(sum(@optOut), sum(@success))" id="121017597837">
                      <style format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176921" expr="sum(@mirrorPage)" id="121017597733">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176934" expr="percent(sum(@mirrorPage), sum(@success))" id="121017597429">
                      <style format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176965" expr="sum(@forward)" id="121017597125">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210176991" expr="percent(sum(@forward), sum(@success))" id="121017596321">
                      <style format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                  </footer>
                  <footer id="121017760763">
                    <cell id="121017760864">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210177616" id="121017760865" label="Averages:">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666" style="italic"/>
                      </style>
                    </cell>
                    <cell alias="expr1210177639" expr="avg(@estimatedRecipientOpen)" id="121017760866">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210177648" id="121017760867">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210177727" expr="avg(@estimatedTotalRecipientOpen)" id="121017760868">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210177651" id="121017760869">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210177738" expr="avg(@optOut)" id="121017760870">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210177654" id="121017760871">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210177757" expr="avg(@mirrorPage)" id="121017760872">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210177658" id="121017760873">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210177765" expr="avg(@forward)" id="121017760874">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210177661" id="121017760875">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                  </footer>
                </group>
              </data>
              <visibleIf>
                <condition id="12107009482" leftExpr="count([data/query/delivery])" operator=">" rightExpr="0"/>
              </visibleIf>
            </table>
            <visibleIf>
              <condition id="12849825673" leftExpr="[vars/deliveryCount]" operator=">" rightExpr="'0'"/>
            </visibleIf>
          </container>
          <container id="12811055184" label="Generated click streams" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="12101869171" label="Generated click streams" labelPosition="hidden" type="tabular">
              <rendering tableClass="simple" width="100%"/>
              <data dataSource="context" schema="temp:formContext" startPath="[data/query/delivery]">
                <group>
                  <columns>
                    <column id="12101869261"/>
                    <column id="121018702832" widthMode="max"/>
                    <column id="121018702628"/>
                    <column id="121018702424"/>
                    <column id="121018702220"/>
                    <column id="121018702016"/>
                    <column id="121018701912"/>
                  </columns>
                  <header id="12101869262">
                    <cell alias="expr1210187002" id="12101869263" label="Date">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210187033" id="121018702833" label="Action">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210187062" colspan="2" id="121018702629" label="Distinct clicks">
                      <style alignment="center" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210187076" colspan="2" id="121018702221" label="Cumulated clicks">
                      <style alignment="center" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210187090" colspan="1" id="121018701913" label="Reactivity">
                      <style alignment="center" verticalAlignment="top"/>
                    </cell>
                  </header>
                  <row id="12101869264">
                    <cell expr="@contactDate" id="12101869265">
                      <style format="date" useTime="true" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@label" id="121018702834">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell expr="@personClick" id="121018702630">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210188964" expr="percent(@personClick, @success)" id="121018702426">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@totalRecipientClick" id="121018702222">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210189093" expr="percent(@totalRecipientClick, @success)" id="121018702018">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210189239" expr="percent(@recipientClick, @estimatedRecipientOpen)" id="121018701914">
                      <style format="percentage" verticalAlignment="top"/>
                    </cell>
                  </row>
                  <footer id="12101869266">
                    <cell id="12101869267">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210188981" id="121018702835" label="Totals:">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666" style="italic"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189008" expr="sum(@personClick)" id="121018702631">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189020" expr="percent(sum(@personClick), sum(@success))" id="121018702427">
                      <style format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189065" expr="sum(@totalRecipientClick)" id="121018702223">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189133" expr="percent(sum(@totalRecipientClick), sum(@success))" id="121018702019">
                      <style format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189217" expr="percent(sum([@recipientClick]), sum([@estimatedRecipientOpen]))" id="121018701915">
                      <style format="percentage" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                  </footer>
                  <footer id="12101889860">
                    <cell id="12101889861">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210188993" id="12101889862" label="Averages:">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666" style="italic"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189030" expr="avg(@personClick)" id="12101889863">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189048" id="12101889864">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189141" expr="avg(@totalRecipientClick)" id="12101889865">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189144" id="12101889866">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189244" id="12101889867">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                  </footer>
                </group>
              </data>
              <visibleIf>
                <condition id="12106930841" leftExpr="count([data/query/delivery])" operator=">" rightExpr="0"/>
              </visibleIf>
            </table>
            <visibleIf>
              <condition id="12849827294" leftExpr="[vars/deliveryCount]" operator=">" rightExpr="'0'"/>
            </visibleIf>
          </container>
          <container id="12811055215" label="Web tracking" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="12101896871" label="Web tracking" labelPosition="hidden" type="tabular">
              <rendering tableClass="simple" width="100%"/>
              <data dataSource="context" schema="temp:formContext" startPath="[data/query/delivery]">
                <group>
                  <columns>
                    <column id="12101897269"/>
                    <column id="121018977844" widthMode="max"/>
                    <column id="121018977640"/>
                    <column id="121018977536"/>
                    <column id="121018977232"/>
                    <column id="121018977128"/>
                    <column id="121018976924"/>
                    <column id="121018976820"/>
                    <column id="121018976716"/>
                  </columns>
                  <header id="125128525413">
                    <cell id="125128525414">
                      <style>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="125128525415">
                      <style>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="125128525416">
                      <style>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="125128525417">
                      <style>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell colspan="2" id="125128525418" label="Amount">
                      <style alignment="center">
                        <border>
                          <left color="#CCCCCC"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell colspan="2" id="125128525420" label="Articles">
                      <style alignment="center">
                        <border>
                          <left color="#CCCCCC"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell id="125128525422" label="Amount">
                      <style alignment="center">
                        <border>
                          <left color="#CCCCCC"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="121018972610">
                    <cell alias="expr1210189792" id="121018972611" label="Date">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210189797" id="121018977845" label="Action">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210189808" id="121018977641" label="Pages">
                      <style alignment="center" verticalAlignment="top">
                        <font size="8"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189816" id="121018977537" label="Transactions">
                      <style alignment="center" verticalAlignment="top">
                        <font size="8"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189825" id="121018977233" label="Total">
                      <style alignment="center" verticalAlignment="top">
                        <font size="8"/>
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1210189845" id="121018977129" label="Avg./Transac.">
                      <style alignment="center" verticalAlignment="top">
                        <font size="8"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189861" id="121018976925" label="Total">
                      <style alignment="center" verticalAlignment="top">
                        <font size="8"/>
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1210189869" id="121018976821" label="Avg./Transac.">
                      <style alignment="center" verticalAlignment="top">
                        <font size="8"/>
                      </style>
                    </cell>
                    <cell alias="expr1210189876" id="121018976717" label="Avg./Message.">
                      <style alignment="center" verticalAlignment="top">
                        <font size="8"/>
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <row id="121018972612">
                    <cell expr="@contactDate" id="121018972613">
                      <style format="date" useTime="true"/>
                    </cell>
                    <cell expr="@label" id="121018977846"/>
                    <cell expr="@totalWebPage" id="121018977642">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell expr="@transaction" id="121018977538">
                      <style decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@amount" id="121018977234">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell alias="expr1210191294" expr="div(@amount, @transaction)" id="121018977130">
                      <style format="number"/>
                    </cell>
                    <cell expr="@article" id="121018976926">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell alias="expr1210191482" expr="div(@article, @transaction)" id="121018976822">
                      <style format="number"/>
                    </cell>
                    <cell alias="expr1210191567" expr="div(@amount, @toDeliver)" id="121018976718">
                      <style format="number"/>
                    </cell>
                  </row>
                  <footer id="121018972614">
                    <cell id="121018972615">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210189938" id="121018977847" label="Totals:">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666" style="italic"/>
                      </style>
                    </cell>
                    <cell alias="expr1210190189" expr="sum(@totalWebPage)" id="121018977643">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210190205" expr="sum(@transaction)" id="121018977539">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210190255" expr="sum(@amount)" id="121018977235">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210191436" expr="div(sum(@amount), sum(@transaction))" id="121018977131">
                      <style format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210190324" expr="sum(@article)" id="121018976927">
                      <style decimalPlaces="0" format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210191501" expr="div(sum(@article), sum(@transaction))" id="121018976823">
                      <style format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210191585" expr="div(sum(@amount), sum(@toDeliver))" id="121018976719">
                      <style format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                  </footer>
                  <footer id="121018992948">
                    <cell id="121018992949">
                      <style verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1210189947" id="121018992950" label="Averages:">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666" style="italic"/>
                      </style>
                    </cell>
                    <cell alias="expr1210190194" expr="avg(@totalWebPage)" id="121018992951">
                      <style format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210190210" expr="avg(@transaction)" id="121018992952">
                      <style format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210190309" expr="avg(@amount)" id="121018992953">
                      <style format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210191440" id="121018992954">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210190328" expr="avg(@article)" id="121018992955">
                      <style format="number" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210191448" id="121018992956">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1210191521" id="121018992957">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                  </footer>
                </group>
              </data>
              <visibleIf>
                <condition id="12106930430" leftExpr="count([data/query/delivery])" operator=">" rightExpr="0"/>
              </visibleIf>
            </table>
            <visibleIf>
              <condition id="12849827425" leftExpr="[vars/deliveryCount]" operator=">" rightExpr="'0'"/>
            </visibleIf>
          </container>
          <html id="12849912771" label="No data">
            <source>&lt;FONT color=#ff0000&gt;&lt;STRONG&gt;&lt;EM&gt;&lt;%= $(noData) %&gt;&lt;/EM&gt;&lt;/STRONG&gt;&lt;/FONT&gt;</source>
            <strings>
              <string id="noData" value="No available deliveries"/>
            </strings>
            <visibleIf>
              <condition id="12849827425" leftExpr="[vars/deliveryCount]" operator="=" rightExpr="'0'"/>
            </visibleIf>
          </html>
        </page>
        <test label="Display context" name="test" x="48" y="64">
          <transitions>
            <condition label="Campaign" name="transition1" target="query2">
              <condition id="12103298890" leftExpr="@_schema" operator="=" rightExpr="'nms:operation'"/>
            </condition>
            <default label="Delivery" name="default" target="query"/>
          </transitions>
        </test>
        <script label="Script" name="script" x="440" y="64">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <code>if( ctx.@_schema == "nms:operation" )
  ctx.title = $(operation) + ctx.data.query2.@_cs
else
  ctx.title = ""

ctx.vars.deliveryCount = ctx.data.query.delivery.length()</code>
          <strings>
            <string id="operation" value="Campaign: "/>
          </strings>
        </script>
        <query contextFilter="true" label="not approved" name="query" x="336" y="64">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:delivery">
              <condition expr="@FCP = 0" internalId="1210156548"/>
            </where>
            <select>
              <node expr="@id" sort="true"/>
              <node expr="@label" sort="true"/>
              <node alias="@contactDate" expr="[scheduling/@contactDate]" sort="true"/>
              <node alias="@totalTarget" expr="[properties/@totalTarget]" noSqlBind="true" sort="true"/>
              <node alias="@reject" expr="[properties/@reject]" sort="true"/>
              <node alias="@toDeliver" expr="[properties/@toDeliver]" sort="true"/>
              <node alias="@success" expr="[indicators/@success]" sort="true"/>
              <node alias="@error" expr="[indicators/@error]" sort="true"/>
              <node alias="@newQuarantine" expr="[indicators/@newQuarantine]" sort="true"/>
              <node alias="@estimatedRecipientOpen" expr="[indicators/@estimatedRecipientOpen]" noSqlBind="true" sort="true"/>
              <node alias="@estimatedTotalRecipientOpen" expr="[indicators/@estimatedTotalRecipientOpen]" noSqlBind="true" sort="true"/>
              <node alias="@optOut" expr="[indicators/@optOut]" sort="true"/>
              <node alias="@mirrorPage" expr="[indicators/@mirrorPage]" sort="true"/>
              <node alias="@forward" expr="[indicators/@forward]" sort="true"/>
              <node alias="@personClick" expr="[indicators/@personClick]" sort="true"/>
              <node alias="@totalRecipientClick" expr="[indicators/@totalRecipientClick]" sort="true"/>
              <node alias="@recipientClick" expr="[indicators/@recipientClick]" sort="true"/>
              <node alias="@totalWebPage" expr="[indicators/@totalWebPage]" sort="true"/>
              <node alias="@transaction" expr="[indicators/@transaction]" sort="true"/>
              <node alias="@amount" expr="[indicators/@amount]" sort="true"/>
              <node alias="@article" expr="[indicators/@article]" sort="true"/>
            </select>
            <orderBy displayOrder="Date de démarrage (descendant)">
              <node expr="[scheduling/@contactDate]" sort="1" sortDesc="1"/>
            </orderBy>
          </source>
          <output path="/data/query"/>
        </query>
        <query contextFilter="false" label="Label of the campaign" name="query2" x="192" y="16">
          <transitions>
            <next name="next" target="query"/>
          </transitions>
          <source schema="nms:operation">
            <where filterName="backGroundFilterFrm">
              <condition expr="@id = $([/@_selection])" internalId="1210333979"/>
            </where>
            <select>
              <node expr="[.]" noSqlBind="true" sort="true"/>
            </select>
            <orderBy displayOrder="Opérations"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/data/query2"/>
        </query>
      </activities>
      <desc>Summary table for selected deliveries: Targets, Exclusions and Messages Sent.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Summaries" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/pie.png" internalName="deliverySending" isGlobal="1" label="Summary of delivery(ies)" labelExpr="iif($(@_context) = 'global','Summary of the deliveries','Summary of the delivery')" multiselection="0" prefered="1" schema="nms:delivery">
      <properties renderingEngine="1" windowTitle="&lt;%== ctx.title %>"/>
      <variables>
        <variable label="Folder" xpath="folder"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
            <string id="line1" value="An error occurred."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:delivery"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:delivery">
        <condition expr="@deliveryMode &lt;> 2" internalId="1"/>
      </visibleIf>
      <activities>
        <start label="Start" name="start" x="16" y="48">
          <transitions>
            <next name="next" target="query"/>
          </transitions>
        </start>
        <page disableNextButton="true" label="&lt;%== ctx.@_reportLabel %>" name="page" x="448" y="40">
          <transitions>
            <next label="Select folder" name="next" target="query"/>
          </transitions>
          <container colcount="2" id="12360131551" label="Filter" style="folderContainer" type="container">
            <visibleIf>
              <condition id="12360131986" leftExpr="@_context" operator="=" rightExpr="'global'"/>
            </visibleIf>
            <input action="transition" id="12360260541" label="Choose a folder" transition="next" type="folderSelector">
              <storage mode="var">
                <variable xpath="folder"/>
              </storage>
            </input>
          </container>
          <container id="12360131653" label="Initial target population" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="12360131734" label="Initial target population" labelPosition="bottom" type="tabular">
              <data schema="temp:formContext" startPath="[data/query/delivery]">
                <group>
                  <columns>
                    <column id="12360131735" width="25" widthMode="manual"/>
                    <column id="12360131736"/>
                    <column id="12360131737"/>
                    <column id="12360131738"/>
                  </columns>
                  <header id="12360131739">
                    <cell alias="expr1211281551" id="123601317310" label="Initial population:">
                      <style verticalAlignment="bottom">
                        <font color="#666666"/>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@totalTarget" id="123601317311">
                      <style decimalPlaces="0" format="number" verticalAlignment="bottom">
                        <font style="normal"/>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211298435" expr="div(@totalTarget, @totalTarget)" id="123601317312">
                      <style verticalAlignment="bottom">
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211310906" expr="percent(1, 1)" id="123601317313">
                      <style format="percentage" verticalAlignment="bottom">
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="121128295852">
                    <cell alias="expr1211306610" id="121128295853" label="Messages rejected by exclusion rules:">
                      <style verticalAlignment="bottom">
                        <font color="#666666"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@reject" id="121136619716">
                      <style decimalPlaces="0" format="number" verticalAlignment="bottom">
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211298572" expr="div(@reject, @totalTarget)" id="121129841663">
                      <style verticalAlignment="bottom">
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211298898" expr="percent(@reject, @totalTarget)" id="121129879467">
                      <style format="percentage" verticalAlignment="bottom">
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                </group>
              </data>
              <rendering width="100%"/>
            </table>
          </container>
          <container id="12372277583" label="Causes of exclusion" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <chart displayLabels="false" height="280" id="123722795831" label="Exclusions" labelPosition="hidden" type="pie">
              <data dataSource="context" schema="temp:formContext" startPath="[query2/dlvExclusion]">
                <variables>
                  <row>
                    <var expr="@label" label="Label (Typology rule)"/>
                  </row>
                </variables>
                <statistic aggExpr="@count" alias="@expr1" label="" operator="sum"/>
              </data>
            </chart>
          </container>
          <container id="12372277715" label="Delivery statistics" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="12372277766" label="Delivery statistics" labelPosition="hidden" type="tabular">
              <data schema="temp:formContext" startPath="[data/query/delivery]">
                <group>
                  <columns>
                    <column id="12372277767" width="25" widthMode="manual"/>
                    <column id="12372277768"/>
                    <column id="12372277769"/>
                    <column id="123722777610"/>
                  </columns>
                  <header id="123722777611">
                    <cell alias="expr1211281551" id="123722777612" label="Message to deliver:">
                      <style verticalAlignment="bottom">
                        <font color="#666666"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@toDeliver" id="123722777613">
                      <style decimalPlaces="0" format="number" verticalAlignment="bottom">
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211298435" expr="div(@toDeliver, @toDeliver)" id="123722777614">
                      <style verticalAlignment="bottom">
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211310906" expr="percent(1, 1)" id="123722777615">
                      <style format="percentage" verticalAlignment="bottom">
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="123722777616">
                    <cell alias="expr1211306610" id="123722777617" label="Success:">
                      <style verticalAlignment="bottom">
                        <font color="#666666"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@success" id="123722777618">
                      <style decimalPlaces="0" format="number" verticalAlignment="bottom">
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211298572" expr="div(@success, @toDeliver)" id="123722777619">
                      <style verticalAlignment="bottom">
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211298898" expr="percent(@success, @toDeliver)" id="123722777620">
                      <style format="percentage" verticalAlignment="bottom">
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="123722777621">
                    <cell alias="expr1211307187" id="123722777622" label="Errors:">
                      <style verticalAlignment="bottom">
                        <font color="#666666"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@error" id="123722777623">
                      <style decimalPlaces="0" format="number" verticalAlignment="bottom">
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211307205" expr="div(@error, @toDeliver)" id="123722777624">
                      <style verticalAlignment="bottom">
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211307212" expr="percent(@error, @toDeliver)" id="123722777625">
                      <style format="percentage" verticalAlignment="bottom">
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                  <header id="123722777626">
                    <cell alias="expr1211307929" id="123722777627" label="New quarantines:">
                      <style verticalAlignment="bottom">
                        <font color="#666666"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@newQuarantine" id="123722777628">
                      <style decimalPlaces="0" format="number" verticalAlignment="bottom">
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211307952" expr="div(@newQuarantine, @toDeliver)" id="123722777629">
                      <style verticalAlignment="bottom">
                        <extra hideValue="true" visual="bargraph"/>
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1211307967" expr="percent(@newQuarantine, @toDeliver)" id="123722777630">
                      <style format="percentage" verticalAlignment="bottom">
                        <font style="normal"/>
                        <border>
                          <top style="none"/>
                          <right style="none"/>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                  </header>
                </group>
              </data>
            </table>
          </container>
        </page>
        <script label="Script" name="script2" x="232" y="40">
          <transitions>
            <next name="next" target="query2"/>
          </transitions>
          <code>ctx.vars.operator = application.operator.id

if( ctx.@_context == "selection" )
  ctx.title = $(action) + ctx.data.query.delivery.@label
else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; ctx.vars.folder.@id != 0 &amp;&amp; ctx.vars.folder.@fullName != "" &amp;&amp; ctx.vars.folder.@fullName != "/" )
  ctx.title = $(folder)  + ' (' + ctx.vars.folder.@label + ')'
else
  ctx.title = $(globalContextLabel)</code>
          <strings>
            <string id="action" value="Delivery: "/>
            <string id="globalContextLabel" value="Whole platform"/>
            <string id="folder" value="Deliveries in the folder"/>
          </strings>
        </script>
        <query contextFilter="true" folderFilter="true" folderVariable="folder" label="Delivery" name="query" selectAll="false" x="120" y="40">
          <transitions>
            <next name="next" target="script2"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:delivery"/>
            <select>
              <node enabledIf="$(@_context)!='global'" expr="min(@id)" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@label" enabledIf="$(@_context)!='global'" expr="min(@label)" sort="true"/>
              <node alias="@contactDate" enabledIf="$(@_context)!='global'" expr="min([scheduling/@contactDate])" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@totalTarget" expr="sum([properties/@totalTarget])" noSqlBind="true" sort="true"/>
              <node alias="@reject" expr="sum([properties/@reject])" sort="true"/>
              <node alias="@toDeliver" expr="sum([properties/@toDeliver])" sort="true"/>
              <node alias="@success" expr="sum([indicators/@success])" sort="true"/>
              <node alias="@error" expr="sum([indicators/@error])" sort="true"/>
              <node alias="@newQuarantine" expr="sum([indicators/@newQuarantine])" sort="true"/>
              <node alias="@estimatedRecipientOpen" expr="sum([indicators/@estimatedRecipientOpen])" noSqlBind="true" sort="true"/>
              <node alias="@estimatedTotalRecipientOpen" expr="sum([indicators/@estimatedTotalRecipientOpen])" noSqlBind="true" sort="true"/>
              <node alias="@optOut" expr="sum([indicators/@optOut])" sort="true"/>
              <node alias="@mirrorPage" expr="sum([indicators/@mirrorPage])" sort="true"/>
              <node alias="@forward" expr="sum([indicators/@forward])" sort="true"/>
              <node alias="@personClick" expr="sum([indicators/@personClick])" sort="true"/>
              <node alias="@totalRecipientClick" expr="sum([indicators/@totalRecipientClick])" sort="true"/>
              <node alias="@recipientClick" expr="sum([indicators/@recipientClick])" sort="true"/>
              <node alias="@totalWebPage" expr="sum([indicators/@totalWebPage])" sort="true"/>
              <node alias="@transaction" expr="sum([indicators/@transaction])" sort="true"/>
              <node alias="@amount" expr="sum([indicators/@amount])" sort="true"/>
              <node alias="@article" expr="sum([indicators/@article])" sort="true"/>
            </select>
            <orderBy displayOrder="Clé primaire, Libellé, Date de démarrage, sum(population cible), sum(doublons), sum(en blackliste), sum(en quarantaine), sum(adresses non renseignées), sum(exclusions par un arbitrage), sum(messages à envoyer), sum(succès), sum(erreurs), sum(mises en quarantaine), sum(estimation des destinataires ayant ouvert), sum(estimation du nombre total d'ouvertures), sum(désinscription (opt-out)), sum(page miroir), sum(nombre de transferts), sum(personnes ayant cliqué), sum(nombre total de destinataires ayant cliqué), sum(destinataires ayant cliqué), sum(pages visitées), sum(transactions), sum(montant), sum(articles)"/>
          </source>
          <output path="/data/query"/>
        </query>
        <query contextLink="[@delivery-id]" folderFilter="true" folderVariable="folder" label="Exclusions" name="query2" x="336" y="40">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <source schema="nms:dlvExclusion">
            <where filterName="backGroundFilterFrm">
              <condition enabledIf="$(@_context)!='global'" expr="[@delivery-id] = $([/@_selection])" internalId="1237228226"/>
              <condition enabledIf="HasNamedRight('admin')=false" expr="[delivery/@folder-id]" internalId="1587152575" setOperator="IN">
                <subQuery schema="xtk:rights">
                  <select>
                    <node expr="[@folder-id]"/>
                  </select>
                  <where>
                    <condition boolOperator="OR" expr="[@operator-id] = $long([vars/operator])"/>
                    <condition expr="[@operator-id]" setOperator="IN">
                      <subQuery schema="xtk:operatorGroup">
                        <select>
                          <node expr="[@group-id]"/>
                        </select>
                        <where>
                          <condition expr="[@operator-id] = $long([vars/operator])"/>
                        </where>
                      </subQuery>
                    </condition>
                  </where>
                </subQuery>
              </condition>
            </where>
            <select>
              <node alias="@count" expr="sum(@count)" sort="true"/>
              <node alias="@label" expr="[typologyRule/@label]" groupBy="false" noSqlBind="true" sort="true"/>
            </select>
            <orderBy displayOrder="sum(volume), Libellé (Règle de typologie)"/>
            <groupBy>
              <node expr="[typologyRule/@label]" noSqlBind="true"/>
            </groupBy>
          </source>
          <output path="query2"/>
        </query>
      </activities>
      <desc>Summary of delivery indicators: target, exclusion and messages sent.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Feedback" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/kpi.png" internalName="browserStatistics" isGlobal="1" label="Browsers" monoselection="0" multiselection="0" schema="xtk:none">
      <properties renderingEngine="1" windowTitle="Internet browser usage statistics"/>
      <variables>
        <variable default="182" label="Period" type="byte" xpath="period"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="xtk:none"/>
      </linkFilter>
      <visibleIf filteringSchema="xtk:none"/>
      <activities>
        <start label="Start" name="start" x="16" y="80">
          <transitions>
            <next name="next" target="query"/>
          </transitions>
        </start>
        <page disableNextButton="true" disablePreviousButton="true" label="&lt;%== ctx.@browser %>" name="page2" x="424" y="160">
          <transitions>
            <next enabled="false" label="Next" name="next"/>
          </transitions>
          <container id="125208358135" label="Container 3" type="container">
            <link action="previous" id="125208358436" label="Return to the global statistics" target="_self"/>
          </container>
          <container colcount="2" id="125208381637" label="Container 4" type="container">
            <container id="125208391038" label="History" type="container" useHtmlTitle="true">
              <chart displayLegend="false" height="200" id="125208391039" innerPieRadius="0.6" label="History" labelPosition="hidden" legend="History" perspective="false" type="line" width="700">
                <data dataSource="context" schema="temp:formContext" startPath="data/query2/userAgentStats">
                  <variables>
                    <row>
                      <var expr="@date" label="Date" type="date"/>
                    </row>
                  </variables>
                  <statistic aggExpr="@visitors" alias="@visitors" format="percentage" label="Usage rate" operator="sum" useDefaultFormat="false"/>
                </data>
              </chart>
            </container>
            <container id="125208391440" label="Breakdown by versions" type="container" useHtmlTitle="true">
              <chart displayLegend="false" height="200" id="125208391441" innerPieRadius="0.6" label="Breakdown by versions" labelPosition="hidden" type="pie" width="300">
                <data dataSource="context" schema="temp:formContext" startPath="[data/query3/userAgentStats]">
                  <variables>
                    <row>
                      <var expr="@version" label="Browser version" type="string"/>
                    </row>
                  </variables>
                  <statistic aggExpr="@totalVisitors" alias="@totalVisitors" decimalPlaces="0" format="number" label="Visitors" operator="sum" useDefaultFormat="false"/>
                </data>
              </chart>
            </container>
          </container>
          <table colspan="2" id="12097298112" label="Table 1" labelPosition="hidden" type="tabular">
            <rendering align="center" tableClass="simple"/>
            <data dataSource="context" schema="temp:formContext" startPath="[data/query3/userAgentStats]">
              <group hasFooter="false">
                <columns>
                  <column id="120958712233"/>
                  <column id="12095859106" widthMode="max"/>
                  <column id="120958593424"/>
                  <column id="120958593219"/>
                  <column id="120958592914"/>
                  <column id="120958703429"/>
                </columns>
                <header id="120972981110">
                  <cell id="120972981111">
                    <style>
                      <font style="normal"/>
                    </style>
                  </cell>
                  <cell alias="expr1209585952" id="120972981112" label="Version">
                    <style verticalAlignment="top"/>
                  </cell>
                  <cell alias="expr1209737967" id="120973795821" label="Global rate">
                    <style verticalAlignment="top"/>
                  </cell>
                  <cell alias="expr1209587948" colspan="3" id="120972981115" label="Relative rate">
                    <style verticalAlignment="top"/>
                  </cell>
                </header>
                <row id="120972981118">
                  <cell alias="expr1209587137" expr="rowNum() + '.'" id="120972981119">
                    <style alignment="right" decimalPlaces="0" verticalAlignment="top">
                      <font style="bold"/>
                    </style>
                  </cell>
                  <cell alias="expr1209586251" expr="coalesce(@version, 'Inconnu')" id="120972981120">
                    <style verticalAlignment="top"/>
                    <onclick target="_self">
                      <context>
                        <set expr="coalesce(@browser, 'Inconnu')" id="120972981121" xpath="/@browser"/>
                      </context>
                    </onclick>
                  </cell>
                  <cell alias="expr1209737984" expr="percent(@totalVisitors, @globalVisitors)" id="120973795822">
                    <style format="percentage" verticalAlignment="top"/>
                  </cell>
                  <cell alias="expr1209586160" expr="percent(@totalVisitors, sum(@totalVisitors))" id="120972981124">
                    <style format="percentage" verticalAlignment="top">
                      <extra hideValue="true" visual="bargraph"/>
                      <font style="normal"/>
                    </style>
                  </cell>
                  <cell alias="expr1209587048" expr="percent(@totalVisitors, sum(@totalVisitors))" id="120972981125">
                    <style format="percentage">
                      <extra hideValue="false"/>
                      <font style="normal"/>
                    </style>
                  </cell>
                  <cell alias="expr1209587510" expr="rownum()-1" id="120972981126">
                    <style verticalAlignment="top">
                      <extra visual="color"/>
                    </style>
                  </cell>
                </row>
              </group>
            </data>
          </table>
        </page>
        <page disableNextButton="true" label="Internet browsers" name="page" x="448" y="40">
          <transitions>
            <next label="Next" name="next" target="query2"/>
            <next label="Refresh" name="actualiser" target="query"/>
          </transitions>
          <javascript id="120973930328" label="Optimizing context">
            <code>delete ctx.data.query2
delete ctx.data.query3</code>
          </javascript>
          <container colcount="2" id="12518877263" label="Filter" type="container">
            <input id="12518877344" label="Period:" type="select">
              <storage mode="var">
                <variable xpath="period"/>
                <options>
                  <option id="125188777312" label="Yesterday" value="1"/>
                  <option id="125188782213" label="During the last 2 days" value="2"/>
                  <option id="125188785714" label="During the last 7 days" value="7"/>
                  <option id="125207855812" label="During the last 2 weeks" value="14"/>
                  <option id="125207857813" label="During the last 30 days" value="30"/>
                  <option id="125207858814" label="During the last 6 months" value="182"/>
                </options>
              </storage>
            </input>
            <link action="transition" id="125188828156" img="/xtk/img/refresh.png" label="Refresh" target="_self" transition="actualiser"/>
          </container>
          <container colcount="2" id="12520690033" label="Breakdown by browsers" style="reportContainer" type="container" useHtmlTitle="true">
            <table id="12520690124" label="Table 1" labelPosition="hidden" type="tabular">
              <rendering tableClass="simple" width="60%"/>
              <data dataSource="context" schema="temp:formContext" startPath="[data/query/userAgentStats]">
                <group hasFooter="false">
                  <columns>
                    <column id="12520690125"/>
                    <column id="12520690126" widthMode="max"/>
                    <column id="12520690127"/>
                    <column id="12520690128"/>
                    <column id="12520690129"/>
                    <column id="125206901210"/>
                    <column id="125206901211"/>
                  </columns>
                  <header id="125206901212">
                    <cell id="125206901213" label=" ">
                      <style verticalAlignment="top">
                        <border>
                          <bottom style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1209585952" id="125206901214" label="Browser">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1209585996" id="125206901215" label="Visitors">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1209586019" id="125206901216" label="Pages viewed">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1209587948" colspan="3" id="125206901217" label="Usage rate">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                  </header>
                  <row id="125206901218">
                    <cell alias="expr1209587137" expr="rowNum() + '.'" id="125206901219">
                      <style alignment="right" decimalPlaces="0"/>
                    </cell>
                    <cell alias="expr1209586251" expr="coalesce(@browser, [/@unknown])" id="125206901220">
                      <onclick action="next" target="_self">
                        <context>
                          <set expr="coalesce(@browser, [/@unknown])" id="125206901221" xpath="/@browser"/>
                          <set expr="@totalVisitors" id="125206901222" xpath="/@browserVisitors"/>
                        </context>
                      </onclick>
                    </cell>
                    <cell expr="@totalVisitors" id="125206901223">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell expr="@totalPages" id="125206901224">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell alias="expr1209586160" expr="percent(@totalVisitors, sum(@totalVisitors))" id="125206901225">
                      <style format="percentage">
                        <extra hideValue="true" visual="bargraph"/>
                        <border>
                          <right style="none"/>
                        </border>
                      </style>
                    </cell>
                    <cell alias="expr1209587048" expr="percent(@totalVisitors, sum(@totalVisitors))" id="125206901226">
                      <style format="percentage" verticalAlignment="top">
                        <extra hideValue="false"/>
                      </style>
                    </cell>
                    <cell alias="expr1209587510" expr="rownum()-1" id="125206901227">
                      <style>
                        <extra visual="color"/>
                      </style>
                    </cell>
                  </row>
                </group>
              </data>
            </table>
            <chart displayLabels="false" displayLegend="false" height="200" id="125206904430" innerPieRadius="0.6" label="Chart" labelPosition="hidden" type="pie" width="300">
              <data dataSource="context" schema="temp:formContext" startPath="data/query/userAgentStats">
                <variables>
                  <row>
                    <var expr="[data/query/userAgentStats/@browser]" label="Browser" type="string"/>
                  </row>
                </variables>
                <statistic aggExpr="[data/query/userAgentStats/@totalVisitors]" alias="@visitors" format="number" label="Visitors" operator="sum"/>
              </data>
            </chart>
          </container>
        </page>
        <script label="Filter result" name="script" x="288" y="40">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <code>var top   = 10, globalVisitors = 0, days = 1
var nodes = ctx.data.query.child("*")
var size  = nodes.length()
if ( size &gt; 0 )
{
  var node, other = nodes[0].copy()
  var totalVisitors = 0, totalPages = 0
  for (var i=nodes.length()-1; i &gt;= 0; i--)
  {
    node = nodes[i]
    if ( i &gt;= top )
    {
      totalVisitors += parseInt(node.@totalVisitors)
      totalPages += parseInt(node.@totalPages)
      delete nodes[i]
    }
    else
      globalVisitors += parseInt(node.@totalVisitors)

    days = Math.max(days, parseInt(node.@days))
  }

  other.@browser = $(OTHER)
  other.@totalVisitors = totalVisitors
  other.@totalPages    = totalPages
  ctx.data.query.appendChild(other)
  globalVisitors += totalVisitors
}

// second pass to update the days attribute with the max value found
nodes = ctx.data.query.child("*")
size  = nodes.length()
for (var i=nodes.length()-1; i &gt;= 0; i--)
  nodes[i].@days = days

ctx.@globalVisitors = globalVisitors
ctx.@unknown = $(unknown)</code>
          <strings>
            <string id="OTHER" value="Others"/>
            <string id="unknown" value="Unknown"/>
          </strings>
        </script>
        <query label="Query" name="query" x="152" y="40">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:userAgentStats">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:userAgentStats">
              <condition enabledIf="$([vars/period])!=-1" expr="@date >= SubDays( GetDate() , $([vars/period]))" internalId="1251990855"/>
            </where>
            <select>
              <node alias="@browser" expr="[userAgent/@browserName]" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@totalPages" expr="Sum(@pages)" sort="true"/>
              <node alias="@totalVisitors" expr="Sum(@visitors)" sort="true"/>
              <node alias="@days" expr="Max(DaysOld(@date))" sort="true"/>
            </select>
            <orderBy displayOrder="Sum(visiteurs) (descendant)">
              <node expr="Sum(@visitors)" sort="true" sortDesc="1"/>
            </orderBy>
            <groupBy displayGroup="Navigateur (Navigateur Internet)">
              <node expr="[userAgent/@browserName]" noSqlBind="true"/>
            </groupBy>
          </source>
          <output path="/data/query"/>
        </query>
        <query label="History" name="query2" x="152" y="160">
          <transitions>
            <next name="next" target="query3"/>
          </transitions>
          <source schema="nms:userAgentStats">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" expr="[userAgent/@browserName] = $([/@browser])" internalId="1209588114"/>
              <condition expr="@date >= SubDays( GetDate() , iif($([vars/period]) &lt; 15 , 14 , $([vars/period])))" internalId="1252084490"/>
            </where>
            <select>
              <node expr="@date" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@visitors" expr="percent(sum(@visitors),max(@visitorsOfTheDay))" sort="true"/>
            </select>
            <orderBy displayOrder="Date">
              <node expr="@date" sort="true"/>
            </orderBy>
            <groupBy displayGroup="Date">
              <node expr="@date" noSqlBind="true"/>
            </groupBy>
          </source>
          <output path="/data/query2"/>
        </query>
        <query label="Breakdown by versions" name="query3" x="288" y="160">
          <transitions>
            <next name="next" target="page2"/>
          </transitions>
          <source schema="nms:userAgentStats">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" expr="[userAgent/@browserName] = $([/@browser])" internalId="1209729451"/>
              <condition enabledIf="$([vars/period]) != -1" expr="@date >= SubDays( GetDate() , $([vars/period]))" internalId="1252068677"/>
            </where>
            <select>
              <node alias="@version" expr="[userAgent/@browserVersion]" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@totalVisitors" expr="sum(@visitors)" sort="true"/>
              <node alias="@globalVisitors" expr="$([/@globalVisitors])" sort="true"/>
            </select>
            <orderBy displayOrder="sum(visiteurs) (descendant)">
              <node expr="sum(@visitors)" sort="true" sortDesc="1"/>
            </orderBy>
            <groupBy displayGroup="Version du navigateur (Navigateur Internet)">
              <node expr="[userAgent/@browserVersion]" noSqlBind="true"/>
            </groupBy>
          </source>
          <output path="/data/query3"/>
        </query>
      </activities>
      <desc>Statistics on browsers used by recipients who clicked in messages.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Feedback" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/kpi.png" internalName="deliveryForward" isGlobal="1" label="Sharing activities to social networks" multiselection="0" schema="nms:delivery">
      <properties renderingEngine="1" windowTitle="&lt;%== ctx.title %>"/>
      <variables>
        <variable label="Folder" xpath="folder"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
                &lt;tr&gt;
                &lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
                &lt;td style="vertical-align: middle; padding: 1em;"&gt;
                &lt;p&gt;&amp;lt;%= $(line1) %&amp;gt;&lt;/p&gt;
                &lt;p&gt;&amp;lt;%= $(line2) %&amp;gt;&lt;/p&gt;
                &lt;/td&gt;
                &lt;/tr&gt;
                &lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:delivery"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:delivery">
        <condition expr="@messageType = 0" internalId="1"/>
      </visibleIf>
      <activities>
        <page disableNextButton="true" label="Sharing activities to social networks" name="page" x="576" y="48">
          <transitions>
            <next label="Select folder" name="next" target="query"/>
          </transitions>
          <container colcount="2" id="12728841992" label="Folder" style="folderContainer" type="container">
            <visibleIf>
              <condition id="12728841994" leftExpr="@_context" operator="=" rightExpr="'global'"/>
            </visibleIf>
            <input action="transition" id="12728841993" label="Choose a folder" transition="next" type="folderSelector">
              <storage mode="var">
                <variable xpath="folder"/>
              </storage>
            </input>
          </container>
          <container id="12810322277" label="Email sending statistics" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="12810322518" label="Table" labelPosition="hidden" type="tabular">
              <rendering align="left"/>
              <data schema="temp:formContext" startPath="[data/query2/delivery]">
                <group>
                  <columns>
                    <column id="128103230549"/>
                    <column id="128103285557"/>
                  </columns>
                  <footer id="128103365160">
                    <cell id="128103365161" label="Number of messages to be delivered:">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell expr="@totalTarget" id="128103365162">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                  </footer>
                  <footer id="128103230554">
                    <cell id="128103230555" label="Number of successful sends:">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell expr="@success" id="128103285559">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                  </footer>
                </group>
              </data>
            </table>
          </container>
          <container id="12674429091" label="Sharing activities and mail open statistics" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="12677041471" label="Summary table of sharing activities and mail opens" labelPosition="hidden" type="tabular">
              <rendering align="center" inlineStyleValue="width:100%" width="100%"/>
              <data schema="temp:formContext" startPath="[socialActivities/media]">
                <group>
                  <columns>
                    <column id="12785836966"/>
                    <column id="127858368225"/>
                    <column id="127858368226"/>
                    <column id="12810927481"/>
                    <column id="128102388110"/>
                    <column id="12821503565"/>
                    <column id="128215457830"/>
                    <column id="12821503566"/>
                  </columns>
                  <header id="128215439819">
                    <cell id="128215439820"/>
                    <cell id="128215439821"/>
                    <cell colspan="3" id="128215439822" label="Sharing">
                      <style alignment="center">
                        <border>
                          <left color="#CCCCCC"/>
                        </border>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell colspan="3" id="128215439824" label="Opens">
                      <style alignment="center">
                        <border>
                          <left color="#CCCCCC"/>
                        </border>
                        <font color="#666666"/>
                      </style>
                    </cell>
                  </header>
                  <header id="127858368227">
                    <cell id="12785836967"/>
                    <cell id="127858368228" label="Media">
                      <style>
                        <font color="#666666" size="8"/>
                      </style>
                    </cell>
                    <cell id="128102834238" label="No. of sharing activities">
                      <style alignment="right">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                        <font color="#666666" size="8"/>
                      </style>
                    </cell>
                    <cell id="12810927482" label="Breakdown">
                      <style alignment="right">
                        <font color="#666666" size="8"/>
                      </style>
                    </cell>
                    <cell id="128102834239" label="Sharing rate">
                      <style alignment="right">
                        <font color="#666666" size="8"/>
                      </style>
                    </cell>
                    <cell id="128215035610" label="No. of opens">
                      <style alignment="right">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                        <font color="#666666" size="8"/>
                      </style>
                    </cell>
                    <cell id="128215457831" label="Breakdown">
                      <style alignment="right">
                        <font color="#666666" size="8"/>
                      </style>
                    </cell>
                    <cell id="128215035611" label="Rate of opens">
                      <style alignment="right">
                        <font color="#666666" size="8"/>
                      </style>
                    </cell>
                  </header>
                  <row id="127858368230">
                    <cell alias="color" expr="rownum()-1" id="12785836968">
                      <style>
                        <extra visual="color"/>
                      </style>
                    </cell>
                    <cell expr="[@label]" id="127858368231"/>
                    <cell expr="[@forward]" id="127858368232">
                      <style decimalPlaces="0" format="number">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@percent" id="12810927483">
                      <style format="percentage"/>
                    </cell>
                    <cell expr="@rate" id="128102388112">
                      <style format="percentage"/>
                    </cell>
                    <cell expr="@open" id="128215035615">
                      <style decimalPlaces="0" format="number">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                      </style>
                    </cell>
                    <cell expr="@percentOpen" id="128215457832">
                      <style format="percentage"/>
                    </cell>
                    <cell expr="@rateOpen" id="128215035616">
                      <style format="percentage"/>
                    </cell>
                  </row>
                  <footer id="12810199711">
                    <cell id="128102832234"/>
                    <cell id="12810199713" label="Total:">
                      <style>
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1281020004" expr="sum(@forward)" id="12810199714">
                      <style decimalPlaces="0" format="number">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1281092777" expr="sum(@percent)" id="12810927484">
                      <style format="percentage">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1281024399" expr="sum(@rate)" id="128102388113">
                      <style format="percentage">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1281958229" expr="sum(@open)" id="128215035620">
                      <style decimalPlaces="0" format="number">
                        <border>
                          <left color="#CCCCCC" style="solid"/>
                        </border>
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1282154741" expr="sum(@percentOpen)" id="128215457833">
                      <style format="percentage">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1281959508" expr="sum(@rateOpen)" id="128215035621">
                      <style format="percentage">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                  </footer>
                </group>
              </data>
            </table>
            <rendering inlineStyle="width:100%"/>
          </container>
          <container colcount="2" id="12814669491" label="Breakdown of sharing activities and opens" style="reportContainer" type="container" useHtmlTitle="true">
            <chart displayLabels="false" displayLegend="false" height="200" id="12674429453" label="Breakdown of sharing activities" labelPosition="bottom" legend="Breakdown of sharing activities" legendPosition="bottom" sortMode="0" type="pie" width="200" zoomOnWheel="false">
              <data dataSource="context" folderFilter="true" folderVariable="folder" schema="temp:formContext" startPath="[socialActivities/media]">
                <variables>
                  <row>
                    <var expr="@label" label="@label"/>
                  </row>
                </variables>
                <statistic aggExpr="@percent" alias="@expr1" format="percentage" operator="percentageTotal" useDefaultFormat="false"/>
              </data>
            </chart>
            <chart displayLabels="false" displayLegend="false" height="200" id="12819606394" label="Breakdown of opens" labelPosition="bottom" legend="Breakdown of opens" legendPosition="bottom" sortMode="0" type="pie" width="200" zoomOnWheel="false">
              <data dataSource="context" schema="temp:formContext" startPath="[socialActivities/media]">
                <variables>
                  <row>
                    <var expr="@label" label="@label"/>
                  </row>
                </variables>
                <statistic aggExpr="@percentOpen" alias="@expr1" format="percentage" operator="percentageTotal" useDefaultFormat="false"/>
              </data>
            </chart>
          </container>
        </page>
        <script label="Start" name="script2" x="24" y="56">
          <transitions>
            <next name="next" target="query"/>
          </transitions>
          <code>if( ctx.@_schema == 'nms:operation' )
              this.queries["query2"].select.appendChild(&lt;node expr="min([operation/@label])" alias="@labelOperation"/&gt;)</code>
        </script>
        <script label="Script" name="script" x="472" y="48">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <code>if( ctx.@_context == "selection" &amp;&amp; ctx.@_selectionCount == "1" &amp;&amp; ctx.@_schema == "nms:delivery" )
                  ctx.title = $(action) + ctx.data.query2.delivery.@label
            else if( ctx.@_context == "selection" &amp;&amp; ctx.@_selectionCount == "1" &amp;&amp; ctx.@_schema == "nms:operation" )
              ctx.title = $(operation) + ctx.data.query2.delivery.@labelOperation
                else if( ctx.@_context == "selection" )
                  ctx.title = ""
                else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; (ctx.vars.folder.@isView == "1" || ctx.vars.folder.@isView == "true") )
                  ctx.title = $(folderView)  + ' (' + ctx.vars.folder.@label + ')'
                else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; ctx.vars.folder.@id != 0 &amp;&amp; ctx.vars.folder.@fullName != "" &amp;&amp; ctx.vars.folder.@fullName != "/" )
                  ctx.title = $(folder)  + ' (' + ctx.vars.folder.@label + ')'
                else
                  ctx.title = $(globalContextLabel)

                delete ctx.socialActivities
                var root=XML(&lt;socialActivities&gt;
                    &lt;media name="email" label={$(email)} forward="0" rate="0" percent="0" open="0" rateOpen="0" percentOpen="0"/&gt;
                    &lt;media name="facebook" label="Facebook" forward="0" rate="0" percent="0" open="0" rateOpen="0" percentOpen="0"/&gt;
                    &lt;media name="twitter" label="Twitter" forward="0" rate="0" percent="0" open="0" rateOpen="0" percentOpen="0"/&gt;
                    &lt;media name="google" label="Google" forward="0" rate="0" percent="0" open="0" rateOpen="0" percentOpen="0"/&gt;
                    &lt;media name="linkedin" label="Linkedin" forward="0" rate="0" percent="0" open="0" rateOpen="0" percentOpen="0"/&gt;
                &lt;/socialActivities&gt;);

                var totalTarget = ctx.data.query2.delivery.@totalTarget
                var totalShared = 0
                    var totalOpened = 0

                for each( var nodeTrackingStats in ctx.data.query.trackingStats.child('*') )
                {
                  root.media.(@name == String(nodeTrackingStats.name()))[0].@forward = String(nodeTrackingStats)
                  root.media.(@name == String(nodeTrackingStats.name()))[0].@rate = totalTarget&gt;0?nodeTrackingStats/totalTarget:0
                  totalShared = totalShared + parseInt(nodeTrackingStats)
                }

                    for each( var nodeWebTracking in ctx.data.query3.child('*') )
                    {
                      if( nodeWebTracking.@category != '' )
                        root.media.(@name == nodeWebTracking.@category)[0].@open = String(nodeWebTracking.@count)
                      totalOpened = totalOpened + parseInt(nodeWebTracking.@count)
                    }

                for each( var nodeMedia in root.child('*') )
                    {
                  nodeMedia.@percent = totalShared&gt;0?nodeMedia.@forward/totalShared:0
                      nodeMedia.@percentOpen = totalOpened&gt;0?nodeMedia.@open/totalOpened:0
                      nodeMedia.@rateOpen = nodeMedia.@forward&gt;0?nodeMedia.@open/nodeMedia.@forward:0
                    }

                ctx.appendChild(root)
                    delete ctx.data.query
                    delete ctx.data.query3</code>
          <strings>
            <string id="folderView" value="Deliveries in the view"/>
            <string id="globalContextLabel" value="Whole platform"/>
            <string id="operation" value="Campaign: "/>
            <string id="folder" value="Deliveries in the folder"/>
            <string id="action" value="Delivery:"/>
            <string id="email" value="Email"/>
          </strings>
        </script>
        <query contextFilter="false" contextLink="[@delivery-id]" folderFilter="true" folderVariable="folder" label="Sharing" name="query" x="152" y="48">
          <transitions>
            <next name="next" target="query2"/>
          </transitions>
          <source schema="nms:trackingStats">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:trackingStats">
              <condition boolOperator="AND" enabledIf="$(@_context)!='global' and $(@_schema) = 'nms:delivery'" expr="[@delivery-id] = $([/@_selection])" internalId="1272300884"/>
              <condition boolOperator="AND" enabledIf="$(@_schema) = 'nms:operation'" expr="[delivery/@operation-id] = $([/@_selection])" internalId="1284488760"/>
              <condition expr="[url/@type] = 1" internalId="1278508511"/>
              <condition enabledIf="$(@_context)='global' or $(@_schema)='nms:operation'" expr="[delivery/@FCP] = 0" internalId="1294140435"/>
            </where>
            <select>
              <node alias="email" expr="Sum(iIf([url/@category]='email',@totalClicks,0))" sort="true"/>
              <node alias="facebook" expr="Sum(iIf([url/@category]='facebook',@totalClicks,0))" sort="true"/>
              <node alias="twitter" expr="Sum(iIf([url/@category]='twitter',@totalClicks,0))" sort="true"/>
              <node alias="google" expr="Sum(iIf([url/@category]='google',@totalClicks,0))" sort="true"/>
              <node alias="linkedin" expr="Sum(iIf([url/@category]='linkedin',@totalClicks,0))" sort="true"/>
            </select>
          </source>
          <output path="/data/query"/>
        </query>
        <query contextFilter="true" folderFilter="true" folderVariable="folder" label="Delivery" name="query2" x="264" y="48">
          <transitions>
            <next name="next" target="query3"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm">
              <condition enabledIf="$(@_context)='global' or $(@_schema)='nms:operation'" expr="@FCP = 0" internalId="1294140552"/>
            </where>
            <select>
              <node alias="@totalTarget" expr="sum([properties/@totalTarget])" sort="true"/>
              <node alias="@label" expr="min(@label)"/>
              <node alias="@success" expr="sum([indicators/@success])"/>
            </select>
          </source>
          <output path="data/query2"/>
        </query>
        <query contextFilter="false" contextLink="@deliveryId" folderFilter="true" folderVariable="folder" label="Opens" name="query3" x="368" y="48">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:webTrackingLog">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" enabledIf="$(@_context)!='global' and $(@_schema)='nms:delivery'" expr="@deliveryId = $([/@_selection])" internalId="1281962598"/>
              <condition boolOperator="AND" enabledIf="$(@_schema)='nms:operation'" expr="[delivery/@operation-id] = $([/@_selection])" internalId="1284488489"/>
              <condition boolOperator="AND" expr="@deliveryId &lt;> 0" internalId="1281962996"/>
              <condition enabledIf="$(@_context)='global' or $(@_schema)='nms:operation'" expr="[delivery/@FCP] = 0" internalId="1294140687"/>
            </where>
            <select>
              <node alias="@count" expr="Count(@category)" sort="true"/>
              <node expr="@category" sort="true"/>
            </select>
            <orderBy displayOrder="Catégorie">
              <node expr="@category" sort="true"/>
            </orderBy>
            <groupBy displayGroup="Catégorie">
              <node expr="@category"/>
            </groupBy>
          </source>
          <output path="data/query3"/>
        </query>
      </activities>
      <desc>Sharing activity and main open statistics</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Summaries" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/2pies.png" internalName="forwardActivities" isGlobal="1" label="Statistics of the sharing activities" schema="nms:delivery">
      <properties renderingEngine="1" windowTitle="&lt;%== ctx.title %>"/>
      <variables>
        <variable label="Folder" xpath="folder"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
        &lt;tr&gt;
        &lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
        &lt;td style="vertical-align: middle; padding: 1em;"&gt;
        &lt;p&gt;&amp;lt;%= $(line1) %&amp;gt;&lt;/p&gt;
        &lt;p&gt;&amp;lt;%= $(line2) %&amp;gt;&lt;/p&gt;
        &lt;/td&gt;
        &lt;/tr&gt;
        &lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:delivery"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:delivery">
        <condition expr="@messageType = 0" internalId="1"/>
      </visibleIf>
      <activities>
        <start label="Start" name="start" x="16" y="56">
          <transitions>
            <next name="next" target="query"/>
          </transitions>
        </start>
        <page disableNextButton="true" label="Efficiency of social network sharing activities" name="page" x="912" y="56">
          <transitions>
            <next label="Select folder" name="next" target="query"/>
          </transitions>
          <container colcount="2" id="12766254652" label="Container 1" style="folderContainer" type="container">
            <visibleIf>
              <condition id="12766254654" leftExpr="@_context" operator="=" rightExpr="'global'"/>
            </visibleIf>
            <input action="transition" id="12766254653" label="Choose a folder" transition="next" type="folderSelector">
              <storage mode="var">
                <variable xpath="folder"/>
              </storage>
            </input>
          </container>
          <container id="12809217371" label="Table" style="reportContainer" type="container">
            <table id="12809346186" label="Summary table" type="tabular">
              <rendering tableClass="simple"/>
              <data schema="temp:formContext" startPath="[tableData/viral]">
                <group>
                  <columns>
                    <column id="128093464022"/>
                    <column id="128093464329"/>
                    <column id="128093466341"/>
                    <column id="128093464833"/>
                  </columns>
                  <header id="128093464023">
                    <cell id="128093464024" label="Date">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell id="128093464834" label="New contacts">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell id="128093464330" label="Opens">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell id="128093466342" label="Sharing">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                  </header>
                  <row id="128093464025">
                    <cell alias="expr1280948260" expr="NL.View.dateTime([@month], null, &quot;%B %4Y&quot;)" id="128093464026"/>
                    <cell expr="@newContacts" id="128093464835">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell expr="@opened" id="128093464331">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell expr="@shared" id="128093466343">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                  </row>
                  <footer id="128094667844">
                    <cell id="128094667845" label="Total">
                      <style>
                        <font style="italic"/>
                      </style>
                    </cell>
                    <cell alias="expr1280946770" expr="sum(@newContacts)" id="128094667848">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell alias="expr1280946749" expr="sum(@opened)" id="128094667846">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell alias="expr1280946761" expr="sum(@shared)" id="128094667847">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                  </footer>
                </group>
              </data>
            </table>
          </container>
          <container id="12663352191" label="Analysis per month" style="reportContainer" type="container">
            <chart displayEmptySamples="true" displayLabels="false" height="500" id="12719535012" label="Sharing" labelPosition="hidden" width="800">
              <data dataSource="context" schema="temp:formContext" variableCount="2">
                <variables>
                  <row>
                    <var dateStepType="-1" expr="[socialActivities/viral/@month]" label="@month" type="date"/>
                  </row>
                  <column>
                    <var expr="[socialActivities/viral/@type]" label="@type"/>
                  </column>
                </variables>
                <statistic aggExpr="[socialActivities/viral/@count]" alias="@type" decimalPlaces="0" format="number" label="Type" operator="sum"/>
              </data>
            </chart>
          </container>
        </page>
        <test label="Delivery" name="test" x="544" y="56">
          <transitions>
            <condition label="True" name="transition1" target="query4">
              <condition boolOperator="and" id="12845083921" leftExpr="@_schema" operator="=" rightExpr="'nms:delivery'"/>
              <condition id="12845083710" leftExpr="@_context" operator="!=" rightExpr="'global'"/>
            </condition>
            <default name="default" target="script"/>
          </transitions>
        </test>
        <script label="Script" name="script" x="768" y="56">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <code>if( ctx.@_context == "selection" &amp;&amp; ctx.@_selectionCount == "1" &amp;&amp; ctx.@_schema == "nms:delivery" )
          ctx.title = $(action) + ctx.data.query4.delivery.@label
    else if( ctx.@_context == "selection" &amp;&amp; ctx.@_selectionCount == "1" &amp;&amp; ctx.@_schema == "nms:operation" )
    {
      if( ctx.@_historyId.toString().length == 0 )
      {
        ctx.title = $(operation) + xtk.queryDef.create(&lt;queryDef schema="nms:operation" operation="get"&gt;
                                                         &lt;select&gt;
                                                           &lt;node expr="@label"/&gt;
                                                         &lt;/select&gt;
                                                         &lt;where&gt;
                                                           &lt;condition expr={"@id = " + parseInt(ctx.@_selection)}/&gt;
                                                         &lt;/where&gt;
                                                       &lt;/queryDef&gt;).ExecuteQuery().@label
      }
    }
        else if( ctx.@_context == "selection" )
          ctx.title = ""
        else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; (ctx.vars.folder.@isView == "1" || ctx.vars.folder.@isView == "true") )
          ctx.title = $(folderView)  + ' (' + ctx.vars.folder.@label + ')'
        else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; ctx.vars.folder.@id != 0 &amp;&amp; ctx.vars.folder.@fullName != "" &amp;&amp; ctx.vars.folder.@fullName != "/" )
          ctx.title = $(folder)  + ' (' + ctx.vars.folder.@label + ')'
        else
          ctx.title = $(globalContextLabel)

        delete ctx.socialActivities
        var root=XML(&lt;socialActivities/&gt;)
        var shared = new Array()
        var opened = new Array()
        var newContacts = new Array()
        var dateRange = new Array()
        var dateList = new Array()
        var month

        var recipient  = ctx.newRecipients.child('*')
        for (var i=0; i &lt; recipient.length(); i++)
        {
          month = recipient[i].@month
          root.appendChild(&lt;viral month={month} type={$(text1)} count={recipient[i].@count}/&gt;)
          newContacts[month] = recipient[i].@count
          if (!dateRange[month])
          {
            dateRange[month]=month
            dateList.push(month)
          }
        }

        var openings  = ctx.openings.child('*')
        for (var i=0; i &lt; openings.length(); i++)
        {
          month = openings[i].@month
          root.appendChild(&lt;viral month={month} type={$(text3)} count={openings[i].@count}/&gt;)
          opened[month]=openings[i].@count
          if (!dateRange[month])
          {
            dateRange[month]=month
            dateList.push(month)
          }
        }

        var forward  = ctx.forwards.child('*')
        for (var i=0; i &lt; forward.length(); i++)
        {
          month = forward[i].@month
          root.appendChild(&lt;viral month={month} type={$(text2)} count={forward[i].@count}/&gt;)
          shared[month]=forward[i].@count
          if (!dateRange[month])
          {
            dateRange[month]=month
            dateList.push(month)
          }
        }

        var dateListSort=dateList.sort()
        var rootTable=XML(&lt;tableData/&gt;)
        for (var i=0; i &lt; dateListSort.length; i++)
        {
          month = dateListSort[i]
          rootTable.appendChild(&lt;viral month={month} newContacts={newContacts[month]?newContacts[month]:0} opened={opened[month]?opened[month]:0} shared={shared[month]?shared[month]:0}/&gt;)
        }

        ctx.appendChild(root)
        ctx.appendChild(rootTable)
        delete ctx.forwards
        delete ctx.newRecipients
    delete ctx.openings</code>
          <strings>
            <string id="folderView" value="Deliveries in the view"/>
            <string id="globalContextLabel" value="Whole platform"/>
            <string id="folder" value="Deliveries in the folder"/>
            <string id="action" value="Delivery:"/>
            <string id="text1" value="New contacts"/>
            <string id="text3" value="Opens"/>
            <string id="text2" value="Sharing"/>
            <string id="operation" value="Campaign: "/>
          </strings>
        </script>
        <query contextFilter="false" contextLink="[@delivery-id]" folderFilter="true" folderVariable="folder" label="Opens" name="query" x="168" y="56">
          <transitions>
            <next name="next" target="query2"/>
          </transitions>
          <source schema="nms:trackingLogRcp">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:trackingLogRcp">
              <condition boolOperator="AND" expr="[url/@type] = 2" internalId="1280855507"/>
              <condition boolOperator="AND" enabledIf=" $(@_context)!='global' and $(@_schema) = 'nms:delivery'" expr="[@delivery-id] IN ($noescaping([/@_selection]))" internalId="1280855530"/>
              <condition boolOperator="AND" enabledIf="$(@_schema) = 'nms:operation'" expr="[delivery/@operation-id] IN ($noescaping([/@_selection]))" internalId="1284506118"/>
              <condition boolOperator="AND" expr="YearAndMonth(@logDate) > YearAndMonth(SubMonths( GetDate() , 6))" internalId="1280855660"/>
              <condition enabledIf="$(@_context)='global' or $(@_schema)='nms:operation'" expr="[delivery/@FCP] = 0" internalId="1294141061"/>
            </where>
            <select>
              <node alias="@count" expr="count(@id)" sort="true"/>
              <node alias="@month" expr="YearAndMonth(@logDate)" sort="true"/>
            </select>
            <orderBy displayOrder="YearAndMonth(date)">
              <node expr="YearAndMonth(@logDate)" sort="1"/>
            </orderBy>
            <groupBy displayGroup="YearAndMonth(date)">
              <node alias="expr1280857168" expr="YearAndMonth(@logDate)"/>
            </groupBy>
          </source>
          <output path="openings"/>
        </query>
        <query contextFilter="false" contextLink="[delivery/@id]" folderFilter="true" folderVariable="folder" label="New contacts" name="query2" x="288" y="56">
          <transitions>
            <next name="next" target="query3"/>
          </transitions>
          <source schema="nms:visitor">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" enabledIf="$(@_context)!='global' and $(@_schema) = 'nms:delivery'" expr="@deliveryId IN ($noescaping([/@_selection]))" internalId="1276626098"/>
              <condition boolOperator="AND" enabledIf="$(@_schema) = 'nms:operation'" expr="[delivery/@operation-id] IN ($noescaping([/@_selection]))" internalId="1284506261"/>
              <condition boolOperator="AND" expr="@recipientId &lt;> 0" internalId="1276687624"/>
              <condition boolOperator="AND" expr="YearAndMonth(@created) > YearAndMonth(SubMonths( GetDate() , 6))" internalId="1277117604"/>
              <condition enabledIf="$(@_context)='global' or $(@_schema)='nms:operation'" expr="[delivery/@FCP] = 0" internalId="1294141110"/>
            </where>
            <select>
              <node alias="@month" expr="YearAndMonth(@created)" sort="true"/>
              <node alias="@count" expr="count(@id)" sort="true"/>
            </select>
            <orderBy displayOrder="YearAndMonth(date de création)">
              <node expr="YearAndMonth(@created)" sort="true"/>
            </orderBy>
            <groupBy displayGroup="YearAndMonth(date de création)">
              <node alias="@month" expr="YearAndMonth(@created)"/>
            </groupBy>
          </source>
          <output path="newRecipients"/>
        </query>
        <query contextLink="[delivery/@id]" folderFilter="true" folderVariable="folder" label="Sharing" name="query3" x="408" y="56">
          <transitions>
            <next name="next" target="test"/>
          </transitions>
          <source schema="nms:trackingStats">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" expr="[url/@category] IN ('email' , 'facebook' , 'twitter' , 'google' , 'linkedin')" internalId="1272301328"/>
              <condition boolOperator="AND" enabledIf="$(@_context)!='global' and $(@_schema) = 'nms:delivery'" expr="[@delivery-id] IN ($noescaping([/@_selection]))" internalId="1276626762"/>
              <condition boolOperator="AND" expr="YearAndMonth(@startDate) > YearAndMonth(SubMonths( GetDate() , 6))" internalId="1277117663"/>
              <condition boolOperator="AND" enabledIf="$(@_schema) = 'nms:operation'" expr="[delivery/@operation-id] = $noescaping([/@_selection])" internalId="1284506428"/>
              <condition enabledIf="$(@_context)='global' or $(@_schema)='nms:operation'" expr="[delivery/@FCP] = 0" internalId="1294141167"/>
            </where>
            <select>
              <node alias="@month" expr="YearAndMonth(@startDate)" sort="true"/>
              <node alias="@count" expr="Sum(@totalClicks)" sort="true"/>
            </select>
            <orderBy displayOrder="YearAndMonth(date de début)">
              <node expr="YearAndMonth(@startDate)" sort="true"/>
            </orderBy>
            <groupBy displayGroup="YearAndMonth(date de début)">
              <node alias="@month" expr="YearAndMonth(@startDate)"/>
            </groupBy>
          </source>
          <output path="forwards"/>
        </query>
        <query contextFilter="true" folderFilter="true" folderVariable="folder" label="Deliveries" name="query4" x="656" y="120">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm"/>
            <select>
              <node alias="@label" expr="min(@label)" sort="true"/>
            </select>
            <orderBy displayOrder="min(libellé)"/>
          </source>
          <output path="data/query4"/>
        </query>
      </activities>
      <desc>Analysis of sharing activities, opens and subscriptions per time period.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Feedback" defaultLanguage="en" designLanguage="en" idCounter="82" img="xtk:report/thumbs/default.png" internalName="webAppTrackerAnalysis" isGlobal="0" label="Tracking tags analysis" modelName="fullReport" multiselection="0" prefered="1" schema="nms:webApp">
      <properties renderingEngine="1" windowTitle="Tracking tag analysis of '&lt;%= ctx.webapp.@webappLabel %>' web application"/>
      <variables>
        <variable default="day" desc="Précision temporelle" label="Precision" xpath="precision"/>
        <variable default="day" desc="Précision temporelle (utilisée dans la page)" label="Precision" xpath="_precision"/>
        <variable label="Target action" xpath="goal"/>
        <variable label="Start date" type="date" xpath="startDate"/>
        <variable label="End date" type="date" xpath="endDate"/>
        <variable label="Period description" xpath="periodLabel"/>
      </variables>
      <library>
        <script ref-cs="reportlist.js (xtk)" ref-name="reportlist.js" ref-namespace="xtk"/>
      </library>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&amp;lt;%= $(line1) %&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;%= $(line2) %&amp;gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
            <string id="line1" value="An error occurred."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:webApp"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:webApp"/>
      <activities>
        <page disableNextButton="true" label="Tracking tags analysis" name="page" x="1080" y="368">
          <transitions>
            <next name="next" target="query82"/>
          </transitions>
          <container id="129043441660" label="Objective choice" type="container" width="850px">
            <container colcount="4" id="container82" label="Container" type="container">
              <rendering inlineStyle="margin-left:auto;margin-right:auto;"/>
              <input id="129043442161" label="Target action" required="true" type="select">
                <storage mode="var">
                  <variable xpath="goal"/>
                </storage>
                <contextOptions useContext="1" xpath="/goalEnum/trackingUrl" xpathLabel="@goalLabel" xpathValue="@goal"/>
              </input>
              <input id="12910233173" label="From" type="date">
                <storage dateFormat="DDMMY4s" mode="var" type="date">
                  <variable xpath="startDate"/>
                </storage>
              </input>
              <input id="12910345581" label="To" type="date">
                <storage dateFormat="DDMMY4s" mode="var" type="date">
                  <variable xpath="endDate"/>
                </storage>
              </input>
              <link action="transition" id="129043442562" img="/xtk/img/refresh.png" label="Refresh" target="_self" transition="next"/>
            </container>
          </container>
          <container id="container180" label="Reports" type="container" width="850px">
            <container colcount="4" id="container97" label="Key performance indicators for unique visitors" style="" type="container">
              <rendering inlineStyle="margin-left:auto;margin-right:auto;"/>
              <kpi id="kpi82" label="Total visits" significantFigures="3" style="ribbon" type="kpi" xpathValue="global/@totalClicksOnPeriodOnFirstStep">
                <rendering inlineStyle="border-right:1px solid #cccccc;"/>
              </kpi>
              <kpi id="kpi83" label="Unique visitors" significantFigures="3" style="ribbon" type="kpi" xpathValue="global/@distinctVisitorsOnPeriodOnFirstStep">
                <rendering inlineStyle="border-right:1px solid #cccccc;"/>
              </kpi>
              <kpi format="percentage" id="kpi84" label="Conversion rate" significantFigures="0" style="ribbon" type="kpi" xpathValue="global/@distinctVisitorsOnPeriodConversionRate">
                <rendering inlineStyle="border-right:1px solid #cccccc;"/>
              </kpi>
              <kpi format="percentage" id="kpi85" label="Bounce rate" significantFigures="0" style="ribbon" type="kpi" xpathValue="global/@distinctVisitorsOnPeriodBounceRate"/>
            </container>
            <visibleIf help="(@hasTrackingData égal à 'true')">
              <condition id="13748290355" leftExpr="[global/@hasTrackingData]" operator="=" rightExpr="'true'"/>
            </visibleIf>
            <container id="129017751635" label="Overview &lt;%= ctx.vars.periodLabel %>" style="reportContainer" type="container" useHtmlTitle="true">
              <container id="container85" label="One column" type="container">
                <container colcount="2" id="container88" label="Objective choice" type="container">
                  <input id="input93" label="Precision" type="select">
                    <storage mode="var" selected="false">
                      <variable xpath="precision"/>
                      <options>
                        <option id="option95" label="Per day" selected="1" value="day"/>
                        <option id="option94" label="Per month" value="month"/>
                      </options>
                    </storage>
                  </input>
                  <link action="transition" id="link96" img="/xtk/img/refresh.png" label="Refresh" target="_self" transition="next"/>
                </container>
                <container id="129017160819" label="Visits overview" style="" type="container" useHtmlTitle="false">
                  <visibleIf help="(précision égal à 'month')">
                    <condition boolOperator="and" id="13287941207" leftExpr="[vars/_precision]" operator="=" rightExpr="'month'"/>
                  </visibleIf>
                  <chart displayLabels="false" displayLegend="false" filledOpacity="40" height="200" id="12907792981" label="Overview of visits for first tracking tag" labelPosition="bottom" legend="Overview of visits for first tracking tag" legendPosition="bottom" perspective="false" reverseSeries="true" type="filled" width="800" zoomOnWheel="false">
                    <data dataSource="context" schema="temp:formContext" startPath="[byDateOnFirstStep/cubeSchema_webAppTracker]">
                      <variables>
                        <row>
                          <var dateStepType="-1" expr="@date" label="Visitors in time" type="date"/>
                        </row>
                        <column>
                          <var expr="@stepLabel" label="Stages" type="string"/>
                        </column>
                      </variables>
                      <statistic aggExpr="@totalClicks" alias="@totalClicks" decimalPlaces="0" format="number" label="Visits" operator="sum"/>
                    </data>
                  </chart>
                </container>
                <container id="container75" label="Visits overview" style="" type="container" useHtmlTitle="false">
                  <visibleIf help="(précision égal à 'day')">
                    <condition boolOperator="and" id="13287941338" leftExpr="[vars/_precision]" operator="=" rightExpr="'day'"/>
                  </visibleIf>
                  <chart displayEmptySamples="true" displayLegend="false" filledOpacity="40" height="200" id="chart77" label="Overview of visits for first tracking tag" labelPosition="bottom" legend="Overview of visits for first tracking tag" legendPosition="bottom" perspective="false" reverseSeries="true" type="filled" width="800" zoomOnWheel="false">
                    <data dataSource="context" schema="temp:formContext" startPath="[byDateOnFirstStep/cubeSchema_webAppTracker]">
                      <variables>
                        <row>
                          <var expr="@date" type="date"/>
                        </row>
                        <column>
                          <var expr="@stepLabel" label="Stage" type="string"/>
                        </column>
                      </variables>
                      <statistic aggExpr="@totalClicks" alias="@totalClicks" decimalPlaces="0" format="number" label="Visitors" operator="sum"/>
                    </data>
                  </chart>
                </container>
              </container>
              <container colcount="2" id="container86" label="Two columns" type="container">
                <chart displayLabels="false" height="300" id="chart116" label="Visitors' origin delivery" labelPosition="bottom" legend="Visitors' origin delivery" legendPosition="bottom" type="pie" width="350">
                  <data dataSource="context" schema="temp:formContext" startPath="[byStepDeliveryGroupList/cubeSchema_webAppTracker]">
                    <variables>
                      <row>
                        <var expr="@delivery" label="@delivery" type="string"/>
                      </row>
                    </variables>
                    <statistic aggExpr="@percentageDistinctVisitorsOnFirstStep" alias="@distinctVisitorsOnFirstStep" operator="percentageTotal"/>
                  </data>
                </chart>
                <funnel height="280" heightValue="@height" hint="@stepHint" id="funnel82" label="Visitor conversion path" labelExpr="@stepLabel" labelPosition="bottom" radiusValue="@distinctVisitors" startPath="[byStepOnPeriod/cubeSchema_webAppTracker]" type="funnel"/>
              </container>
            </container>
            <container id="1290590741160" label="Detailed view of visits &lt;%= ctx.vars.periodLabel %>" style="reportContainer" type="container" useHtmlTitle="true">
              <javascript cell="true" id="1290590779161" label="Details by stage, month and delivery" labelPosition="hidden">
                <code>if( ctx.vars.goal != '' )
{
  var lastStep = ctx.global.@lastStep
  var firstStep = ctx.global.@firstStep
  var indicatorLast = "@totalClicks_" + lastStep
  var indicatorFirst = "@totalClicks_" + firstStep
  var indicatorName = String(ctx.vars._indicator);

  var config = &lt;group hasFooter="true" hasHeader="true"&gt;&lt;/group&gt;

  var columns = &lt;columns/&gt;
  columns.appendChild(&lt;column width="15" widthMode="manual"/&gt;) //First column: deliveries
  for( var step = firstStep; step &lt;= lastStep; step++ )
    columns.appendChild(&lt;column width="9" widthMode="manual"/&gt;)
  config.appendChild(columns)

  // Build the header
  var header = &lt;header&gt;&lt;/header&gt;
  header.appendChild(&lt;cell descImgPos="none" isAggregated="false" label=""&gt;
  &lt;onclick action="none" target="_blank"&gt;&lt;/onclick&gt;
  &lt;style alignment="auto" decimalPlaces="2" enumFormat="HImageLabel" format="string" use1000Sep="true"&gt;
  &lt;extra visual="none"&gt;&lt;/extra&gt;
  &lt;font strikethrough="default" style="default" underline="default"&gt;&lt;/font&gt;
  &lt;border&gt;
    &lt;left style="default"&gt;&lt;/left&gt;
    &lt;top style="default"&gt;&lt;/top&gt;
    &lt;right style="default"&gt;&lt;/right&gt;
    &lt;bottom style="default"&gt;&lt;/bottom&gt;
  &lt;/border&gt;
  &lt;/style&gt;
  &lt;/cell&gt;)

  for( var step = firstStep; step &lt;= lastStep; step++ )
  {
    var s = ctx.stepLabels.trackingUrl.(@step == step).@label
    header.appendChild(&lt;cell descImgPos="none" label={s}&gt;
    &lt;onclick action="none" target="_blank"&gt;&lt;/onclick&gt;
    &lt;style alignment="right" decimalPlaces="2" enumFormat="HImageLabel" format="string" use1000Sep="true"&gt;
      &lt;extra visual="none"&gt;&lt;/extra&gt;
      &lt;font strikethrough="default" style="default" underline="default"&gt;&lt;/font&gt;
      &lt;border&gt;
        &lt;left style="default"&gt;&lt;/left&gt;
        &lt;top style="default"&gt;&lt;/top&gt;
        &lt;right style="default"&gt;&lt;/right&gt;
        &lt;bottom style="default"&gt;&lt;/bottom&gt;
      &lt;/border&gt;
    &lt;/style&gt;
    &lt;/cell&gt;)
  }


  config.appendChild(header)

  // Build the secondary group
  var subGroup = &lt;group collapse="true" hasFooter="false" hasHeader="true"&gt;&lt;/group&gt;
  subGroup.appendChild(&lt;groupBy&gt;
  &lt;value&gt;
  &lt;xpath type="date" value="@date"&gt;&lt;/xpath&gt;
  &lt;/value&gt;
  &lt;/groupBy&gt;)
  var subHeader = &lt;header&gt;&lt;/header&gt;
  subHeader.appendChild(&lt;cell descImgPos="none"&gt;
  &lt;onclick action="none" target="_blank"&gt;&lt;/onclick&gt;

  &lt;style alignment="left"  enumFormat="HImageLabel" format="string"&gt;
  &lt;extra visual="none"&gt;&lt;/extra&gt;
  &lt;font strikethrough="default" style="default" underline="default"&gt;&lt;/font&gt;
  &lt;border&gt;
    &lt;left style="default"&gt;&lt;/left&gt;
    &lt;top style="default"&gt;&lt;/top&gt;
    &lt;right style="default"&gt;&lt;/right&gt;
    &lt;bottom style="default"&gt;&lt;/bottom&gt;
  &lt;/border&gt;
  &lt;/style&gt;
  &lt;value&gt;
  &lt;xpath type="string" value="@dateLabel"&gt;&lt;/xpath&gt;
  &lt;/value&gt;
  &lt;/cell&gt;)


  for( var step = firstStep; step &lt;= lastStep; step++ )
  {
    var column = "@totalClicks_" + step
    subHeader.appendChild(&lt;cell descImgPos="none"&gt;
    &lt;onclick action="none" target="_blank"&gt;&lt;/onclick&gt;
     &lt;style alignment="right" decimalPlaces="0" enumFormat="HImageLabel" format="number" use1000Sep="true"&gt;
      &lt;extra visual="none"&gt;&lt;/extra&gt;
      &lt;font strikethrough="default" style="default" underline="default"&gt;&lt;/font&gt;
      &lt;border&gt;
        &lt;left style="default"&gt;&lt;/left&gt;
        &lt;top style="default"&gt;&lt;/top&gt;
        &lt;right style="default"&gt;&lt;/right&gt;
        &lt;bottom style="default"&gt;&lt;/bottom&gt;
      &lt;/border&gt;
    &lt;/style&gt;
    &lt;value&gt;
      &lt;function value="Sum"&gt;
        &lt;xpath type="number" value={column}&gt;&lt;/xpath&gt;
      &lt;/function&gt;
    &lt;/value&gt;
    &lt;/cell&gt;)
  }

  subGroup.appendChild(subHeader)

  // values row header for the delivery
  var row = &lt;row&gt;&lt;/row&gt;
  var cell = &lt;cell descImgPos="none" expr="@delivery" isAggregated="false"&gt;
  &lt;onclick action="none" target="_blank"&gt;&lt;/onclick&gt;
  &lt;value&gt;
  &lt;xpath type="string" value="@delivery"&gt;&lt;/xpath&gt;
  &lt;/value&gt;
  &lt;style alignment="right" decimalPlaces="2" enumFormat="HImageLabel" format="string" use1000Sep="true"&gt;
  &lt;extra visual="none"&gt;&lt;/extra&gt;
  &lt;font strikethrough="default" style="default" underline="default"&gt;&lt;/font&gt;
  &lt;border&gt;
    &lt;left style="default"&gt;&lt;/left&gt;
    &lt;top style="default"&gt;&lt;/top&gt;
    &lt;right style="default"&gt;&lt;/right&gt;
    &lt;bottom style="default"&gt;&lt;/bottom&gt;
  &lt;/border&gt;
  &lt;/style&gt;
  &lt;/cell&gt;
  row.appendChild(cell)

  // values for tracking tag for a delivery
  for( var step = firstStep; step &lt;= lastStep; step++ )
  {
    var column = "@totalClicks_" + step
    var cell2 = &lt;cell descImgPos="none" expr="@totalClicks" isAggregated="false"&gt;
    &lt;onclick action="none" target="_blank"&gt;&lt;/onclick&gt;
    &lt;value&gt;
      &lt;xpath type="number" value={column}&gt;&lt;/xpath&gt;
    &lt;/value&gt;
    &lt;style alignment="right" decimalPlaces="0" enumFormat="HImageLabel" format="number" use1000Sep="true"&gt;
      &lt;extra visual="none"&gt;&lt;/extra&gt;
      &lt;font strikethrough="default" style="default" underline="default"&gt;&lt;/font&gt;
      &lt;border&gt;
        &lt;left style="default"&gt;&lt;/left&gt;
        &lt;top style="default"&gt;&lt;/top&gt;
        &lt;right style="default"&gt;&lt;/right&gt;
        &lt;bottom style="default"&gt;&lt;/bottom&gt;
      &lt;/border&gt;
    &lt;/style&gt;
    &lt;/cell&gt;
    row.appendChild(cell2)
  }


  subGroup.appendChild(row)
  config.appendChild(subGroup)


  var list
  if( ctx.@_target == "office" )
    list = new HReportList(ctx.@_target, config, 10, '' , undefined, serverForm, iRowIndex, iColIndex)
  else
    list = new HReportList(ctx.@_target, config, 10, '' , undefined, serverForm)
  list.className = "list"
  list.setInlineStyles({ inlineStyleValue : "" })
  list.setData(ctx, "byAllGroupList/cubeSchema_webAppTracker")
  if( ctx.@_target == "office" )
    iRowIndex = list.render()
  else
    list.render()
}</code>
                <strings>
                  <string id="date" value="Month"/>
                  <string id="conversionRate" value="Conversion rate"/>
                  <string id="total" value="Total"/>
                </strings>
              </javascript>
            </container>
          </container>
          <container id="container183" label="No tracking data available" type="container">
            <value id="value183" label="No tracking data has been saved for this objective over this period." type="value"/>
            <visibleIf help="(@hasTrackingData != 'true')">
              <condition id="13748290766" leftExpr="[global/@hasTrackingData]" operator="!=" rightExpr="'true'"/>
            </visibleIf>
          </container>
        </page>
        <page label="Tracking tags analysis" name="page2" x="1040" y="160">
          <transitions>
            <next enabled="false" label="Next" name="next"/>
          </transitions>
          <value id="value179" label="This Web application does not have tracking tags." type="value"/>
        </page>
        <test label="are there any tracking tags?" name="test" x="360" y="168">
          <transitions>
            <condition help="(objectif de tracking des URL d'une diffusion n'est pas vide)" label="True" name="transition1" target="script6">
              <condition id="13748241293" leftExpr="[goalEnum/trackingUrl/@goal]" operator="IS NOT NULL" rightExpr="0"/>
            </condition>
            <default name="default" target="page2"/>
          </transitions>
        </test>
        <script label="Recovery of target mapping" name="script3" x="368" y="432">
          <transitions>
            <next name="next" target="script32"/>
          </transitions>
          <code>// Get the tracking schemes available from the current selection
// You can override this function if you have a specific way to get tracking schemes related to the context
var getTrackingDeliveryMappings = function(context) {
  var selection = String(context.@_selection);

  var schemaQueryDef = {queryDef: {
                        schema: "nms:deliveryMapping", operation:"select", distinct:true,
                        select: {node: [
                          {expr:"[storage/@trackingLogSchema]", alias: "@trackingLogSchema"},
                          {expr:"[@targetSchema]"             , alias: "@targetSchema"}
                        ]}
                      }
                    };


  var result = NLWS.xtkQueryDef.create(schemaQueryDef).ExecuteQuery();
  var allDeliveryMappings = [];
  for each (var deliveryMapping in result.getElements('deliveryMapping')) {

    var trackingLogSchema = String(deliveryMapping.$trackingLogSchema);
    var targetSchema = String(deliveryMapping.$targetSchema);

    if( trackingLogSchema &amp;&amp; targetSchema) {
      allDeliveryMappings.push({
        targetSchema: targetSchema,
    trackingLogSchema: trackingLogSchema
      });
    }
  }

  var usedDeliveryMappings = [];
  for (var i in allDeliveryMappings) {
  var deliveryMapping = allDeliveryMappings[i];
  var trackingQueryDef =  {queryDef: {
                            schema: deliveryMapping.trackingLogSchema, operation: "select", lineCount: 1,
                            select: { node: {expr: "Count(1)", alias:"@count"} },
                            where: { condition: { expr: "[url/webApp/@id] = " + selection } }
                          }};

  var result = NLWS.xtkQueryDef.create(trackingQueryDef).ExecuteQuery();
  var count = parseInt(result.firstChild.$count);
  if (count &gt; 0)
    usedDeliveryMappings.push(deliveryMapping);
  }
  return usedDeliveryMappings;
  }

// From an array of delivery mappings, get the schema to use to get data, since we only work on one schema.
// This dummy function can be changed if you have a specific way to get the schema from a list.
var getQueryDeliveryMappings = function(deliveryMappings) {
  if( deliveryMappings &amp;&amp; deliveryMappings.length &gt; 0)
    return deliveryMappings[0];
  return null;
}

var deliveryMappings = getTrackingDeliveryMappings(ctx);
var deliveryMapping = getQueryDeliveryMappings(deliveryMappings);

ctx.@deliveryMapping = JSON.stringify(deliveryMapping);</code>
        </script>
        <script label="Data enrichment" name="script" x="784" y="432">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <code>var hasTrackingData = ctx.byStepOnPeriod.cubeSchema_webAppTracker.length() &gt; 0;
ctx.global.@hasTrackingData = hasTrackingData;
if(hasTrackingData) {

  //==========================================================================
  //Initialize start and end date values
  //==========================================================================
  var startDate = ctx.vars.startDate.length()&gt;0 ? NL.XTK.parseDateOnly(ctx.vars.startDate.toString()) : undefined;
  var endDate = ctx.vars.endDate.length()&gt;0 ? NL.XTK.parseDateOnly(ctx.vars.endDate.toString()) : undefined;
  var precision = ctx.vars.precision.toString();

  var startPrecisionDate = startDate;
  var endPrecisionDate = endDate;

  if(precision == 'month') {
    if(startPrecisionDate) {
      startPrecisionDate.setDate(1);
    }
    if(endPrecisionDate) {
      endPrecisionDate.setDate(1);
    }
  }

  //==========================================================================
  //Period label
  //==========================================================================
  var periodLabel = '';
  if(startDate &amp;&amp; endDate) {
    periodLabel = $(FROM) + ' ' + NL.Locale.formatDateOnly(startDate,"shortDate") + ' ' + $(TO) + ' ' + NL.Locale.formatDateOnly(endDate,"shortDate");
  } else if (startDate) {
    periodLabel = $(FROM_ONLY) + ' ' + NL.Locale.formatDateOnly(startDate,"shortDate");
  } else if (endDate) {
    periodLabel = $(TO_ONLY) + ' ' + NL.Locale.formatDateOnly(startDate,"shortDate");
  }
  ctx.vars.periodLabel = periodLabel


  //==========================================================================
  //Find min and max step
  //==========================================================================

  var firstStep;
  var secondStep;
  var lastStep;

  for each( var trackingUrl in ctx.stepLabels.trackingUrl )
  {
    var step = Number(trackingUrl.@step.toString());
    firstStep = firstStep === undefined ? step : Math.min(step, firstStep );
    lastStep = lastStep === undefined ? step : Math.max(step, lastStep );
  }
  secondStep = lastStep;
  for each( var trackingUrl in ctx.stepLabels.trackingUrl )
  {
    var step = Number(trackingUrl.@step.toString());
    if(step &gt; firstStep &amp;&amp; step &lt; secondStep)
      secondStep = step;
  }

  ctx.global.@firstStep = firstStep
  ctx.global.@secondStep = secondStep
  ctx.global.@lastStep = lastStep

  //==========================================================================
  //Properly concatenate labels if multiple trackers on the same step
  //==========================================================================

  var patchedTrackingUrl = &lt;stepLabels&gt;&lt;/stepLabels&gt;;
  for( var i = firstStep; i &lt; lastStep+1; i++ )
  {
    var isMultiple = false;
    var label = "";
    for each( var trackingUrl in ctx.stepLabels.trackingUrl )
    {
      if( trackingUrl.@step == i )
      {
        if( isMultiple )
          label += " - ";
        label += trackingUrl.@label;
        isMultiple = true;
      }
    }
    if( label )
      patchedTrackingUrl.appendChild(&lt;trackingUrl step={i} label={label}&gt;&lt;/trackingUrl&gt;);
  }

  ctx.stepLabels = patchedTrackingUrl;



  //==========================================================================
  //Global data
  //==========================================================================
  var computeConversionRate = function(firstStepValue, lastStepValue) {
  var firstStepNumber = Number(firstStepValue);
  var lastStepNumber = Number(lastStepValue);
  if( firstStepNumber &amp;&amp; lastStepNumber) {
    return lastStepNumber/firstStepNumber;
  }
  else if(firstStepNumber === 0 || firstStepNumber === NaN) {
    return NaN
  }
  else
    return 0;
  }



  // Distinct Visitors On period
  var distinctVisitorsOnPeriodOnFirstStep = Number(ctx.byStepOnPeriod.cubeSchema_webAppTracker.(@step == firstStep).@distinctVisitors);
  var distinctVisitorsOnPeriodOnSecondStep = Number(ctx.byStepOnPeriod.cubeSchema_webAppTracker.(@step == secondStep).@distinctVisitors);
  var distinctVisitorsOnPeriodOnLastStep = Number(ctx.byStepOnPeriod.cubeSchema_webAppTracker.(@step == lastStep).@distinctVisitors);

  ctx.global.@distinctVisitorsOnPeriodOnFirstStep = distinctVisitorsOnPeriodOnFirstStep;
  ctx.global.@distinctVisitorsOnPeriodConversionRate = computeConversionRate(distinctVisitorsOnPeriodOnFirstStep, distinctVisitorsOnPeriodOnLastStep);
  ctx.global.@distinctVisitorsOnPeriodBounceRate = computeConversionRate(distinctVisitorsOnPeriodOnFirstStep, distinctVisitorsOnPeriodOnFirstStep - distinctVisitorsOnPeriodOnSecondStep);

  // Totals clicks On period
  var totalClicksOnPeriodOnFirstStep = Number(ctx.byStepOnPeriod.cubeSchema_webAppTracker.(@step == firstStep).@totalClicks);
  var totalClicksOnPeriodOnLastStep = Number(ctx.byStepOnPeriod.cubeSchema_webAppTracker.(@step == lastStep).@totalClicks);

  ctx.global.@totalClicksOnPeriodOnFirstStep = totalClicksOnPeriodOnFirstStep;
  ctx.global.@totalClicksOnPeriodConversionRate = computeConversionRate(totalClicksOnPeriodOnFirstStep, totalClicksOnPeriodOnLastStep);



  //==========================================================================
  //byStepOnPeriod data
  //==========================================================================
  // Add the steps labels

  // Fill with 0 where there is no data
  for each( var trackingUrl in ctx.stepLabels.trackingUrl ) {
    if(ctx.byStepOnPeriod.cubeSchema_webAppTracker.(@step == trackingUrl.@step).length() == 0) {
      ctx.byStepOnPeriod.appendChild(
        &lt;cubeSchema_webAppTracker distinctVisitors="0" totalClicks="0" step={trackingUrl.@step}&gt;
          &lt;url/&gt;
        &lt;/cubeSchema_webAppTracker&gt;
      );
    }
  }

  var byStepOnPeriod = &lt;byStepOnPeriod&gt;&lt;/byStepOnPeriod&gt;;
  for each( var cubeSchema_webAppTracker in ctx.byStepOnPeriod.cubeSchema_webAppTracker ) {
    var label = ctx.stepLabels.trackingUrl.(@step == cubeSchema_webAppTracker.@step).@label;
    var conversionStepRate = computeConversionRate(distinctVisitorsOnPeriodOnFirstStep, cubeSchema_webAppTracker.@distinctVisitors);
    var hint = $(FUNNEL_HINT_CONVERSIONRATE) + ' ' + NL.Locale.formatPercent(conversionStepRate, 0, '-%');
    byStepOnPeriod.appendChild(&lt;cubeSchema_webAppTracker step={cubeSchema_webAppTracker.@step}
                                                            height="1"
                                                            distinctVisitors={cubeSchema_webAppTracker.@distinctVisitors}
                                                            totalClicks={cubeSchema_webAppTracker.@totalClicks}
                                                            stepLabel={label}
                                                            stepHint={hint}&gt;&lt;/cubeSchema_webAppTracker&gt;);
  }
  ctx.byStepOnPeriod = byStepOnPeriod;

  //==========================================================================
  //byDate on first step data
  //==========================================================================

  //Add end and start dates if there is no data
  if(startPrecisionDate) {
    if(ctx.byDateOnFirstStep.cubeSchema_webAppTracker.(@date == startPrecisionDate &amp;&amp; @step == firstStep).length() == 0) {
      for each( var trackingUrl in ctx.stepLabels.trackingUrl.(@step == firstStep) )
      {
        var strDate = NL.XTK.formatDateOnly(startPrecisionDate);
        ctx.byDateOnFirstStep.appendChild(&lt;cubeSchema_webAppTracker date={strDate} distinctVisitors="0" totalClicks="0"&gt;&lt;/cubeSchema_webAppTracker&gt;);
      }
    }
  }

  if(endPrecisionDate) {
    if(ctx.byDateOnFirstStep.cubeSchema_webAppTracker.(@date == endPrecisionDate &amp;&amp; @step == firstStep).length() == 0) {
      for each( var trackingUrl in ctx.stepLabels.trackingUrl.(@step == firstStep) )
      {
        var strDate = NL.XTK.formatDateOnly(endPrecisionDate);
        ctx.byDateOnFirstStep.appendChild(&lt;cubeSchema_webAppTracker date={strDate} distinctVisitors="0" totalClicks="0"&gt;&lt;/cubeSchema_webAppTracker&gt;);
      }
    }
  }



  var byDateOnFirstStep = &lt;byDateOnFirstStep&gt;&lt;/byDateOnFirstStep&gt;;
  for each( var cubeSchema_webAppTracker in ctx.byDateOnFirstStep.cubeSchema_webAppTracker ) {
    var label = ctx.stepLabels.trackingUrl.(@step == firstStep).@label;
    byDateOnFirstStep.appendChild(&lt;cubeSchema_webAppTracker date={cubeSchema_webAppTracker.@date} distinctVisitors={cubeSchema_webAppTracker.@distinctVisitors} totalClicks={cubeSchema_webAppTracker.@totalClicks} stepLabel={label}&gt;&lt;/cubeSchema_webAppTracker&gt;);
  }
  ctx.byDateOnFirstStep = byDateOnFirstStep;



  //==========================================================================
  //byStepDeliveryGroupList data
  //==========================================================================

  /** Compute the group list values */
  // Each node is like &lt;cubeSchema_webAppTracker delivery="" indicator1="" indicator2="" ... rate=""&gt;&lt;/cubeSchema_webAppTracker&gt;
  var byStepDeliveryGroupList = &lt;byStepDeliveryGroupList&gt;&lt;/byStepDeliveryGroupList&gt;;


  var distinctVisitorsOnFirstStepSum = 0;
  for each( var cubeSchema_webAppTracker in ctx.byStepAndDelivery.cubeSchema_webAppTracker ) {
    var node;
    var delivery = cubeSchema_webAppTracker.@delivery;
    if( byStepDeliveryGroupList.cubeSchema_webAppTracker.(@delivery == delivery).length() &gt; 0 )
      node = byStepDeliveryGroupList.cubeSchema_webAppTracker.(@delivery == delivery);
    else {
      node = &lt;cubeSchema_webAppTracker delivery={delivery}&gt;&lt;/cubeSchema_webAppTracker&gt;;
      byStepDeliveryGroupList.appendChild(node);
    }

    if(cubeSchema_webAppTracker.@step == firstStep) {
      node.@distinctVisitorsOnFirstStep = cubeSchema_webAppTracker.@distinctVisitors;
      if(!isNaN(Number(node.@distinctVisitorsOnFirstStep))) {
        distinctVisitorsOnFirstStepSum += Number(node.@distinctVisitorsOnFirstStep);
      }
    }
  }

  //Calculate pourcentage
  if(distinctVisitorsOnFirstStepSum != 0) {
    for each( var cubeSchema_webAppTracker in byStepDeliveryGroupList.cubeSchema_webAppTracker ) {
      cubeSchema_webAppTracker.@percentageDistinctVisitorsOnFirstStep = Number(cubeSchema_webAppTracker.@distinctVisitorsOnFirstStep) / distinctVisitorsOnFirstStepSum;
    }
  }

  ctx.byStepDeliveryGroupList = byStepDeliveryGroupList;



  //==========================================================================
  //byAllGroupList data
  //==========================================================================

  var formatDate = function(date, precision) {
    var dateObject = date.length()&gt;0 ? NL.XTK.parseDateOnly(date.toString()) : undefined;
    if(dateObject) {
      if( precision === 'month' ) {
        return NL.Locale.formatDateOnly(dateObject, "%2M/%4Y");
      }
      else  {
        return NL.Locale.formatDateOnly(dateObject, "shortDate");
      }
    }
    return date;
  };


  /** Build the group list */
  var byAllGroupList = &lt;byAllGroupList&gt;&lt;/byAllGroupList&gt;;
  for each( var cubeSchema_webAppTracker in ctx.byAll.cubeSchema_webAppTracker ) {
    var node;
    var delivery = cubeSchema_webAppTracker.@delivery;
    var date = cubeSchema_webAppTracker.@date;
    if( byAllGroupList.cubeSchema_webAppTracker.(@delivery == delivery &amp;&amp; @date == date).length() &gt; 0 )
      node = byAllGroupList.cubeSchema_webAppTracker.(@delivery == delivery &amp;&amp; @date == date);
    else {
      node = &lt;cubeSchema_webAppTracker delivery={delivery} date={date}&gt;&lt;/cubeSchema_webAppTracker&gt;;
      byAllGroupList.appendChild(node);
    }
    var indicator = "totalClicks_" + cubeSchema_webAppTracker.@step;
    node.@[indicator] = cubeSchema_webAppTracker.@totalClicks;


    node.@dateLabel = formatDate(cubeSchema_webAppTracker.@date, precision);
  }

  // Fill with 0 where there is no data
  for each( var cubeSchema_webAppTracker in byAllGroupList.cubeSchema_webAppTracker ) {
    for( var i = firstStep; i &lt;= lastStep; i++ ) {
      var indicator = "totalClicks_" + i;
      var delivery = cubeSchema_webAppTracker.@delivery;
      var date = cubeSchema_webAppTracker.@date;
      if( cubeSchema_webAppTracker.@[indicator] == undefined )
        byAllGroupList.cubeSchema_webAppTracker.(@delivery == delivery &amp;&amp; @date == date).@[indicator] = "0";
    }
  }

  ctx.byAllGroupList = byAllGroupList;

  //==========================================================================
  //byAllGroupList data
  //==========================================================================

  // Protection to avoid page changes when the input are changed: a real refresh is needed
  ctx.vars._precision = String(ctx.vars.precision);
}</code>
          <strings>
            <string id="TO" value="to"/>
            <string id="FROM" value="From"/>
            <string id="TO_ONLY" value="Until"/>
            <string id="FROM_ONLY" value="From"/>
            <string id="FUNNEL_HINT_CONVERSIONRATE" value="Conversion rate:"/>
          </strings>
        </script>
        <script label="Initializing parameters" name="script6" x="64" y="424">
          <transitions>
            <next name="next" target="query82"/>
          </transitions>
          <code>//Objectif
if(ctx.vars.goal.length() == 0){
  ctx.vars.appendChild(&lt;goal&gt;&lt;/goal&gt;);
}
if(ctx.goalEnum.trackingUrl.length() &gt; 0) {
  ctx.vars.goal = ctx.goalEnum.trackingUrl[0].@goal.toString();
}

//End date
var now = new Date();
var today = NL.Date.newUTCDateOnly(now.getFullYear(), now.getMonth()+1, now.getDate());

if(ctx.vars.endDate.length() == 0){
  ctx.vars.appendChild(&lt;endDate&gt;&lt;/endDate&gt;);
}
ctx.vars.endDate = NL.XTK.formatDateOnly(today);

//Start date
var monthAgo = NL.Date.newUTCDateOnly(now.getFullYear(), now.getMonth()+1 -1, now.getDate());

if(ctx.vars.startDate.length() == 0){
  ctx.vars.appendChild(&lt;startDate&gt;&lt;/startDate&gt;);
}
ctx.vars.startDate = NL.XTK.formatDateOnly(monthAgo);</code>
        </script>
        <script label="Data recovery" name="script32" x="576" y="432">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <code>/**
* get statistics for webApp tracker for webAppTrackerAnalysis report
* @param  {Object} ctx    context
* @param  {String} schema recipient schema
*/
var getWebAppTrackerStatistics = function(ctx, deliveryMapping) {
  if(!deliveryMapping)
  {
    return;
  }

/**
* return the join columns  to the target schema in the trackingLogSchema
* @param  {String} trackingLogSchema schema name of the tracking log entity
* @param  {String} targetSchema      schema name of the target entity
* @return {Array of String}          array of the join columns
*/
var getTargetJoinColumns = function(trackingLogSchema, targetSchema) {
  var targetSchemaName = targetSchema.split(':')[1];
  var joinColumns = [];
  for each(var joinDef in application.getSchema(trackingLogSchema).root.children[targetSchemaName].joinParts) {
    joinColumns.push(joinDef.source.nodePath.substring(1));
  }
  return joinColumns;
}

//========================================================================
// Build cube
//========================================================================

//Build a expression that represent a unique person (eg recipient)
var targetJoinColumn;
var joinColumns = getTargetJoinColumns(deliveryMapping.trackingLogSchema, deliveryMapping.targetSchema);
if(joinColumns.length == 1) {
  targetJoinColumn = NL.XTK.expandXPath(joinColumns[0]);
}
else
{
  for(var i in joinColumns) {
    var joinColumn = joinColumns[i];

    if( i &gt; 0 )
      targetJoinColumn += "+':'+";
    targetJoinColumn += "ToString(" + NL.XTK.expandXPath(joinColumn) +")";
  }
}

//Create olapCube
var jxonCube =  {olapCube: {
                name: "tempWebAppTrackerCube",
                timezone: "_inherit_",
                fact: {schema: deliveryMapping.trackingLogSchema, type: 0,
                  where: { condition: [
                      {boolOperator: "AND", expr: "[url/@goal] IS NOT NULL"},
                      {boolOperator:"AND", expr: "[delivery/@id] &lt;&gt; 0"},
                      {expr: "[url/webApp/@id] &lt;&gt; 0"}
                    ]
                  }
                },
                olapDimension: [
                  {id: 1, name:"delivery",
                    level: [{expr:"delivery", exprType: "link", label: "Diffusions", name: "delivery", viewType: "inherit"}]
                  },
                  {id: 2, name: "goal",
                  level: [{expr: "[url/@goal]", exprType: "string", label: "Objectif", name: "goal", viewType: "inherit"}]
                  },
                  {id: 3, name: "step",
                    level: [{expr: "[url/@step]", exprType: "byte", label: "Etape", name: "step", viewType: "inherit"}]
                  },
                  {id: 4, name: "date",
                    level: [
                      {expr: "ToDate(YearAndMonth(SubMonths(@logDate, ToInteger(Month(@logDate)-1))))" , exprType: "date" , label: "Année" , name: "year"  , viewType: "year"}  ,
                      {expr: "ToDate(YearAndMonth(@logDate))"                                          , exprType: "date" , label: "Mois"  , name: "month" , viewType: "month"} ,
                      {expr: "ToDate(DateOnly(@logDate))"                                              , exprType: "date" , label: "Jour"  , name: "day"   , viewType: "day"}
                    ]
                  },
                  {id: 5, name: "webapp",
                    level: [{expr: "[url/webApp]", exprType: "link", label: "Application Web", name: "webapp", viewType: "inherit"}]
                  }
                ],
              olapMeasure: [
                {expr: "COUNT(1)", name: "webVisit", operator: 1},
                {expr: "countdistinct("+targetJoinColumn+")", name: "webVisitor", operator: 2},
                {expr: "countdistinct(@sourceId)", name: "webPerson", operator: 2}
              ]
            }
          };
var cube = DOMDocument.fromJXON(jxonCube);



  //========================================================================
  // query properties
  //========================================================================


  //Select nodes
  var stepSelectNode             = { alias: "@step", analyze: "false", expr: "@step_step", groupBy: 1, noSqlBind: true, sort: true }

  var totalClicksSelectNode      = { alias: "@totalClicks", analyze:false, expr: "Sum(@webVisit)" };

  var distinctVisitorsSelectNode = { alias: "@distinctVisitors", analyze:false};

  var webTrackingMode = Number(getOption("NmsTracking_WebTrackingMode"));
  if( webTrackingMode === 2 /*ENUM_BT_SERVEROPTIONS_WEBTRACKINGMODE_ANONYMOUS*/ || webTrackingMode === 4 /*ENUM_BT_SERVEROPTIONS_WEBTRACKINGMODE_ANONYMOUSLASTTOUCH*/) {
    distinctVisitorsSelectNode.expr = "Sum(@webPerson)";
  }
  else {
    distinctVisitorsSelectNode.expr = "Sum(@webVisitor)";
  }

  var deliverySelectNode         = { alias: "@delivery", analyze: "false", expr: "[delivery_delivery/.]", groupBy: 1, noSqlBind: true, sort: true };

  var dateSelectNode = {alias: "@date", analyze: false, groupBy: 1, sort: true};
  if (precision === "month")
    dateSelectNode.expr = "@date_month";
  else
    dateSelectNode.expr = "@date_day";




  //Where nodes
  var webAppWhereNode = { boolOperator: "AND", expr: "[webapp_webapp/@id] = " + Number(ctx.@_selection) };

  var goalWhereNode = { boolOperator: "AND", expr: "@goal_goal = '" + NL.XTK.escape(String(ctx.vars.goal)) + "'" };

  var startDateWhereNode;
  if(String(ctx.vars.startDate)) {
    startDateWhereNode = {boolOperator: "AND", expr: "@date_day &gt;= ToDate(DateOnly(#" + String(ctx.vars.startDate) + "#))"};
  }

  var endDateWhereNode;
  if (String(ctx.vars.endDate))
    endDateWhereNode = {boolOperator: "AND", expr: "@date_day &lt;= ToDate(DateOnly(#" + String(ctx.vars.endDate) + "#))"};

  var firstStep;
  for each( var trackingUrl in ctx.stepLabels.trackingUrl )
  {
    var step = Number(trackingUrl.@step.toString());
    firstStep = firstStep === undefined ? step : Math.min(step, firstStep );
  }
  var firstStepWhereNode = { boolOperator: "AND", expr: "@step_step = " + firstStep};



  //========================================================================
  // execute queries
  //========================================================================
  var executeQuery = function(queryName, queryDefJXON) {
    var res = xtk.olapCube.GetReportData(0, DOMDocument.fromJXON(queryDefJXON).toXMLString(), false, true, cube);
    delete ctx[queryName];
    res.setName(queryName);
    for each (var row in res.*)
      row.setName("cubeSchema_webAppTracker");
    ctx[queryName] = res;
  }


  // Query by step on the period
  executeQuery("byStepOnPeriod",
    { queryDef: {
        select: { node: [
            stepSelectNode,
            totalClicksSelectNode,
            distinctVisitorsSelectNode
          ]
        },
        where: { condition: [
            webAppWhereNode,
            goalWhereNode,
            { boolOperator: "AND", expr: "[delivery_delivery/@id] &lt;&gt; 0" },
            startDateWhereNode,
            endDateWhereNode
          ]
        },
        orderBy : { node : [
          {expr: "@step_step"}
        ]}
      }
    }
  );

  // Query by step and delivery
  executeQuery("byStepAndDelivery",
    { queryDef: {
        select: { node: [
            stepSelectNode,
            deliverySelectNode,
            totalClicksSelectNode,
            distinctVisitorsSelectNode
          ]
        },
        where: { condition: [
            webAppWhereNode,
            goalWhereNode,
            startDateWhereNode,
            endDateWhereNode,
            { boolOperator: "AND", expr: "[delivery_delivery/@id] &lt;&gt; 0" }
          ]
        },
        orderBy : { node : [
          {expr: "@step_step"}
        ]}
      }
    }
  );

  // Query by date on the first step
  executeQuery("byDateOnFirstStep",
    { queryDef: {
        select: { node: [
            totalClicksSelectNode,
            distinctVisitorsSelectNode,
            dateSelectNode
          ]
        },
        where: { condition: [
            webAppWhereNode,
            goalWhereNode,
            startDateWhereNode,
            endDateWhereNode,
            firstStepWhereNode,
            { boolOperator: "AND", expr: "[delivery_delivery/@id] &lt;&gt; 0" }
          ]
        }
      }
    }
  );

  // Query by date, step and delivery
  executeQuery("byAll",
    { queryDef: {
        select: { node: [
            stepSelectNode,
            deliverySelectNode,
            totalClicksSelectNode,
            distinctVisitorsSelectNode,
            dateSelectNode
          ]
        },
        where: { condition: [
            webAppWhereNode,
            goalWhereNode,
            startDateWhereNode,
            endDateWhereNode,
            { boolOperator: "AND", expr: "[delivery_delivery/@id] &lt;&gt; 0" }
          ]
        },
        orderBy : { node : [
          {expr: "@step_step"}
        ]}
      }
    }
  );

};



var deliveryMapping = ctx.@deliveryMapping.length() ? JSON.parse(ctx.@deliveryMapping) : undefined;
if(deliveryMapping) {
  getWebAppTrackerStatistics(ctx, deliveryMapping);
}</code>
        </script>
        <query label="Recovery of tracking urls" name="query82" x="216" y="432">
          <transitions>
            <next name="next" target="script3"/>
          </transitions>
          <source schema="nms:trackingUrl">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:trackingUrl">
              <condition boolOperator="AND" expr="[@webApp-id] = $noescaping([/@_selection])" internalId="3085893635"/>
              <condition boolOperator="AND" expr="@goal = $([vars/goal])" internalId="3085893636"/>
            </where>
            <select>
              <node alias="@label" expr="@label" groupBy="1" label="Label" sort="true"/>
              <node alias="@step" expr="@step" groupBy="1" label="Stage" sort="true"/>
            </select>
            <orderBy displayOrder="Libellé, Etape"/>
          </source>
          <output path="stepLabels"/>
        </query>
        <query contextFilter="true" label="Recovery of web applications" name="query6" selectAll="false" x="72" y="24">
          <transitions>
            <next name="next" target="query7"/>
          </transitions>
          <source schema="nms:webApp">
            <where filterName="backGroundFilterFrm">
              <condition expr="@id = $noescaping([/@_selection])" internalId="3085893634"/>
            </where>
            <select>
              <node alias="@webapp" expr="@id" sort="true"/>
              <node alias="@webappLabel" expr="[.]" sort="true"/>
            </select>
            <orderBy displayOrder="Primary key, Libellé"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/webapp"/>
        </query>
        <query label="Recovery of target actions" name="query7" x="224" y="24">
          <transitions>
            <next name="next" target="test"/>
          </transitions>
          <source schema="nms:trackingUrl">
            <where filterName="backGroundFilterFrm">
              <condition expr="[webApp/@id] = $noescaping([/@_selection])" internalId="3085893633"/>
            </where>
            <select>
              <node alias="@goal" analyze="1" expr="@goal" groupBy="1" sort="true"/>
            </select>
            <orderBy displayOrder="Objectif">
              <node expr="@goal" sort="1"/>
            </orderBy>
          </source>
          <output path="goalEnum"/>
        </query>
      </activities>
      <desc>Report analyzing visits and unique visitors of a web application for each tracked stage: chart with conversion rate, conversion rate over time, details based on delivery.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Feedback" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/kpi.png" internalName="errors" isGlobal="1" label="Non-deliverables and bounces" order="2" prefered="1" schema="nms:delivery">
      <properties renderingEngine="1" windowTitle="&lt;%== ctx.title %>"/>
      <variables>
        <variable label="Folder" xpath="folder"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:delivery"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:delivery">
        <condition boolOperator="AND" enabledIf="$(@_context)!='global'" expr="@messageType = 0" internalId="1230057571"/>
      </visibleIf>
      <activities>
        <page disableNextButton="true" label="Non-deliverables and bounces" name="page" x="888" y="208">
          <transitions>
            <next label="Select folder" name="next" target="query622"/>
          </transitions>
          <container colcount="2" id="12356514604" label="Header" style="folderContainer" type="container">
            <visibleIf>
              <condition id="12356515346" leftExpr="@_context" operator="=" rightExpr="'global'"/>
            </visibleIf>
            <input action="transition" id="12356514705" label="Choose a folder" transition="next" type="folderSelector">
              <storage mode="var">
                <variable xpath="folder"/>
              </storage>
            </input>
          </container>
          <container colcount="2" id="12457687476" label="Number of messages processed" type="container">
            <value id="12457687477" label="Number of messages processed" type="value" xpath="[query/@totalProcessed]">
              <style alignment="left" decimalPlaces="0" format="number">
                <font color="#707070" style="bold"/>
              </style>
            </value>
          </container>
          <container colcount="2" id="12889808824" label="Breakdown of errors per type" style="reportContainer" type="container" useHtmlTitle="true">
            <table id="12889808865" label="Breakdown per error type" type="tabular">
              <data schema="temp:formContext" startPath="[query/cubeSchema_deliveryLogStats]">
                <group>
                  <columns>
                    <column id="128898088764" width="3.7272727272727284" widthMode="manual"/>
                    <column id="128898142281" width="13.000000000000008" widthMode="manual"/>
                    <column id="128898094975" width="9.272727272727277" widthMode="manual"/>
                    <column id="128898172587" width="19.090909090909097" widthMode="manual"/>
                    <column id="128898216893" width="18.000000000000007" widthMode="manual"/>
                  </columns>
                  <header id="128898088765">
                    <cell id="128898088766"/>
                    <cell id="128898142282"/>
                    <cell id="128898094976" label="Errors">
                      <style alignment="right"/>
                    </cell>
                    <cell descImgPos="none" id="128898172588" label="Contribution">
                      <style alignment="right"/>
                      <desc>&lt;P&gt;&amp;nbsp;&lt;/P&gt;</desc>
                    </cell>
                    <cell id="128898216894" label="Breakdown">
                      <style alignment="right"/>
                    </cell>
                  </header>
                  <group collapse="true" name="Groupe 1">
                    <groupBy>
                      <node expr="@type" label="Error type"/>
                    </groupBy>
                    <header id="128898093171">
                      <cell alias="expr1289232888" expr="Avg(@typePosition)" id="128898093172">
                        <style>
                          <extra visual="color"/>
                        </style>
                      </cell>
                      <cell expr="@typeLabel" id="128898142283"/>
                      <cell expr="Sum(@value)" id="128898094977">
                        <style decimalPlaces="0" format="number"/>
                      </cell>
                      <cell alias="expr1288981871" expr="percent(Sum(@value),@totalErrors)" id="128898172589">
                        <style format="percentage"/>
                      </cell>
                      <cell alias="expr1288982291" expr="percent(Sum(@value),@totalProcessed)" id="128898216895">
                        <style format="percentage"/>
                      </cell>
                    </header>
                    <group name="Groupe 1"/>
                    <row id="128898088767">
                      <cell id="128898088768"/>
                      <cell expr="@domain_domainLabel" id="128898142284">
                        <style alignment="right">
                          <font color="#666666"/>
                        </style>
                      </cell>
                      <cell expr="@value" id="128898094978">
                        <style decimalPlaces="0" format="number">
                          <font color="#666666"/>
                        </style>
                      </cell>
                      <cell alias="expr1289210952" expr="percent(@value,Sum(@value))" id="128898172590">
                        <style format="percentage">
                          <font color="#666666"/>
                        </style>
                      </cell>
                      <cell alias="expr1289210963" expr="percent(@value,@totalProcessed)" id="128898216896">
                        <style format="percentage">
                          <font color="#666666"/>
                        </style>
                      </cell>
                    </row>
                    <footer id="128898093173">
                      <cell id="128898093174"/>
                      <cell id="128898142285"/>
                      <cell id="128898094979"/>
                      <cell id="128898172591"/>
                      <cell id="128898216897"/>
                    </footer>
                  </group>
                  <footer id="128898088769">
                    <cell id="128898088770"/>
                    <cell id="128898142286" label="Total">
                      <style alignment="right">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell expr="@totalErrors" id="128898094980">
                      <style decimalPlaces="0" format="number">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1288981878" expr="percent(Sum(@value),@totalErrors)" id="128898172592">
                      <style format="percentage">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1288982294" expr="percent(Sum(@value),@totalProcessed)" id="128898216998">
                      <style format="percentage">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                  </footer>
                </group>
              </data>
            </table>
            <chart displayLabels="false" displayLegend="false" height="250" id="128921195849" innerPieRadius="0.5" label="Breakdown per error type" legendPosition="bottom" sortMode="0" type="pie" width="250">
              <data dataSource="context" schema="temp:formContext" startPath="[query/cubeSchema_deliveryLogStats]">
                <variables>
                  <row>
                    <var expr="@typeLabel" label="Label of the error type"/>
                  </row>
                </variables>
                <statistic aggExpr="@value" alias="@expr1" operator="sum"/>
              </data>
            </chart>
          </container>
          <container colcount="2" id="12892070742" label="Breakdown of errors per domain" style="reportContainer" type="container" useHtmlTitle="true">
            <table id="12892070813" label="Breakdown per domain" type="tabular">
              <data schema="temp:formContext" startPath="[query/cubeSchema_deliveryLogStats]">
                <group>
                  <columns>
                    <column id="128920797820"/>
                    <column id="12892070823" width="12.000000000000001" widthMode="manual"/>
                    <column id="128920797514" width="10.545454545454555" widthMode="manual"/>
                    <column id="128920829926" width="17.63636363636362" widthMode="manual"/>
                    <column id="128920994232" width="19.545454545454536" widthMode="manual"/>
                  </columns>
                  <header id="12892070824">
                    <cell id="128920797821"/>
                    <cell id="12892070825"/>
                    <cell id="128920797515" label="Errors">
                      <style alignment="right"/>
                    </cell>
                    <cell id="128921062656" label="Contribution">
                      <style alignment="right"/>
                    </cell>
                    <cell id="128920994233" label="Breakdown">
                      <style alignment="right"/>
                    </cell>
                  </header>
                  <group collapse="true" name="Groupe 1">
                    <groupBy>
                      <node expr="@domain_domain" label="Email domain - Email domain"/>
                    </groupBy>
                    <header id="128920794810">
                      <cell alias="expr1289233095" expr="Avg(@domainPosition)" id="128920797822">
                        <style format="number">
                          <extra visual="color"/>
                        </style>
                      </cell>
                      <cell expr="@domain_domainLabel" id="128920794811"/>
                      <cell expr="Sum(@value)" id="128920797516">
                        <style decimalPlaces="0" format="number"/>
                      </cell>
                      <cell alias="expr1289208339" expr="percent(Sum(@value), @totalErrors)" id="128920829928">
                        <style format="percentage"/>
                      </cell>
                      <cell alias="expr1289209998" expr="percent(Sum(@value),Avg(@processed))" id="128920994334">
                        <style format="percentage"/>
                      </cell>
                    </header>
                    <row id="12892070826">
                      <cell id="128920797823"/>
                      <cell expr="@typeLabel" id="12892070827">
                        <style alignment="right">
                          <font color="#666666"/>
                        </style>
                      </cell>
                      <cell expr="@value" id="128920797517">
                        <style decimalPlaces="0" format="number">
                          <font color="#666666"/>
                        </style>
                      </cell>
                      <cell alias="expr1289211185" expr="percent(@value, Sum(@value))" id="128920829929">
                        <style format="percentage">
                          <font color="#666666"/>
                        </style>
                      </cell>
                      <cell alias="expr1289211240" expr="percent(@value,Avg(@processed))" id="128920994335">
                        <style format="percentage">
                          <font color="#666666"/>
                        </style>
                      </cell>
                    </row>
                    <footer id="128920794812">
                      <cell id="128920797824"/>
                      <cell id="128920794813"/>
                      <cell id="128920797518"/>
                      <cell id="128920829930"/>
                      <cell id="128920994336"/>
                    </footer>
                  </group>
                  <footer id="12892070828">
                    <cell id="128920797825"/>
                    <cell id="12892070829" label="Total">
                      <style alignment="right">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell expr="Sum(@value)" id="128920797519">
                      <style decimalPlaces="0" format="number">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1289208381" expr="percent(Sum(@value), @totalErrors)" id="128920829931">
                      <style format="percentage">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1289210145" expr="percent(@totalErrors, @totalProcessed)" id="128920994337">
                      <style format="percentage">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                  </footer>
                </group>
              </data>
            </table>
            <chart displayLabels="false" displayLegend="false" height="250" id="128921179248" innerPieRadius="0.5" label="Breakdown per domain" sortMode="0" type="pie" width="250">
              <data dataSource="context" schema="temp:formContext" startPath="[query/cubeSchema_deliveryLogStats]">
                <variables>
                  <row>
                    <var expr="@domain_domainLabel" label="Email domain - Email domain (label)"/>
                  </row>
                </variables>
                <statistic aggExpr="@value" alias="@expr1" operator="sum"/>
              </data>
            </chart>
          </container>
        </page>
        <test label="Display context" name="test" x="40" y="160">
          <transitions>
            <condition label="Global" name="transition1" target="script">
              <condition id="12103298890" leftExpr="@_context" operator="=" rightExpr="'global'"/>
            </condition>
            <default label="Delivery" name="default" target="test3"/>
          </transitions>
        </test>
        <test label="Entity type" name="test3" x="208" y="112">
          <transitions>
            <condition label="Campaign" name="transition1" target="query5">
              <condition id="12482839931" leftExpr="@_schema" operator="=" rightExpr="'nms:operation'"/>
            </condition>
            <default label="Delivery" name="default" target="query2"/>
          </transitions>
        </test>
        <script label="Sub-title" name="script" x="504" y="216">
          <transitions>
            <next name="next" target="query622"/>
          </transitions>
          <code>if( ctx.label.@label != undefined )
{
  if( ctx.@_schema == "nms:operation" )
    ctx.title = $(operation) + ctx.label.@label
  else
    ctx.title = $(action) + ctx.label.@label
}
else if( ctx.@_context == "selection" )
  ctx.title = ""
else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; (ctx.vars.folder.@isView == "1" || ctx.vars.folder.@isView == "true") )
  ctx.title = $(folderView)  + ' (' + ctx.vars.folder.@label + ')'
else if( ctx.vars.folder.length() &gt;= 1 &amp;&amp; ctx.vars.folder.@id != 0 &amp;&amp; ctx.vars.folder.@fullName != "" &amp;&amp; ctx.vars.folder.@fullName != "/" )
  ctx.title = $(folder)  + ' (' + ctx.vars.folder.@label + ')'
else
  ctx.title = $(globalContextLabel)</code>
          <strings>
            <string id="globalContextLabel" value="Whole platform"/>
            <string id="action" value="Delivery: "/>
            <string id="folder" value="Deliveries in the folder"/>
            <string id="folderView" value="Deliveries in the view"/>
            <string id="operation" value="Campaign: "/>
          </strings>
        </script>
        <script label="Data modification" name="script2" x="752" y="208">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <code>var query = &lt;query/&gt;

var totalProcessed = 0

var other = undefined
for each( var output in ctx.query.cubeSchema_deliveryLogStats )
{
  if( output.@domain_domain == "0" )
  {
    other = output
    continue
  }
  query.appendChild(output)
}
if( other != undefined )
  query.appendChild(other)
ctx.query = query

query = &lt;query/&gt;
for each( var output in ctx.query.cubeSchema_deliveryLogStats )
{
  totalProcessed += parseInt(output.@processed)
  query.appendChild(&lt;cubeSchema_deliveryLogStats domain_domain={output.@domain_domain} domain_domainLabel={output.@domain_domainLabel} processed={output.@processed} type="1" typeLabel={$(unknownUser)} value={output.@unknownUser}/&gt;)
  query.appendChild(&lt;cubeSchema_deliveryLogStats domain_domain={output.@domain_domain} domain_domainLabel={output.@domain_domainLabel} processed={output.@processed} type="2" typeLabel={$(invalidDomain)} value={output.@invalidDomain}/&gt;)
  query.appendChild(&lt;cubeSchema_deliveryLogStats domain_domain={output.@domain_domain} domain_domainLabel={output.@domain_domainLabel} processed={output.@processed} type="3" typeLabel={$(unreachable)} value={output.@unreachable}/&gt;)
  query.appendChild(&lt;cubeSchema_deliveryLogStats domain_domain={output.@domain_domain} domain_domainLabel={output.@domain_domainLabel} processed={output.@processed} type="4" typeLabel={$(disabled)} value={output.@disabled}/&gt;)
  query.appendChild(&lt;cubeSchema_deliveryLogStats domain_domain={output.@domain_domain} domain_domainLabel={output.@domain_domainLabel} processed={output.@processed} type="5" typeLabel={$(mailBoxFull)} value={output.@mailBoxFull}/&gt;)
  query.appendChild(&lt;cubeSchema_deliveryLogStats domain_domain={output.@domain_domain} domain_domainLabel={output.@domain_domainLabel} processed={output.@processed} type="6" typeLabel={$(notConnected)} value={output.@notConnected}/&gt;)
  query.appendChild(&lt;cubeSchema_deliveryLogStats domain_domain={output.@domain_domain} domain_domainLabel={output.@domain_domainLabel} processed={output.@processed} type="20" typeLabel={$(refused)} value={output.@refused}/&gt;)
}

query.@totalProcessed = totalProcessed
ctx.query = query

var totalErrors = 0
for each( var output in ctx.query.cubeSchema_deliveryLogStats )
  totalErrors += parseInt(output.@value)

for each( var output in ctx.query.cubeSchema_deliveryLogStats )
{
  output.@totalErrors = totalErrors
  output.@totalProcessed = totalProcessed
}

var aDomain = new Array()
var aType = new Array()
for each( var data in ctx.query.cubeSchema_deliveryLogStats )
{
  // Compute the position of the domain group
  var domain = String(data.@domain_domain)
  var position = -1
  for( var i = 0; i &lt; aDomain.length; i++ )
  {
    if( aDomain[i] == domain )
      position = i
  }
  if( position == -1 )
  {
    position = aDomain.length
    aDomain.push(domain)
  }
  data.@domainPosition = position

  // Compute the position of the type group
  var type = String(data.@type)
  var position = -1
  for( var i = 0; i &lt; aType.length; i++ )
  {
    if( aType[i] == type )
      position = i
  }
  if( position == -1 )
  {
    position = aType.length
    aType.push(type)
  }
  data.@typePosition = position
}</code>
          <strings>
            <string id="refused" value="Refused"/>
            <string id="notConnected" value="Not connected"/>
            <string id="mailboxFull" value="Mailbox full"/>
            <string id="disabled" value="Account disabled"/>
            <string id="unreachable" value="Unreachable"/>
            <string id="invalidDomain" value="Invalid domain"/>
            <string id="unknownUser" value="User unknown"/>
          </strings>
        </script>
        <query contextFilter="true" label="Delivery label" name="query2" x="352" y="160">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:delivery"/>
            <select>
              <node expr="@label" sort="true"/>
            </select>
            <orderBy displayOrder="Libellé"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/label"/>
        </query>
        <query label="Label of the campaign" name="query5" x="368" y="80">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:operation">
            <where filterName="backGroundFilterFrm">
              <condition expr="@id = $(@_selection)" internalId="1248283664"/>
            </where>
            <select>
              <node expr="@label" sort="true"/>
            </select>
            <orderBy displayOrder="Libellé"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/label"/>
        </query>
        <query contextFilter="false" contextLink="[delivery_delivery/@id]" cubeData-cs="Delivery and tracking statistics (deliveryLogStats)" folderFilter="true" folderVariable="folder" inputType="2" label="Data" name="query622" selectAll="false" x="616" y="208">
          <transitions>
            <next name="next" target="script2"/>
          </transitions>
          <source schema="temp:cubeSchema_deliveryLogStats">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" enabledIf="$(@_schema)='nms:delivery' AND $(@_context)!='global'" expr="[delivery_delivery/@id] IN ($noescaping([/@_selection]))" internalId="1289227211"/>
              <condition boolOperator="AND" enabledIf="$(@_schema)='nms:operation' AND $(@_context)!='global'" expr="[delivery_delivery/@operation-id] IN ($noescaping([/@_selection]))" internalId="1289227330"/>
              <condition enabledIf="$(@_schema)='nms:operation'" expr="[delivery_delivery/@FCP] = 0" internalId="1289227376"/>
            </where>
            <select>
              <node alias="@unknownUser" expr="Sum(@unknownUser)" sort="true"/>
              <node alias="@mailBoxFull" expr="Sum(@mailBoxFull)" sort="true"/>
              <node alias="@disabled" expr="Sum(@disabled)" sort="true"/>
              <node alias="@refused" expr="Sum(@refused)" sort="true"/>
              <node alias="@notConnected" expr="Sum(@notConnected)" sort="true"/>
              <node alias="@unreachable" expr="Sum(@unreachable)" sort="true"/>
              <node alias="@invalidDomain" expr="Sum(@invalidDomain)" sort="true"/>
              <node alias="@processed" expr="Sum(@processed)" sort="true"/>
              <node alias="@domain_domain" analyze="1" expr="@domain_domain" groupBy="1" noSqlBind="true" sort="true"/>
              <node alias="@typeLabel" expr="Sum(0)" sort="true"/>
              <node alias="@value" expr="Sum(0)" sort="true"/>
              <node alias="@totalErrors" expr="Sum(0)" sort="true"/>
              <node alias="@totalProcessed" expr="Sum(0)" sort="true"/>
              <node alias="@domainPosition" expr="Sum(0)" sort="true"/>
              <node alias="@typePosition" expr="Sum(0)" sort="true"/>
            </select>
            <orderBy displayOrder="Domaine de l'email - Domaine de l'email">
              <node expr="@domain_domain" noSqlBind="true" sort="true"/>
            </orderBy>
            <groupBy displayGroup="Domaine de l'email"/>
          </source>
          <output path="query"/>
          <cubeData _operation="none" name="deliveryLogStats"/>
        </query>
      </activities>
      <desc>Bounces and non-deliverables by cause and domain.</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Summaries" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/curve.png" internalName="subscriptionsProgress" isGlobal="1" label="Subscription tracking" modelName="fullReport" prefered="1" schema="nms:service">
      <properties renderingEngine="1" windowTitle="Evolution of subscriptions"/>
      <variables>
        <variable default="172800" label="Period" type="long" xpath="period"/>
        <variable default="0" label="Registered" type="long" xpath="totalSubscribers"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&lt;%= $(line1) %&gt;&lt;/p&gt;
&lt;p&gt;&lt;%= $(line2) %&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:service"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:service">
        <condition boolOperator="AND" expr="@type &lt;> 40" internalId="1"/>
        <condition boolOperator="AND" expr="@type &lt;> 20" internalId="2"/>
        <condition expr="@type &lt;> 25" internalId="3"/>
      </visibleIf>
      <activities>
        <page label="Subscription tracking" name="page" x="192" y="128">
          <transitions>
            <next enabled="false" label="Next" name="next"/>
          </transitions>
          <javascript id="12168220851" label="Script 1">
            <code>var strSchema = ctx.@_displayingSchema
if( strSchema == undefined )
  strSchema = 'nms:service'

var bSelection = ctx.@_context == 'selection';
var bGlobal = ctx.@_context == 'global' || ctx.@_context == '';

if( ctx.vars.period &lt;= 172800 )
  ctx.vars.trunc = 600
else if( ctx.vars.period &lt;= 2592000 )
  ctx.vars.trunc = 3600
else
  ctx.vars.trunc = 43200

// If context is history, there's nothing to do
if( ctx.@_historyId.toString().length == 0 )
{
  // Request current subscriptions
  var cond
  if( strSchema == "nms:service" &amp;&amp; !bGlobal )
  {
    if( ctx.@_selection.toString() != "" )
    cond = &lt;condition expr={ "[@service-id] in (" + ctx.@_selection + ")" }/&gt;
    else
      cond = &lt;condition expr="[@service-id] = 0"/&gt;
  }
  var query = xtk.queryDef.create(
    &lt;queryDef operation="get" schema="nms:subscription"&gt;
      &lt;select&gt;
        &lt;node alias="item[1]/@_subscriber" expr="sum(Iif(@created &amp;lt; addDays(getDate(), (-1)), 1, 0))"/&gt;
        &lt;node alias="item[2]/@_subscriber" expr="sum(Iif(@created &amp;lt; addDays(getDate(), (-2)), 1, 0))"/&gt;
        &lt;node alias="item[3]/@_subscriber" expr="sum(Iif(@created &amp;lt; addDays(getDate(), (-7)), 1, 0))"/&gt;
        &lt;node alias="item[4]/@_subscriber" expr="sum(Iif(@created &amp;lt; addDays(getDate(), (-14)), 1, 0))"/&gt;
        &lt;node alias="item[5]/@_subscriber" expr="sum(Iif(@created &amp;lt; addDays(getDate(), (-30)), 1, 0))"/&gt;
        &lt;node alias="item[6]/@_subscriber" expr="sum(Iif(@created &amp;lt; addDays(getDate(), (-30 * 6)), 1, 0))"/&gt;
        &lt;node alias="@_totalSubscriber" expr="sum(1)"/&gt;
      &lt;/select&gt;
      &lt;where&gt;
        &lt;condition expr="@created IS NOT NULL"/&gt;
        { cond }
      &lt;/where&gt;
    &lt;/queryDef&gt;)
  ctx.subscription = query.ExecuteQuery()
  ctx.vars.totalSubscribers = parseInt(ctx.subscription.@_totalSubscriber)

  // Request aggregated subscription's history
  query = xtk.queryDef.create(
    &lt;queryDef operation="get" schema="nms:subHisto"&gt;
      &lt;select&gt;
        &lt;node alias="item[1]/@_subscription" expr="sum(Iif(@action = 1 and @date &amp;gt; addDays(getDate(), (-1)), 1, 0))"/&gt;
        &lt;node alias="item[2]/@_subscription" expr="sum(Iif(@action = 1 and @date &amp;gt; addDays(getDate(), (-2)), 1, 0))"/&gt;
        &lt;node alias="item[3]/@_subscription" expr="sum(Iif(@action = 1 and @date &amp;gt; addDays(getDate(), (-7)), 1, 0))"/&gt;
        &lt;node alias="item[4]/@_subscription" expr="sum(Iif(@action = 1 and @date &amp;gt; addDays(getDate(), (-14)), 1, 0))"/&gt;
        &lt;node alias="item[5]/@_subscription" expr="sum(Iif(@action = 1 and @date &amp;gt; addDays(getDate(), (-30)), 1, 0))"/&gt;
        &lt;node alias="item[6]/@_subscription" expr="sum(Iif(@action = 1 and @date &amp;gt; addDays(getDate(), (-30 * 6)), 1, 0))"/&gt;
        &lt;node alias="item[1]/@_unsubscription" expr="sum(Iif(@action = 0 and @date &amp;gt; addDays(getDate(), (-1)), 1, 0))"/&gt;
        &lt;node alias="item[2]/@_unsubscription" expr="sum(Iif(@action = 0 and @date &amp;gt; addDays(getDate(), (-2)), 1, 0))"/&gt;
        &lt;node alias="item[3]/@_unsubscription" expr="sum(Iif(@action = 0 and @date &amp;gt; addDays(getDate(), (-7)), 1, 0))"/&gt;
        &lt;node alias="item[4]/@_unsubscription" expr="sum(Iif(@action = 0 and @date &amp;gt; addDays(getDate(), (-14)), 1, 0))"/&gt;
        &lt;node alias="item[5]/@_unsubscription" expr="sum(Iif(@action = 0 and @date &amp;gt; addDays(getDate(), (-30)), 1, 0))"/&gt;
        &lt;node alias="item[6]/@_unsubscription" expr="sum(Iif(@action = 0 and @date &amp;gt; addDays(getDate(), (-30 * 6)), 1, 0))"/&gt;
      &lt;/select&gt;
      &lt;where&gt;
        { cond }
      &lt;/where&gt;
    &lt;/queryDef&gt;)
  var resSubHisto = query.ExecuteQuery()
  var items = resSubHisto.item
  var aPeriodLabels = [
    $(day),
    $(twoDays),
    $(week),
    $(fifteenDays),
    $(month),
    $(sixMonths)
  ]
  for( var l in items )
  {
    var src = items[l]
    var dest = ctx.subscription.item[l]
    dest.@_subscription   = src.@_subscription
    dest.@_unsubscription = src.@_unsubscription
    if( l &lt; aPeriodLabels.length )
      dest.@_label = aPeriodLabels[l]
  }

  // Request recent subscription's evolution (for the graph)
  query = xtk.queryDef.create(
    &lt;queryDef operation="select" schema="nms:subHisto"&gt;
      &lt;select&gt;
        &lt;node alias="@_date" expr={ "TruncDate(@date, " + ctx.vars.trunc + ")" }
              groupBy="true"/&gt;
        &lt;node alias="@_subscription" expr="toInteger(sum(@action))"/&gt;
        &lt;node alias="@_unsubscription" expr="toInteger(sum(Iif(@action=0, 1, 0)))"/&gt;
      &lt;/select&gt;
      &lt;where&gt;
        &lt;condition expr={ "@date &gt; SubSeconds(getDate(), " + ctx.vars.period + ")" }/&gt;
        { cond }
      &lt;/where&gt;
    &lt;/queryDef&gt;)
  ctx['subHisto-collection'] = query.ExecuteQuery()
}</code>
            <strings>
              <string id="day" value="24H"/>
              <string id="twoDays" value="48H"/>
              <string id="week" value="1 week"/>
              <string id="fifteenDays" value="2 weeks"/>
              <string id="month" value="1 month"/>
              <string id="sixMonths" value="6 months"/>
            </strings>
          </javascript>
          <container id="12186287631" label="Container" type="container">
            <value id="12186361623" label="Number subscribed to date: " type="value" xpath="[vars/totalSubscribers]">
              <style decimalPlaces="0" format="number" verticalAlignment="top">
                <font color="#707070" style="bold"/>
              </style>
            </value>
          </container>
          <container id="12833531621" label="Overall evolution of subscriptions" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <table id="12169228403" label="Overall evolution of subscriptions" labelPosition="hidden" type="tabular">
              <rendering align="center" inlineStyleValue="width:100%" width="0"/>
              <data schema="temp:formContext" startPath="[subscription/item]">
                <group>
                  <columns>
                    <column id="12169228404" widthMode="max"/>
                    <column id="12169228405"/>
                    <column id="12169228406"/>
                    <column id="12169228407"/>
                    <column id="12169228408"/>
                    <column id="12169228409"/>
                  </columns>
                  <header id="121692284010">
                    <cell alias="expr1216830493" id="121692284011" label="Period">
                      <style alignment="left" verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1216830516" id="121692284012" label="Registered">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1216830528" id="121692284013" label="Subscriptions">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1216830544" id="121692284014" label="Unsubscriptions">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1216830555" id="121692284015" label="Evolution">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell alias="expr1216830564" id="121692284016" label="Loyalty">
                      <style alignment="right" verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                  </header>
                  <row id="121692284017">
                    <cell expr="@_label" id="121692284018">
                      <style verticalAlignment="top">
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell expr="@_subscriber" id="121692284019">
                      <style alignment="right" decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@_subscription" id="121692284020">
                      <style alignment="right" decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell expr="@_unsubscription" id="121692284021">
                      <style alignment="right" decimalPlaces="0" format="number" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1216830951" expr="Iif(number(@_subscription) > number(@_unsubscription), '+', '')+format(@_subscription - @_unsubscription, 'number', '# ##0')+ Iif(@_subscriber>0,' (' + format(100*percent(@_subscription - @_unsubscription, @_subscriber), 'number', '#,##0.00')+ '%)','')" id="121692284022">
                      <style alignment="right" verticalAlignment="top"/>
                    </cell>
                    <cell alias="expr1216831128" expr="1-percent(@_unsubscription,@_subscriber+@_subscription-@_unsubscription)" id="121692284023">
                      <style alignment="right" format="percentage" verticalAlignment="top"/>
                    </cell>
                  </row>
                </group>
              </data>
            </table>
          </container>
          <container id="12833531662" label="Subscription evolution curves" style="reportContainer" type="container" useHtmlTitle="true" width="100%">
            <container colcount="2" id="12877616268" label="Container 1" type="container">
              <input id="12877616269" label="Period:" type="select">
                <storage mode="var" type="long">
                  <options>
                    <option id="128776162610" label="6H" value="21600"/>
                    <option id="128776162611" label="12H" value="43200"/>
                    <option id="128776162612" label="24H" value="86400"/>
                    <option id="128776162613" label="48H" selected="1" value="172800"/>
                    <option id="128776162614" label="1 week" value="604800"/>
                    <option id="128776162615" label="2 weeks" value="1209600"/>
                    <option id="128776162616" label="1 month" value="2592000"/>
                    <option id="128776162617" label="6 months" value="15724800"/>
                  </options>
                  <variable xpath="period"/>
                </storage>
              </input>
              <link action="refresh" id="128776162618" img="/xtk/img/refresh.png" label="Refresh" staticAlignment="label" target="_self" tooltip="Refresh chart"/>
              <rendering inlineStyle="margin-bottom: 5px;"/>
            </container>
            <chart accumulate="true" displayLabels="false" height="300" id="128776186521" innerPieRadius="0.6" label="Chart 1" legendPosition="bottom" type="filled">
              <data dataSource="context" schema="temp:formContext">
                <variables>
                  <row>
                    <var expr="[subHisto-collection/subHisto/@_date]" label="@_date"/>
                  </row>
                </variables>
                <statistic aggExpr="[subHisto-collection/subHisto/@_subscription]" alias="sub" format="number" label="Subscription" operator="sum"/>
                <statistic aggExpr="[subHisto-collection/subHisto/@_unsubscription]" alias="unsub" format="number" label="Unsubscription" operator="sum"/>
              </data>
            </chart>
          </container>
        </page>
      </activities>
      <desc>Evolution of subscriptions</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Audit" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/default.png" internalName="recentPropositions" isGlobal="0" label="Recent proposition tracking" modelName="fullReport" multiselection="0" schema="nms:propositionRcp">
      <properties renderingEngine="1" windowTitle="&lt;%== ctx.@windowTitle %>"/>
      <variables>
        <variable default="86400" label="Period" type="long" xpath="period"/>
        <variable label="Variable 1" type="long" xpath="truncPeriod"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&amp;lt;%= $(line1) %&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;%= $(line2) %&amp;gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:propositionRcp"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:propositionRcp"/>
      <activities>
        <page disableNextButton="true" label="Proposition tracking" name="page" x="312" y="168">
          <transitions>
            <next label="Refresh" name="next" target="query"/>
          </transitions>
          <javascript id="12385798481" label="Script 1">
            <code>// Apply some post-process to queried data

// Build per-space stats for the list
var spaceStat = &lt;spaceStat/&gt;
for each( var proposition in ctx.propositionStats.propositionRcp)
{
  var idSpace = parseInt(proposition.@['offerSpace-id'])
  var space = spaceStat.space.(parseInt(@id) == idSpace)
  if( space == undefined )
  {
    space = &lt;space id={idSpace} label={proposition.@spaceLabel} count0="0" count1="0" count2="0" count3="0" count4="0" count5="0" countPres="0" countGen="0"/&gt;
    spaceStat.appendChild(space)
  }
  var iStatus = parseInt(proposition.@status)
  var iCount = parseInt(proposition.@count)
  var sAttr = "count" + iStatus
  space.@[sAttr] = parseInt(space.@[sAttr]) + iCount
  if( iStatus &gt; 0 )
    space.@countPres = parseInt(space.@countPres) + iCount
  space.@countGen = parseInt(space.@countGen) + iCount
}
ctx.spaceStat = spaceStat</code>
          </javascript>
          <container colcount="2" id="123859448413" label="Container 1" type="container">
            <input id="123859448914" label="Period:" type="select">
              <storage mode="var" type="long">
                <options>
                  <option id="123859448915" label="3 hour view" value="10800"/>
                  <option id="123859448916" label="6 hour view" value="21600"/>
                  <option id="123859448917" label="12 hour view" value="43200"/>
                  <option id="123859448918" label="24 hour view" selected="1" value="86400"/>
                  <option id="123859448919" label="48 hour view" value="172800"/>
                </options>
                <variable xpath="period"/>
              </storage>
            </input>
            <link action="next" href="javascript:document.controller.submit('refresh');" id="123859478520" img="/xtk/img/refresh.png" label="Refresh" staticAlignment="label" target="_self" tooltip="Refresh page"/>
          </container>
          <container id="12882800591" label="Container 2" style="dottedContainer" type="container" width="100%">
            <table id="12882800622" label="Table 1" type="tabular">
              <data schema="temp:formContext" startPath="[spaceStat/space]">
                <group>
                  <columns>
                    <column id="12882800623" widthMode="max"/>
                    <column id="12882800624"/>
                    <column id="12882800625"/>
                    <column id="12882800626"/>
                    <column id="12882800627"/>
                    <column id="12882800628"/>
                    <column id="12882800629"/>
                    <column id="128828006210"/>
                  </columns>
                  <header id="128828006211">
                    <cell id="128828006212" label="Space">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell id="128828006213" label="Generated">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell id="128828006214" label="Presented">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell id="128828006215" label="Interesting">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell id="128828006216" label="Accepted">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell id="128828006217" label="Scheduled">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell id="128828006218" label="Rejected">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                    <cell id="128828006219" label="Conversion rate">
                      <style>
                        <font color="#666666"/>
                      </style>
                    </cell>
                  </header>
                  <row id="128828006220">
                    <cell expr="@label" id="128828006221"/>
                    <cell expr="@countGen" id="128828006222">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell expr="@countPres" id="128828006223">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell expr="@count2" id="128828006224">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell expr="@count3" id="128828006225">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell expr="@count4" id="128828006226">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell expr="@count5" id="128828006227">
                      <style decimalPlaces="0" format="number"/>
                    </cell>
                    <cell alias="expr1238581013" expr="percent(@count3, @countPres)" id="128828006228">
                      <style format="percentage"/>
                    </cell>
                  </row>
                  <footer id="128828006229">
                    <cell id="128828006230" label="Total:">
                      <style>
                        <font style="italic"/>
                      </style>
                    </cell>
                    <cell alias="expr1238756085" expr="sum(@countGen)" id="128828006231">
                      <style decimalPlaces="0" format="number">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1238581644" expr="sum(@countPres)" id="128828006232">
                      <style decimalPlaces="0" format="number">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1238581651" expr="sum(@count2)" id="128828006233">
                      <style decimalPlaces="0" format="number">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1238581658" expr="sum(@count3)" id="128828006234">
                      <style decimalPlaces="0" format="number">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1238755959" expr="sum(@count4)" id="128828006235">
                      <style decimalPlaces="0" format="number">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1238581665" expr="sum(@count5)" id="128828006236">
                      <style decimalPlaces="0" format="number">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                    <cell alias="expr1238581686" expr="percent(sum(@count3), sum(@countPres))" id="128828006237">
                      <style format="percentage">
                        <font color="#707070" style="bold"/>
                      </style>
                    </cell>
                  </footer>
                </group>
              </data>
            </table>
            <chart filledOpacity="100" height="300" id="128828006538" label="Chart 1" perspective="false" stacked="true" width="700" zoomOnWheel="false">
              <data dataSource="context" schema="temp:formContext" startPath="[propositionStats/propositionRcp]" variableCount="2">
                <variables>
                  <row>
                    <var expr="@date" label="Date"/>
                  </row>
                  <column>
                    <var expr="@statusLabel" label="Status"/>
                  </column>
                </variables>
                <statistic aggExpr="@count" alias="@expr1" decimalPlaces="0" format="number" label="Number of propositions" operator="sum"/>
              </data>
            </chart>
          </container>
        </page>
        <test label="Test" name="test" x="24" y="56">
          <transitions>
            <condition label="True" name="transition1" target="query2">
              <condition id="12385843393" leftExpr="@_reportContext" operator="=" rightExpr="'recentPropositionsOffer'"/>
            </condition>
            <default name="default" target="query"/>
          </transitions>
        </test>
        <script label="Script" name="script" x="304" y="48">
          <transitions>
            <next name="next" target="query"/>
          </transitions>
          <code>var aOfferLabel = []
var i = 0
for each( offer in ctx.offer.offer )
{
  i++
  if( i == 5 )
  {
    aOfferLabel[aOfferLabel.length - 1] += '...'
    break
  }
  aOfferLabel.push(String(offer.@label))
}
ctx.@windowTitle = $(offerTitle) + ' ' + aOfferLabel.join(', ')</code>
          <strings>
            <string id="offerTitle" value="Offer:"/>
          </strings>
        </script>
        <query contextFilter="true" label="Propositions" name="query" selectAll="false" x="176" y="168">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <source schema="nms:propositionRcp">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:propositionRcp">
              <condition boolOperator="AND" expr="@eventDate >= SubSeconds( GetDate() , $([vars/period]))" internalId="1238594678"/>
              <condition expr="@eventDate &lt;  GetDate()" internalId="1238597119"/>
            </where>
            <select>
              <node analyze="1" expr="@status" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@count" expr="countAll()" sort="true"/>
              <node alias="@date" expr="TruncDate(@eventDate, 1800)" groupBy="false" noSqlBind="true" sort="true"/>
              <node expr="[@offerSpace-id]" groupBy="false" noSqlBind="true" sort="true"/>
              <node alias="@spaceLabel" expr="[offerSpace/@label]" groupBy="false" noSqlBind="true" sort="true"/>
            </select>
            <orderBy displayOrder="Etat, countAll(), TruncDate(date de l'événement, 1800), Clé étrangère du lien 'Emplacement' (champ 'id'), Libellé (Emplacement)"/>
            <groupBy displayGroup="Etat, Clé étrangère du lien 'Emplacement' (champ 'id'), TruncDate(date de l'événement, 1800), Libellé (Emplacement)">
              <node expr="@status" noSqlBind="true"/>
              <node expr="[@offerSpace-id]" noSqlBind="true"/>
              <node alias="expr1238597759" expr="TruncDate(@eventDate, 1800)" noSqlBind="true"/>
              <node expr="[offerSpace/@label]" noSqlBind="true"/>
            </groupBy>
          </source>
          <output path="propositionStats"/>
        </query>
        <query contextFilter="false" label="Offer" name="query2" x="168" y="48">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="nms:offer">
            <where filterName="backGroundFilterFrm">
              <condition expr="@id IN ($(@_selection))" internalId="1238584743"/>
            </where>
            <select>
              <node expr="@label" sort="true"/>
            </select>
            <orderBy displayOrder="Libellé"/>
          </source>
          <limiter enabled="true" sizeValue="5"/>
          <output path="offer"/>
        </query>
      </activities>
      <desc>Real-time proposition tracking</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report appState="5" builtIn="1" category="Feedback" defaultLanguage="en" designLanguage="en" idCounter="42" img="xtk:report/thumbs/pie.png" internalName="opensByUserAgent" isGlobal="1" label="Breakdown of opens" modelName="fullReport" order="1" schema="nms:delivery">
      <properties renderingEngine="1" windowTitle="&lt;%= NL.XML.escapeAttribute(ctx.title) %>"/>
      <variables>
        <variable default="7" label="Period" type="long" xpath="period"/>
      </variables>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
  &lt;tr&gt;
  &lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
  &lt;td style="vertical-align: middle; padding: 1em;"&gt;
  &lt;p&gt;&amp;lt;%= $(line1) %&amp;gt;&lt;/p&gt;
  &lt;p&gt;&amp;lt;%= $(line2) %&amp;gt;&lt;/p&gt;
  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;</source>
          <strings>
            <string id="line1" value="An error occurred."/>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema="nms:delivery"/>
      </linkFilter>
      <visibleIf filteringSchema="nms:delivery">
        <condition expr="@messageType = 0" internalId="1373285133"/>
      </visibleIf>
      <activities>
        <start label="Start" name="start" x="32" y="136">
          <transitions>
            <next name="next" target="test"/>
          </transitions>
        </start>
        <page disableNextButton="true" disablePreviousButton="true" label="Breakdown of opens" name="page" x="1488" y="168">
          <transitions>
            <next label="refresh" name="next" target="test"/>
          </transitions>
          <container id="container1" label="Page" type="container">
            <javascript id="javascript32" label="drawgraph">
              <code>function capitaliseFirstLetter(string){
      return string.charAt(0).toUpperCase() + string.slice(1);
  }


  function drawGraph(chartId, query, node, attrib){

    //Table colors
    var colors={
        'OS X / IOS (APPLE)':'#3B87A2',
        'LINUX / UNIX' : '#A23B5E',
        'ANDROID' : '#8CA23B',
        'OTHER' : '#D4A5B4',
        'WINDOWS':'#FF8012',
        'PC' : '#FF8012',
        'IPAD' : '#A5C8D4',
        'IPHONE': '#3B87A2',
        'IPOD' : '#004A62',
        'BLACKBERRY' : '#FFCCA0',
        'NOKIA' : '#C75400',
        'GOOGLE CHROME' : '#8CA23B',
        'INTERNET EXPLORER' : '#FF8012',
        'MOZILLA' : '#A23B5E',
        'SAFARI' : '#3B87A2',
        'OPERA' : '#A5C8D4'
    };


  //Set a specific color to a result line
  for each( var res in ctx[query][node].cubeSchema_trackinglogrcp) {

     if (node === "browser"){
      var need = String(res.@browser_browser).toUpperCase();
      res.@browser_browser=capitaliseFirstLetter(String(res.@browser_browser));
      }
     if (node === "os"){
      var need = String(res.@os_family).toUpperCase();
      res.@os_family=capitaliseFirstLetter(String(res.@os_family));
     }

     if (node === "device"){
      var need = String(res.@device_device).toUpperCase();
      if (String(res.@device_device) === "pc"){
       res.@device_device="PC";
      }else{
     res.@device_device=capitaliseFirstLetter(String(res.@device_device));
     }
     }

      var color = colors[need] || "";
      res.@_color_ = color;
  }


  //Create "other" class
  var totalData = 0;

  for each (var x in ctx[query][node].cubeSchema_trackinglogrcp){
    totalData = totalData + parseInt(x.@totalRecipientOpen);
  }

  var other = 0;

  for each ( var x in ctx[query][node].cubeSchema_trackinglogrcp) {

   var percentage = parseInt (x.@totalRecipientOpen) * 100 / parseInt( totalData );
   if ( Math.round ( percentage ) &lt; 2 ) {
    other = other + parseInt ( x.@totalRecipientOpen);
    delete ctx[query][node].cubeSchema_trackinglogrcp[x.childIndex()];
   }

  }

  if ( other != 0 ){
    ctx[query][node].appendChild(&lt;cubeSchema_trackinglogrcp _color_={colors["OTHER"]} {attrib}="Other" totalRecipientOpen={other}/&gt;);
  }

   }</code>
            </javascript>
            <rendering cellSpacing="0"/>
            <container colcount="2" id="container31" label="Header" type="container">
              <visibleIf>
                <condition id="condition10" leftExpr="@_context" operator="!=" rightExpr="'selection'"/>
              </visibleIf>
              <rendering cellSpacing="15"/>
              <input id="input2" label="Parameters:" required="true" type="select">
                <storage mode="var" type="long" useLabelAsValue="false">
                  <options>
                    <option id="option3" label="Last 24 hours" value="1"/>
                    <option id="option4" label="Last 48 hours" value="2"/>
                    <option id="option5" label="Last 7 days" selected="1" value="7"/>
                    <option id="option6" label="Last 15 days" value="15"/>
                    <option id="option7" label="Last 30 days" value="30"/>
                    <option id="option8" label="Last 3 months" value="90"/>
                  </options>
                  <variable xpath="period"/>
                </storage>
                <rendering verticalAlign="middle"/>
              </input>
              <link action="transition" href="javascript:document.controller.submit('refresh');" id="link9" img="/xtk/img/refresh.png" label="Refresh" staticAlignment="label" target="_self" tooltip="Refresh chart" transition="next"/>
              <visibleIf>
                <condition id="13541185650" leftExpr="@_target" operator="!=" rightExpr="webToPdf"/>
              </visibleIf>
            </container>
            <container colcount="2" id="container11" label="Content" type="container">
              <rendering cellSpacing="15"/>
              <container id="container12" label="Operating systems - fix and mobile" type="container" useHtmlTitle="true">
                <javascript id="javascript33" label="allOS">
                  <code>var chartId = "allOs";
  var query = "query";
  drawGraph(chartId, query, 'os', 'os_family');</code>
                </javascript>
                <rendering cellSpacing="0" inlineStyle="float:left;margin:10px;"/>
                <chart height="300" id="chart24" label="Chart 1" legendPosition="bottom" type="pie" width="450">
                  <data dataSource="context" schema="temp:formContext" startPath="[query/os/cubeSchema_trackinglogrcp]">
                    <variables>
                      <row>
                        <var expr="@os_family" label="OS - Family of the operating system"/>
                      </row>
                    </variables>
                    <statistic aggExpr="@totalRecipientOpen" alias="@expr1" decimalPlaces="0" format="number" operator="sum"/>
                  </data>
                  <rendering inlineStyleValue="width:200px;height:200px"/>
                </chart>
              </container>
              <container id="container14" label="Operating systems - mobile only" type="container" useHtmlTitle="true">
                <javascript id="javascript34" label="mobileOS">
                  <code>var chartId = "mobileOs";
  var query = "query2";
  drawGraph(chartId, query, 'os', 'os_family');</code>
                </javascript>
                <rendering cellSpacing="0" inlineStyle="float:left;margin:10px;"/>
                <chart height="300" id="chart25" label="Chart 1" legendPosition="bottom" type="pie" width="450">
                  <data dataSource="context" schema="temp:formContext" startPath="[query2/os/cubeSchema_trackinglogrcp]">
                    <variables>
                      <row>
                        <var expr="@os_family" label="OS - Family of the operating system"/>
                      </row>
                    </variables>
                    <statistic aggExpr="@totalRecipientOpen" alias="@expr1" decimalPlaces="0" format="number" operator="sum"/>
                  </data>
                </chart>
              </container>
              <container id="container16" label="Devices - fix and mobile" type="container" useHtmlTitle="true">
                <javascript id="javascript35" label="allDevices">
                  <code>var chartId = "allDevices";
  var query = "query";
  drawGraph(chartId, query, 'device', 'device_device');</code>
                </javascript>
                <rendering cellSpacing="0" inlineStyle="float:left;margin:10px;"/>
                <chart height="300" id="chart26" label="Chart 1" legendPosition="bottom" type="pie" width="450">
                  <data dataSource="context" schema="temp:formContext" startPath="[query/device/cubeSchema_trackinglogrcp]">
                    <variables>
                      <row>
                        <var expr="@device_device" label="Device - Device"/>
                      </row>
                    </variables>
                    <statistic aggExpr="@totalRecipientOpen" alias="@expr1" decimalPlaces="0" format="number" operator="sum" useAsCounting="true"/>
                  </data>
                </chart>
              </container>
              <container id="container18" label="Devices - mobile only" type="container" useHtmlTitle="true">
                <javascript id="javascript36" label="mobileDevices">
                  <code>var chartId = "mobileDevices";
  var query = "query2";
  drawGraph(chartId, query, 'device', 'device_device');</code>
                </javascript>
                <rendering cellSpacing="0" inlineStyle="float:left;margin:10px;"/>
                <chart height="300" id="chart27" label="Chart 1" legendPosition="bottom" type="pie" width="450">
                  <data dataSource="context" schema="temp:formContext" startPath="[query2/device/cubeSchema_trackinglogrcp]">
                    <variables>
                      <row>
                        <var expr="@device_device" label="Device - Device"/>
                      </row>
                    </variables>
                    <statistic aggExpr="@totalRecipientOpen" alias="@expr1" decimalPlaces="0" format="number" operator="sum"/>
                  </data>
                </chart>
              </container>
              <container id="container20" label="Browsers - fix and mobile" type="container" useHtmlTitle="true">
                <javascript id="javascript37" label="allBrowsers">
                  <code>var chartId = "allBrowsers";
  var query = "query";
  drawGraph(chartId, query, 'browser', 'browser_browser');</code>
                </javascript>
                <rendering cellSpacing="0" inlineStyle="float:left;margin:10px;"/>
                <chart height="300" id="chart28" label="Chart 1" legendPosition="bottom" type="pie" width="450">
                  <data dataSource="context" schema="temp:formContext" startPath="[query/browser/cubeSchema_trackinglogrcp]">
                    <variables>
                      <row>
                        <var expr="@browser_browser" label="Browser - Browser"/>
                      </row>
                    </variables>
                    <statistic aggExpr="@totalRecipientOpen" alias="@expr1" decimalPlaces="0" format="number" operator="sum"/>
                  </data>
                </chart>
              </container>
              <container id="container22" label="Browsers - mobile only" type="container" useHtmlTitle="true">
                <rendering cellSpacing="0" inlineStyle="float:left;margin:10px;"/>
                <javascript id="javascript38" label="mobileBrowsers">
                  <code>var chartId = "mobileBrowsers";
  var query = "query2";
  drawGraph(chartId, query, 'browser', 'browser_browser');</code>
                </javascript>
                <chart height="300" id="chart40" label="Chart 1" legendPosition="bottom" type="pie" width="450">
                  <data dataSource="context" schema="temp:formContext" startPath="[query2/browser/cubeSchema_trackinglogrcp]">
                    <variables>
                      <row>
                        <var expr="@browser_browser" label="Browser - Browser"/>
                      </row>
                    </variables>
                    <statistic aggExpr="@totalRecipientOpen" alias="@expr1" operator="sum"/>
                  </data>
                </chart>
              </container>
            </container>
          </container>
        </page>
        <test label="Display context" name="test" x="168" y="128">
          <transitions>
            <condition label="Delivery" name="condition" target="query23">
              <condition boolOperator="and" id="13286218873" leftExpr="@_schema" operator="=" rightExpr="'nms:delivery'"/>
              <condition id="13286217341" leftExpr="@_context" operator="=" rightExpr="'selection'"/>
            </condition>
            <default label="Global" name="default" target="query"/>
          </transitions>
        </test>
        <script label="Script" name="script" x="1320" y="168">
          <transitions>
            <next name="next" target="page"/>
          </transitions>
          <code>if( ctx.delivery.@label != undefined &amp;&amp; ctx.@_schema == 'nms:delivery' )
  ctx.title = $(action) + ctx.delivery.@label
  else
  ctx.title = $(globalContextLabel)</code>
          <strings>
            <string id="globalContextLabel" value="Whole platform"/>
            <string id="action" value="Delivery: "/>
          </strings>
        </script>
        <query contextFilter="true" label="Delivery label" name="query23" x="312" y="264">
          <transitions>
            <next name="next" target="query3"/>
          </transitions>
          <source schema="nms:delivery">
            <where filterName="backGroundFilterFrm" filteringSchema="nms:delivery"/>
            <select>
              <node expr="@label" sort="true"/>
              <node expr="[scheduling/@contactDate]" sort="true"/>
            </select>
            <orderBy displayOrder="Libellé, Date de contact"/>
          </source>
          <limiter enabled="true" type="firstRow"/>
          <output path="/delivery"/>
        </query>
        <query contextFilter="false" cubeData-cs="Tracking logs (trackinglogrcp)" folderFilter="false" inputType="2" label="All OS" name="query3" selectAll="false" x="424" y="264">
          <transitions>
            <next name="next" target="query7"/>
          </transitions>
          <source schema="temp:cubeSchema_trackinglogrcp">
            <where filterName="backGroundFilterFrm">
              <condition expr="[delivery_delivery/@id] IN ($noescaping(@_selection))" internalId="1351516390"/>
            </where>
            <select>
              <node expr="@os_family" groupBy="1" sort="true"/>
              <node expr="@totalRecipientOpen" sort="true"/>
            </select>
            <orderBy displayOrder="OS - Famille du système d'exploitation">
              <node expr="@os_family" sort="true"/>
            </orderBy>
          </source>
          <limiter enabled="false"/>
          <output path="query/os"/>
          <cubeData _operation="none" name="trackinglogrcp"/>
        </query>
        <query contextFilter="false" cubeData-cs="Tracking logs (trackinglogrcp)" inputType="2" label="Mobile OS only" name="query2" selectAll="false" x="536" y="112">
          <transitions>
            <next name="next" target="query8"/>
          </transitions>
          <source schema="temp:cubeSchema_trackinglogrcp">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" expr="@date_time >= DaysAgo($([vars/period]))" internalId="1329141205"/>
              <condition expr="@device_isMobile = 'true'" internalId="1350564144"/>
            </where>
            <select>
              <node expr="@os_family" sort="true"/>
              <node expr="@totalRecipientOpen" sort="true"/>
            </select>
            <orderBy displayOrder="OS - Famille du système d'exploitation">
              <node expr="@os_family" sort="1"/>
            </orderBy>
            <groupBy displayGroup="Navigateur - Navigateur, Ouvertures, Appareil - Appareil"/>
          </source>
          <limiter enabled="false" sizeValue="100"/>
          <output path="query2/os"/>
          <cubeData _operation="none" name="trackinglogrcp"/>
        </query>
        <query contextFilter="false" cubeData-cs="Tracking logs (trackinglogrcp)" inputType="2" label="All OS" name="query" selectAll="false" x="416" y="112">
          <transitions>
            <next name="next" target="query2"/>
          </transitions>
          <source schema="temp:cubeSchema_trackinglogrcp">
            <where filterName="backGroundFilterFrm">
              <condition expr="@date_time > DaysAgo($([vars/period]))" internalId="1328717556"/>
            </where>
            <select>
              <node expr="@os_family" sort="true"/>
              <node expr="@totalRecipientOpen" sort="true"/>
            </select>
            <orderBy displayOrder="OS - Famille du système d'exploitation">
              <node expr="@os_family" sort="1"/>
            </orderBy>
            <groupBy displayGroup="Appareil - Appareil"/>
          </source>
          <limiter enabled="false"/>
          <output path="query/os"/>
          <cubeData _operation="none" name="trackinglogrcp"/>
        </query>
        <query contextFilter="false" cubeData-cs="Tracking logs (trackinglogrcp)" inputType="2" label="Mobile OS only" name="query7" selectAll="false" x="544" y="264">
          <transitions>
            <next name="next" target="query82"/>
          </transitions>
          <source schema="temp:cubeSchema_trackinglogrcp">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" expr="[delivery_delivery/@id] IN ($noescaping(@_selection))" internalId="1351516605"/>
              <condition expr="@device_isMobile = 'true'" internalId="1351517992"/>
            </where>
            <select>
              <node expr="@os_family" groupBy="1" sort="true"/>
              <node expr="@totalRecipientOpen" sort="true"/>
            </select>
            <orderBy displayOrder="OS - Famille du système d'exploitation">
              <node expr="@os_family" sort="1"/>
            </orderBy>
            <groupBy>
              <node expr="@browser_browser" noSqlBind="true"/>
            </groupBy>
          </source>
          <output path="query2/os"/>
          <cubeData _operation="none" name="trackinglogrcp"/>
        </query>
        <query contextFilter="false" cubeData-cs="Tracking logs (trackinglogrcp)" inputType="2" label="Mobile browsers only" name="query5" x="1032" y="112">
          <transitions>
            <next name="next" target="query9"/>
          </transitions>
          <source schema="temp:cubeSchema_trackinglogrcp">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" expr="@device_isMobile = 'true'" internalId="1351514494"/>
              <condition expr="@date_time > DaysAgo($([vars/period]))" internalId="1351515298"/>
            </where>
            <select>
              <node expr="@browser_browser" sort="true"/>
              <node expr="@totalRecipientOpen" sort="true"/>
            </select>
            <orderBy displayOrder="Navigateur - Navigateur">
              <node expr="@browser_browser" sort="1"/>
            </orderBy>
          </source>
          <output path="query2/browser"/>
          <cubeData _operation="none" name="trackinglogrcp"/>
        </query>
        <query contextFilter="false" cubeData-cs="Tracking logs (trackinglogrcp)" inputType="2" label="Mobile devices only" name="query4" x="840" y="112">
          <transitions>
            <next name="next" target="query5"/>
          </transitions>
          <source schema="temp:cubeSchema_trackinglogrcp">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" expr="@device_isMobile = 'true'" internalId="1351514475"/>
              <condition expr="@date_time > DaysAgo($([vars/period]))" internalId="1351515071"/>
            </where>
            <select>
              <node expr="@device_device" sort="true"/>
              <node expr="@totalRecipientOpen" sort="true"/>
            </select>
            <orderBy displayOrder="Appareil - Appareil, Ouvertures"/>
          </source>
          <output path="query2/device"/>
          <cubeData _operation="none" name="trackinglogrcp"/>
        </query>
        <query contextFilter="false" cubeData-cs="Tracking logs (trackinglogrcp)" inputType="2" label="All browsers" name="query9" x="1184" y="112">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="temp:cubeSchema_trackinglogrcp">
            <where filterName="backGroundFilterFrm">
              <condition expr="@date_time > DaysAgo($([vars/period]))" internalId="1351516027"/>
            </where>
            <select>
              <node expr="@totalRecipientOpen" sort="true"/>
              <node expr="@browser_browser" sort="true"/>
            </select>
            <orderBy displayOrder="Navigateur - Navigateur">
              <node expr="@browser_browser" sort="1"/>
            </orderBy>
          </source>
          <output path="query/browser"/>
          <cubeData _operation="none" name="trackinglogrcp"/>
        </query>
        <query contextFilter="false" cubeData-cs="Tracking logs (trackinglogrcp)" inputType="2" label="All devices" name="query8" x="696" y="112">
          <transitions>
            <next name="next" target="query4"/>
          </transitions>
          <source schema="temp:cubeSchema_trackinglogrcp">
            <where filterName="backGroundFilterFrm">
              <condition expr="@date_time > DaysAgo($([vars/period]))" internalId="1351515887"/>
            </where>
            <select>
              <node expr="@device_device" sort="true"/>
              <node expr="@totalRecipientOpen" sort="true"/>
            </select>
            <orderBy displayOrder="Appareil - Appareil">
              <node expr="@device_device" sort="1"/>
            </orderBy>
          </source>
          <output path="query/device"/>
          <cubeData _operation="none" name="trackinglogrcp"/>
        </query>
        <query contextFilter="false" cubeData-cs="Tracking logs (trackinglogrcp)" inputType="2" label="All browsers" name="query92" x="1192" y="264">
          <transitions>
            <next name="next" target="script"/>
          </transitions>
          <source schema="temp:cubeSchema_trackinglogrcp">
            <where filterName="backGroundFilterFrm">
              <condition expr="[delivery_delivery/@id] IN ($noescaping(@_selection))" internalId="1351516563"/>
            </where>
            <select>
              <node expr="@browser_browser" groupBy="1" sort="true"/>
              <node expr="@totalRecipientOpen" sort="true"/>
            </select>
            <orderBy displayOrder="Ouvertures, Navigateur - Navigateur"/>
          </source>
          <output path="query/browser"/>
          <cubeData _operation="none" name="trackinglogrcp"/>
        </query>
        <query contextFilter="false" cubeData-cs="Tracking logs (trackinglogrcp)" inputType="2" label="All devices" name="query82" x="712" y="264">
          <transitions>
            <next name="next" target="query42"/>
          </transitions>
          <source schema="temp:cubeSchema_trackinglogrcp">
            <where filterName="backGroundFilterFrm">
              <condition expr="[delivery_delivery/@id] IN ($noescaping(@_selection))" internalId="1351516447"/>
            </where>
            <select>
              <node expr="@device_device" groupBy="1" sort="true"/>
              <node expr="@totalRecipientOpen" sort="true"/>
            </select>
            <orderBy displayOrder="Ouvertures, Appareil - Appareil"/>
          </source>
          <output path="query/device"/>
          <cubeData _operation="none" name="trackinglogrcp"/>
        </query>
        <query contextFilter="false" cubeData-cs="Tracking logs (trackinglogrcp)" inputType="2" label="Mobile browsers only" name="query52" x="1040" y="264">
          <transitions>
            <next name="next" target="query92"/>
          </transitions>
          <source schema="temp:cubeSchema_trackinglogrcp">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" expr="@device_isMobile = 'true'" internalId="1351514494"/>
              <condition expr="[delivery_delivery/@id] IN ($noescaping(@_selection))" internalId="1351516533"/>
            </where>
            <select>
              <node expr="@browser_browser" groupBy="1" sort="true"/>
              <node expr="@totalRecipientOpen" sort="true"/>
            </select>
            <orderBy displayOrder="Navigateur - Navigateur">
              <node expr="@browser_browser" sort="1"/>
            </orderBy>
          </source>
          <output path="query2/browser"/>
          <cubeData _operation="none" name="trackinglogrcp"/>
        </query>
        <query contextFilter="false" cubeData-cs="Tracking logs (trackinglogrcp)" inputType="2" label="Mobile devices only" name="query42" x="856" y="264">
          <transitions>
            <next name="next" target="query52"/>
          </transitions>
          <source schema="temp:cubeSchema_trackinglogrcp">
            <where filterName="backGroundFilterFrm">
              <condition boolOperator="AND" expr="@device_isMobile = 'true'" internalId="1351514475"/>
              <condition expr="[delivery_delivery/@id] IN ($noescaping(@_selection))" internalId="1351516494"/>
            </where>
            <select>
              <node expr="@device_device" groupBy="1" sort="true"/>
              <node expr="@totalRecipientOpen" sort="true"/>
            </select>
            <orderBy displayOrder="Ouvertures, Appareil - Appareil"/>
          </source>
          <output path="query2/device"/>
          <cubeData _operation="none" name="trackinglogrcp"/>
        </query>
      </activities>
      <desc>Opens broken down according to user software</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReport"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report builtIn="1" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/descriptiveAnalysis.png" internalName="qualitative" isGlobal="0" isModel="1" label="Qualitative distribution" schema="" type="descriptiveAnalysis">
      <properties renderingEngine="1" windowTitle=" "/>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&amp;lt;%= $(line1) %&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;%= $(line2) %&amp;gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
            <string id="line1" value="An error occurred."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema=""/>
      </linkFilter>
      <visibleIf filteringSchema="">
        <condition expr="$(locationName) = 'descriptiveAnalysis'" internalId="1"/>
      </visibleIf>
      <activities>
        <page label="Descriptive analysis" name="page">
          <analysis id="12378077030">
            <table displayStatLabel="true" id="12378077032" label="Table 1"/>
            <chart id="12378077031" innerPieRadius="0.6" label="Chart 1"/>
            <data>
              <statistic alias="@count"/>
            </data>
          </analysis>
          <transitions>
            <next label="Next" name="next"/>
          </transitions>
        </page>
      </activities>
      <desc>Distribution of n qualitative variables</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReportModel"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report builtIn="1" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/descriptiveAnalysis.png" internalName="quantitative" isGlobal="0" isModel="1" label="Quantitative distribution" schema="" type="descriptiveAnalysis">
      <properties renderingEngine="1" windowTitle=" "/>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&amp;lt;%= $(line1) %&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;%= $(line2) %&amp;gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
            <string id="line1" value="An error occurred."/>
          </strings>
        </endPage>
      </errorPage>
      <linkFilter>
        <where filteringSchema=""/>
      </linkFilter>
      <visibleIf filteringSchema="">
        <condition expr="$(locationName) = 'descriptiveAnalysis'" internalId="1"/>
      </visibleIf>
      <activities>
        <page colcount="6" label="Descriptive analysis" name="page">
          <analysis hasChart="false" id="12828163450" model="quantitative">
            <data>
              <statistic alias="@count"/>
              <statistic alias="@missingCount" label="Nb. of missing values" operator="missingCount"/>
              <statistic alias="@min" label="Minimum" operator="min"/>
              <statistic alias="@max" label="Maximum" operator="max"/>
              <statistic alias="@avg" label="Average" operator="avg"/>
              <statistic alias="@stddev" label="Standard deviation" operator="stddev"/>
              <statistic alias="@sum" label="Sum" operator="sum"/>
              <statistic alias="@decile" label="Deciles" operator="decile"/>
              <statistic alias="@distribution" label="Distribution" operator="distribution">
                <percentile id="12828163452" threshold="0.01"/>
                <percentile id="12828163453" threshold="0.05"/>
                <percentile id="12828163454" threshold="0.10"/>
                <percentile id="12828163455" threshold="0.25"/>
                <percentile id="12828163456" threshold="0.50"/>
                <percentile id="12828163457" threshold="0.75"/>
                <percentile id="12828163458" threshold="0.90"/>
                <percentile id="12828163459" threshold="0.95"/>
                <percentile id="128281634510" threshold="0.99"/>
              </statistic>
            </data>
            <table id="12828163451" label="Table 1" type="distribution"/>
          </analysis>
          <transitions>
            <next label="Next" name="next"/>
          </transitions>
        </page>
      </activities>
      <desc>Quantitative distribution</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReportModel"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
    </report>
    <report builtIn="1" defaultLanguage="en" designLanguage="en" img="xtk:report/thumbs/default.png" internalName="fullReport" isGlobal="1" isModel="1" label="Extended report" schema="">
      <properties renderingEngine="1"/>
      <errorPage>
        <endPage>
          <source>&lt;table style="color: red;"&gt;
&lt;tr&gt;
&lt;td style="vertical-align: middle; padding-left: 0.5em;"&gt;&lt;img src="/xtk/img/error.png"/&gt;&lt;/td&gt;
&lt;td style="vertical-align: middle; padding: 1em;"&gt;
&lt;p&gt;&amp;lt;%= $(line1) %&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;%= $(line2) %&amp;gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</source>
          <strings>
            <string id="line2" value="If this problem persists, please contact your Adobe Campaign administrator."/>
            <string id="line1" value="An error occurred."/>
          </strings>
        </endPage>
      </errorPage>
      <desc>Empty template to create a new report</desc>
      <defaultDictionary _operation="none" name="xtkUserDictionary"/>
      <folder _operation="none" name="xtkReportModel"/>
      <rendering _operation="none" internalName="defaultReportRendering"/>
      <folderProcess _operation="none" name="xtkReport"/>
      <linkFilter>
        <where filteringSchema=""/>
      </linkFilter>
      <visibleIf filteringSchema=""/>
    </report>
  </entities>
  <entities schema="xtk:specFile">
    <specFile img="xtk:installedPackage.png" includeDefaultValues="false" includeInstallScript="false" includeSpec="true" label="Admin Package" name="campaignAdminPKG" namespace="vt" type="2">
      <definition automaticDefinition="true" id="nms:calendar" lineCountMax="500" schema="nms:calendar">
        <where displayFilter="namespace not in ('xtk', 'nl', 'nms', 'ncm', 'crm')">
          <condition boolOperator="AND" expr="@namespace NOT IN ('xtk','nl','nms','ncm','crm')" internalId="1"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:country" lineCountMax="500" schema="nms:country">
        <where displayFilter="(ISO A2 code != '' and ISO A3 code != '')">
          <condition boolOperator="AND" expr="(@isoA2 != '' AND @isoA3 != '')" internalId="2"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:delivery" lineCountMax="500" schema="nms:delivery">
        <where displayFilter="(template and primary key != 0) and (foreign key of link 'Parent delivery' (field 'id') != 0)">
          <condition boolOperator="AND" expr="(@isModel = 1 AND @id != 0)" internalId="3"/>
          <condition boolOperator="AND NOT" expr="([@proofedDelivery-id]!=0)" internalId="4"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:deliveryMapping" lineCountMax="500" schema="nms:deliveryMapping">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="5"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:extAccount" lineCountMax="500" schema="nms:extAccount">
        <where displayFilter="(primary key != 0 and exported automatically)">
          <condition boolOperator="AND" expr="(@id != 0 AND @packageAutoExport=1)" internalId="6"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:includeView" lineCountMax="500" schema="nms:includeView">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="7"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:localOrgUnit" lineCountMax="500" schema="nms:localOrgUnit">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="8"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:offer" lineCountMax="500" schema="nms:offer">
        <where displayFilter="(primary key != 0 and template)">
          <condition boolOperator="AND" expr="(@id != 0 AND @isModel = 1)" internalId="9"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:offerEnv" lineCountMax="500" schema="nms:offerEnv">
        <where displayFilter="primary key != 0 and (foreign key of link 'Parent' (field 'id') != 0)">
          <condition boolOperator="AND" expr="@id != 0" internalId="10"/>
          <condition boolOperator="AND NOT" expr="([@parent-id]!=0)" internalId="11"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:offerSpace" lineCountMax="500" schema="nms:offerSpace">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="12"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:ruleSet" lineCountMax="500" schema="nms:ruleSet">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="13"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:state" lineCountMax="500" schema="nms:state">
        <where displayFilter="ISO code != ''">
          <condition boolOperator="AND" expr="@code!= ''" internalId="14"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:typology" lineCountMax="500" schema="nms:typology">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="15"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:typologyRule" lineCountMax="500" schema="nms:typologyRule">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="16"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:webApp" lineCountMax="500" schema="nms:webApp">
        <where displayFilter="(primary key != 0 and template)">
          <condition boolOperator="AND" expr="(@id != 0 ANd @isModel = 1)" internalId="17"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="nms:webForm" lineCountMax="500" schema="nms:webForm">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="18"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="xtk:dataTransfer" lineCountMax="500" schema="xtk:dataTransfer">
        <where displayFilter="(primary key != 0 and template)">
          <condition boolOperator="AND" expr="(@id != 0 AND @isModel = 1)" internalId="19"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="xtk:enum" lineCountMax="500" schema="xtk:enum">
        <where displayFilter="(primary key != 0 and exported automatically)">
          <condition boolOperator="AND" expr="(@id != 0 AND @packageAutoExport=1)" internalId="20"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="xtk:formRendering" lineCountMax="500" schema="xtk:formRendering">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="21"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="xtk:funcList" lineCountMax="500" schema="xtk:funcList">
        <where displayFilter="namespace not in ('xtk', 'nl', 'nms', 'ncm', 'crm')">
          <condition boolOperator="AND" expr="@namespace NOT IN ('xtk','nl','nms','ncm','crm')" internalId="22"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="xtk:group" lineCountMax="500" schema="xtk:group">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="23"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="xtk:job" lineCountMax="500" schema="xtk:job">
        <where displayFilter="(primary key != 0 and template)">
          <condition boolOperator="AND" expr="(@id != 0 AND @isModel = 1)" internalId="24"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="xtk:olapCube" lineCountMax="500" schema="xtk:olapCube">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="25"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="xtk:operator" lineCountMax="500" schema="xtk:operator">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="26"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="xtk:option" lineCountMax="500" schema="xtk:option">
        <where displayFilter="(option type equal to 'User' and primary key != 0)">
          <condition boolOperator="AND" expr="(@type = 0 AND @id != 0)" internalId="27"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="xtk:queryFilter" lineCountMax="500" schema="xtk:queryFilter">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="28"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="xtk:report" lineCountMax="500" schema="xtk:report">
        <where displayFilter="primary key != 0">
          <condition boolOperator="AND" expr="@id != 0" internalId="29"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="xtk:workflow" lineCountMax="500" schema="xtk:workflow">
        <where displayFilter="(primary key != 0 and template) and (foreign key of link 'Aggregate' (field 'id') != 0)">
          <condition boolOperator="AND" expr="(@id != 0 AND @isModel = 1)" internalId="30"/>
          <condition boolOperator="AND NOT" expr="([@aggregate-id]!=0)" internalId="31"/>
        </where>
      </definition>
      <definition automaticDefinition="true" id="xtk:xslt" lineCountMax="500" schema="xtk:xslt">
        <where displayFilter="namespace not in ('xtk', 'nl', 'nms', 'ncm', 'crm')">
          <condition boolOperator="AND" expr="@namespace NOT IN ('xtk','nl','nms','ncm','crm')" internalId="32"/>
        </where>
      </definition>
    </specFile>
  </entities>
</package>